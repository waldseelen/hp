
{% extends "base/base.html" %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "CodePlay - Programming Playground" %}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/playground.css' %}">
{% endblock %}

{% block content %}
<section class="page-section">
  <div class="ds-container playground-hero">
    <div class="playground-hero__text">
      <div class="playground-pill-row">
        <span class="playground-pill">{% trans "TarayÄ±cÄ±da AnÄ±nda Kodla" %}</span>
        <span class="playground-pill">{% trans "AI destekli editÃ¶r" %}</span>
      </div>
      <h1 class="playground-hero__title">
        <span class="text-gradient-primary">Code</span>
        <span class="text-gradient-accent">Play</span>
      </h1>
      <p class="playground-hero__tagline">{% trans "Instagram kadar basit, VS Code kadar gÃ¼Ã§lÃ¼" %}</p>
      <p class="playground-hero__description">{% trans "Kod yaz, Enter'a bas, sonucu gÃ¶r. Kurulum yok, sadece tarayÄ±cÄ±da programlama keyfi." %}</p>
      <div class="playground-hero__actions">
        <a href="{% url 'playground:editor' %}" class="playground-btn playground-btn-run">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
          </svg>
          {% trans "Hemen BaÅŸla" %}
        </a>
        <a href="{% url 'playground:gallery' %}" class="playground-btn playground-btn-share">
          {% trans "Galeriyi KeÅŸfet" %}
        </a>
      </div>
      <p class="playground-hero__hint">{% trans "Kurulum olmadan saniyeler iÃ§inde Ã¼ret." %}</p>
      <div class="playground-hero__stats">
        <div class="playground-stat">
          <span class="playground-stat__value">120K+</span>
          <span class="playground-stat__label">{% trans "Ã‡alÄ±ÅŸtÄ±rÄ±lan Kod" %}</span>
        </div>
        <div class="playground-stat">
          <span class="playground-stat__value">25+</span>
          <span class="playground-stat__label">{% trans "Desteklenen Dil" %}</span>
        </div>
        <div class="playground-stat">
          <span class="playground-stat__value">7/24</span>
          <span class="playground-stat__label">{% trans "HazÄ±r Bulut EditÃ¶r" %}</span>
        </div>
      </div>
    </div>
    <div class="playground-hero__media">
      <div class="playground-code-card">
        <div class="playground-code-card__toolbar">
          <div class="playground-code-dots">
            <span class="playground-code-dot"></span>
            <span class="playground-code-dot"></span>
            <span class="playground-code-dot"></span>
          </div>
          <span>playground.py</span>
        </div>
        <div class="playground-code-body">
          <div class="playground-code-line">
            <span>1</span>
            <span>from codeplay import Editor</span>
          </div>
          <div class="playground-code-line">
            <span>2</span>
            <span>editor = Editor(language="python")</span>
          </div>
          <div class="playground-code-line is-highlight">
            <span>3</span>
            <span>result = editor.run("print('Hello, CodePlay!')")</span>
          </div>
          <div class="playground-code-line">
            <span>4</span>
            <span>print(result.output)</span>
          </div>
          <div class="playground-code-line">
            <span>5</span>
            <span># Saniyeler iÃ§inde paylaÅŸ</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="page-section">
  <div class="ds-container">
    <header class="playground-section__header">
      <span class="playground-section__eyebrow">{% trans "NasÄ±l Ã§alÄ±ÅŸÄ±r?" %}</span>
      <h2 class="playground-section__title">{% trans "Dakikalar iÃ§inde Ã¼retime hazÄ±r olun" %}</h2>
      <p class="playground-section__subtitle">{% trans "CodePlay, fikirlerinizi hÄ±zlÄ±ca hayata geÃ§irmeniz iÃ§in tasarlandÄ±." %}</p>
    </header>
    <div class="playground-card-grid playground-card-grid--three">
      <article class="playground-card" data-animate-card>
        <span class="playground-card__eyebrow">01</span>
        <h3 class="playground-card__title">{% trans "Dilini seÃ§" %}</h3>
        <p class="playground-card__text">{% trans "Desteklenen dil ve ÅŸablonlardan sana en uygununu belirle." %}</p>
      </article>
      <article class="playground-card" data-animate-card>
        <span class="playground-card__eyebrow">02</span>
        <h3 class="playground-card__title">{% trans "Kodunu yaz" %}</h3>
        <p class="playground-card__text">{% trans "AI yardÄ±mcÄ±sÄ± ile Ã¼retkenliÄŸini artÄ±r." %}</p>
      </article>
      <article class="playground-card" data-animate-card>
        <span class="playground-card__eyebrow">03</span>
        <h3 class="playground-card__title">{% trans "Sonucu paylaÅŸ" %}</h3>
        <p class="playground-card__text">{% trans "Tek tÄ±kla Ã§Ä±ktÄ±nÄ± kaydet ve toplulukla paylaÅŸ." %}</p>
      </article>
    </div>
  </div>
</section>

{% if templates %}
<section class="page-section">
  <div class="ds-container">
    <header class="playground-section__header">
      <span class="playground-section__eyebrow">{% trans "Åablonlar" %}</span>
      <h2 class="playground-section__title">{% trans "PopÃ¼ler baÅŸlangÄ±Ã§ ÅŸablonlarÄ±" %}</h2>
      <p class="playground-section__subtitle">{% trans "Tek tÄ±kla editÃ¶re aktarabileceÄŸin hazÄ±r kod setleri." %}</p>
    </header>
    <div class="playground-card-grid playground-card-grid--three">
      {% for template in templates %}
      <article class="playground-card" data-animate-card>
        <div class="playground-template">
          <span class="playground-template__emoji">{{ template.emoji }}</span>
          <div>
            <h3 class="playground-card__title">{{ template.name }}</h3>
            <span class="playground-template__language">{{ template.language.icon }} {{ template.language.name }}</span>
          </div>
        </div>
        <p class="playground-card__text">{{ template.description }}</p>
        <button onclick="loadTemplate({{ template.id }})" class="playground-btn playground-template__action">
          {% trans "Åablonu kullan" %}
        </button>
      </article>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}

<section class="page-section">
  <div class="ds-container">
    <header class="playground-section__header">
      <span class="playground-section__eyebrow">{% trans "Ã–zellikler" %}</span>
      <h2 class="playground-section__title">{% trans "Neden CodePlay?" %}</h2>
      <p class="playground-section__subtitle">{% trans "Modern araÃ§larla Ã¼retken kodlama deneyimi." %}</p>
    </header>
    <div class="playground-card-grid playground-card-grid--four">
      <article class="playground-card" data-animate-card>
        <div class="playground-feature__icon">âš¡</div>
        <h3 class="playground-card__title">{% trans "AnÄ±nda Ã§alÄ±ÅŸÄ±r" %}</h3>
        <p class="playground-card__text">{% trans "Kod yaz, Enter'a bas, sonucu hemen gÃ¶r." %}</p>
      </article>
      <article class="playground-card" data-animate-card>
        <div class="playground-feature__icon">â˜ï¸</div>
        <h3 class="playground-card__title">{% trans "Kurulum yok" %}</h3>
        <p class="playground-card__text">{% trans "TarayÄ±cÄ±nda Ã§alÄ±ÅŸÄ±r, hiÃ§bir ÅŸey yÃ¼klemez." %}</p>
      </article>
      <article class="playground-card" data-animate-card>
        <div class="playground-feature__icon">ğŸ¤–</div>
        <h3 class="playground-card__title">{% trans "AI yardÄ±mcÄ±sÄ±" %}</h3>
        <p class="playground-card__text">{% trans "AkÄ±llÄ± kod tamamlama ve Ã¶neriler." %}</p>
      </article>
      <article class="playground-card" data-animate-card>
        <div class="playground-feature__icon">ğŸ”—</div>
        <h3 class="playground-card__title">{% trans "Kolay paylaÅŸÄ±m" %}</h3>
        <p class="playground-card__text">{% trans "Kodunu bir baÄŸlantÄ±yla herkesle paylaÅŸ." %}</p>
      </article>
    </div>
  </div>
</section>

{% if recent_snippets %}
<section class="page-section">
  <div class="ds-container">
    <header class="playground-section__header">
      <span class="playground-section__eyebrow">{% trans "Topluluk" %}</span>
      <h2 class="playground-section__title">{% trans "Son paylaÅŸÄ±lanlar" %}</h2>
      <p class="playground-section__subtitle">{% trans "EditÃ¶rden en yeni projeleri keÅŸfedin." %}</p>
    </header>
    <div class="playground-card-grid playground-card-grid--three">
      {% for snippet in recent_snippets %}
      <a href="{% url 'playground:snippet_detail' snippet.id %}" class="playground-card playground-snippet" data-animate-card>
        <div class="playground-snippet__meta">
          <span>{{ snippet.language.icon }} {{ snippet.language.name }}</span>
          <span>{% blocktrans with time=snippet.created_at|timesince %}{{ time }} Ã¶nce{% endblocktrans %}</span>
        </div>
        <h3 class="playground-card__title">{{ snippet.title|default:"Untitled Code" }}</h3>
        <div class="playground-snippet__stats">
          <span>ğŸ‘ï¸ {{ snippet.views }}</span>
          <span>â¤ï¸ {{ snippet.likes }}</span>
        </div>
      </a>
      {% endfor %}
    </div>
    <div class="text-center" style="margin-top: var(--space-6);">
      <a href="{% url 'playground:gallery' %}" class="playground-btn playground-btn-save">
        {% trans "TÃ¼mÃ¼nÃ¼ gÃ¶r" %}
      </a>
    </div>
  </div>
</section>
{% endif %}

<section class="page-section">
  <div class="ds-container playground-cta" data-animate-card>
    <div class="playground-cta__copy">
      <span class="playground-section__eyebrow">{% trans "HazÄ±r mÄ±sÄ±n?" %}</span>
      <h2 class="playground-cta__title">{% trans "CodePlay ile dakikalar iÃ§inde demo hazÄ±rla" %}</h2>
      <p class="playground-cta__description">{% trans "EditÃ¶rde kodunu yaz, kaydet ve galeride ilham ol." %}</p>
    </div>
    <div class="playground-cta__actions">
      <a href="{% url 'playground:editor' %}" class="playground-btn playground-btn-run">
        {% trans "EditÃ¶re git" %}
      </a>
      <a href="{% url 'playground:gallery' %}" class="playground-btn playground-btn-share">
        {% trans "Galeriyi keÅŸfet" %}
      </a>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
(function () {
  const cards = document.querySelectorAll('[data-animate-card]');
  if (!('IntersectionObserver' in window)) {
    cards.forEach((card) => card.classList.add('is-visible'));
    return;
  }
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        observer.unobserve(entry.target);
      }
    });
  }, { rootMargin: '0px 0px -10% 0px', threshold: 0.2 });
  cards.forEach((card) => {
    card.classList.add('will-animate');
    observer.observe(card);
  });
})();

function loadTemplate(templateId) {
  window.location.href = `{% url 'playground:editor' %}?template=${templateId}`;
}
</script>
{% endblock %}
