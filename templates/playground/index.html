{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "CodePlay - Programming Playground" %}{% endblock %}

{% block content %}
<section class="section hero-section">
  <div class="container hero-section__inner">
    <div>
      <span class="eyebrow">{% trans "TarayÄ±cÄ±da anÄ±nda kodla" %}</span>
      <h1 class="hero-title">
        <span class="text-gradient-primary">Code</span>
        <span class="text-gradient-accent">Play</span>
      </h1>
      <p class="hero-lead">{% trans "Instagram kadar basit, VS Code kadar gÃ¼Ã§lÃ¼" %}</p>
      <div class="hero-bio">
        {% trans "Kodunu yaz, Enter'a bas ve sonucu anÄ±nda gÃ¶r. Kurulum yok, yalnÄ±zca tarayÄ±cÄ±dan kodlayarak Ã¼retmenin Ã¶zgÃ¼rlÃ¼ÄŸÃ¼." %}
      </div>
      <div class="button-row hero-actions">
        <a href="{% url 'playground:editor' %}" class="btn btn--primary" data-cursor-interactive>
          {% trans "Hemen BaÅŸla" %}
        </a>
        <a href="{% url 'playground:gallery' %}" class="btn btn--ghost" data-cursor-interactive>
          {% trans "Galeriyi KeÅŸfet" %}
        </a>
      </div>
      <div class="stat-grid" data-animate>
        <div class="stat-card">
          <span class="stat-value">120K+</span>
          <span class="stat-label">{% trans "Ã‡alÄ±ÅŸtÄ±rÄ±lan Kod" %}</span>
        </div>
        <div class="stat-card">
          <span class="stat-value">25+</span>
          <span class="stat-label">{% trans "Desteklenen Dil" %}</span>
        </div>
        <div class="stat-card">
          <span class="stat-value">7/24</span>
          <span class="stat-label">{% trans "HazÄ±r Bulut EditÃ¶r" %}</span>
        </div>
      </div>
    </div>
    <div class="feature-grid__visual">
      <div class="playground-visual" aria-hidden="true">
        <svg viewBox="0 0 320 220" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="playground-illustration-title">
          <title id="playground-illustration-title">{% trans "CodePlay editÃ¶r Ã¶nizlemesi" %}</title>
          <defs>
            <linearGradient id="playgroundGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="#6366f1" stop-opacity="0.45" />
              <stop offset="100%" stop-color="#22d3ee" stop-opacity="0.65" />
            </linearGradient>
          </defs>
          <rect x="12" y="16" width="296" height="188" rx="18" fill="rgba(15,23,42,0.9)" stroke="rgba(99,102,241,0.35)" stroke-width="2" />
          <rect x="12" y="16" width="296" height="44" rx="18" fill="rgba(99,102,241,0.18)" />
          <circle cx="40" cy="38" r="6" fill="#ef4444" />
          <circle cx="58" cy="38" r="6" fill="#f59e0b" />
          <circle cx="76" cy="38" r="6" fill="#10b981" />
          <rect x="36" y="76" width="248" height="18" rx="6" fill="rgba(148,163,184,0.28)" />
          <rect x="36" y="106" width="200" height="18" rx="6" fill="url(#playgroundGradient)" />
          <rect x="36" y="136" width="164" height="18" rx="6" fill="rgba(148,163,184,0.2)" />
          <rect x="36" y="166" width="220" height="18" rx="6" fill="rgba(99,102,241,0.25)" />
          <rect x="214" y="98" width="72" height="72" rx="12" fill="rgba(34,211,238,0.18)" stroke="rgba(34,211,238,0.35)" stroke-width="2" />
          <path d="M240 126l16 16-16 16" stroke="rgba(34,211,238,0.8)" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </div>
    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    <header class="section__header align-start">
      <span class="eyebrow">{% trans "NasÄ±l Ã§alÄ±ÅŸÄ±r" %}</span>
      <h2 class="section-title">{% trans "Dakikalar iÃ§inde Ã¼retime hazÄ±r ol" %}</h2>
      <p class="section-lead">{% trans "Tek yapmanÄ±z gereken dili seÃ§mek, kodu yazmak ve sonucu paylaÅŸmak." %}</p>
    </header>
    <div class="tile-grid tile-grid--three">
      <article class="card card--step" data-animate-card>
        <span class="step-number">01</span>
        <h3 class="card__title">{% trans "Dilini seÃ§" %}</h3>
        <p class="card__text">{% trans "HazÄ±r ÅŸablonlar arasÄ±ndan projen iÃ§in en uygun temeli belirle." %}</p>
        <ul class="card__list">
          <li><span>Python, JavaScript, Go, Rust...</span></li>
          <li><span>{% trans "Framework ÅŸablonlarÄ±" %}</span></li>
        </ul>
      </article>
      <article class="card card--step" data-animate-card>
        <span class="step-number">02</span>
        <h3 class="card__title">{% trans "Kodunu yaz" %}</h3>
        <p class="card__text">{% trans "AI destekli Ã¶nerilerle hÄ±zlÄ±ca deney yap; anlÄ±k geri bildirim al." %}</p>
        <ul class="card__list">
          <li><span>{% trans "Otomatik formatlama" %}</span></li>
          <li><span>{% trans "CanlÄ± Ã§Ä±ktÄ± penceresi" %}</span></li>
        </ul>
      </article>
      <article class="card card--step" data-animate-card>
        <span class="step-number">03</span>
        <h3 class="card__title">{% trans "PaylaÅŸ ve iterasyon yap" %}</h3>
        <p class="card__text">{% trans "Tek tÄ±kla Ã§Ä±ktÄ±yÄ± kaydet, baÄŸlantÄ± paylaÅŸ ve geri bildirim topla." %}</p>
        <ul class="card__list">
          <li><span>{% trans "Galeriye gÃ¶nder" %}</span></li>
          <li><span>{% trans "TakÄ±mla paylaÅŸ" %}</span></li>
        </ul>
      </article>
    </div>
  </div>
</section>

{% if templates %}
<section class="section section--tint">
  <div class="container">
    <header class="section__header align-start">
      <span class="eyebrow">{% trans "Åablonlar" %}</span>
      <h2 class="section-title">{% trans "HazÄ±r baÅŸlangÄ±Ã§ paketleri" %}</h2>
      <p class="section-lead">{% trans "Favori dilini seÃ§ ve dÃ¼zenleyiciye saniyeler iÃ§inde aktar." %}</p>
    </header>
    <div class="tile-grid tile-grid--three">
      {% for template in templates %}
      <article class="card card--template" data-animate-card>
        <div class="template-meta">
          <span class="template-emoji">{{ template.emoji }}</span>
          <div>
            <h3 class="card__title">{{ template.name }}</h3>
            <span class="template-language">{{ template.language.icon }} {{ template.language.name }}</span>
          </div>
        </div>
        <p class="card__text">{{ template.description }}</p>
        <div class="card__footer">
          <button onclick="loadTemplate({{ template.id }})" class="btn btn--secondary" data-cursor-interactive>
            {% trans "Åablonu kullan" %}
          </button>
        </div>
      </article>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}

<section class="section">
  <div class="container">
    <header class="section__header align-start">
      <span class="eyebrow">{% trans "Ã–ne Ã§Ä±kan Ã¶zellikler" %}</span>
      <h2 class="section-title">{% trans "Neden CodePlay?" %}</h2>
      <p class="section-lead">{% trans "Modern araÃ§lar, kesintisiz deneyim ve paylaÅŸÄ±mÄ± kolaylaÅŸtÄ±ran akÄ±ÅŸ." %}</p>
    </header>
    <div class="tile-grid tile-grid--two">
      <article class="card" data-animate-card>
        <div class="card__icon card__icon--blue">âš¡</div>
        <h3 class="card__title">{% trans "AnÄ±nda sonuÃ§" %}</h3>
        <p class="card__text">{% trans "Kodunuzu Ã§alÄ±ÅŸtÄ±rÄ±r Ã§alÄ±ÅŸtÄ±rmaz Ã§Ä±ktÄ±yÄ± gÃ¶rÃ¼n; geri bildirim dÃ¶ngÃ¼sÃ¼nÃ¼ hÄ±zlandÄ±rÄ±n." %}</p>
      </article>
      <article class="card" data-animate-card>
        <div class="card__icon card__icon--green">ğŸ¤</div>
        <h3 class="card__title">{% trans "GerÃ§ek zamanlÄ± paylaÅŸÄ±m" %}</h3>
        <p class="card__text">{% trans "BaÄŸlantÄ± paylaÅŸÄ±n, ekibinizin yorumlarÄ±nÄ± toplayÄ±n ve aynÄ± kod Ã¼zerinde yineleyin." %}</p>
      </article>
      <article class="card" data-animate-card>
        <div class="card__icon card__icon--red">ğŸ§ </div>
        <h3 class="card__title">{% trans "AI destekli Ã¶neriler" %}</h3>
        <p class="card__text">{% trans "Kod tamamlama, hata tahminleri ve Ã¶ÄŸrenme kaynaklarÄ± tek yerde." %}</p>
      </article>
      <article class="card" data-animate-card>
        <div class="card__icon card__icon--blue">ğŸ›¡ï¸</div>
        <h3 class="card__title">{% trans "GÃ¼venli izole ortam" %}</h3>
        <p class="card__text">{% trans "Her yÃ¼rÃ¼tme izole konteynerde yapÄ±lÄ±r, verilerin gÃ¼vende kalÄ±r." %}</p>
      </article>
    </div>
  </div>
</section>

{% if recent_snippets %}
<section class="section section--tint">
  <div class="container">
    <header class="section__header align-start">
      <span class="eyebrow">{% trans "Topluluk" %}</span>
      <h2 class="section-title">{% trans "Son paylaÅŸÄ±lan projeler" %}</h2>
      <p class="section-lead">{% trans "DiÄŸer geliÅŸtiricilerin ne Ã¼zerinde Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± keÅŸfedin ve ilham alÄ±n." %}</p>
    </header>
    <div class="tile-grid tile-grid--two">
      {% for snippet in recent_snippets %}
      <a href="{% url 'playground:snippet_detail' snippet.id %}" class="card card--interactive" data-animate-card>
        <div class="snippet-meta">
          <span class="tag tag--outline">{{ snippet.language.icon }} {{ snippet.language.name }}</span>
          <span>{% blocktrans with time=snippet.created_at|timesince %}{{ time }} Ã¶nce{% endblocktrans %}</span>
        </div>
        <h3 class="card__title">{{ snippet.title|default:"Untitled Code" }}</h3>
        <div class="snippet-stats">
          <span>ğŸ‘ {{ snippet.views }}</span>
          <span>â­ {{ snippet.likes }}</span>
        </div>
      </a>
      {% endfor %}
    </div>
    <div class="button-row center section-actions">
      <a href="{% url 'playground:gallery' %}" class="btn btn--ghost" data-cursor-interactive>
        {% trans "TÃ¼mÃ¼nÃ¼ gÃ¶r" %}
      </a>
    </div>
  </div>
</section>
{% endif %}

<section class="section">
  <div class="container">
    <div class="cta-panel" data-animate>
      <div>
        <span class="eyebrow">{% trans "HazÄ±r mÄ±sÄ±n?" %}</span>
        <h2 class="section-title">{% trans "Dakikalar iÃ§inde demo hazÄ±rla" %}</h2>
        <p class="card__text">{% trans "Playground editÃ¶rÃ¼nde kodunu yaz, kaydet ve galeride yerini al. Yeni Ã¶zellikler dÃ¼zenli olarak ekleniyor." %}</p>
      </div>
      <div class="button-row">
        <a href="{% url 'playground:editor' %}" class="btn btn--primary" data-cursor-interactive>{% trans "EditÃ¶re git" %}</a>
        <a href="{% url 'playground:gallery' %}" class="btn btn--ghost" data-cursor-interactive>{% trans "Galeriyi keÅŸfet" %}</a>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
(function () {
  const cards = document.querySelectorAll('[data-animate-card]');
  if (!('IntersectionObserver' in window) || !cards.length) {
    cards.forEach((card) => card.classList.add('is-visible'));
    return;
  }
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        observer.unobserve(entry.target);
      }
    });
  }, { rootMargin: '0px 0px -10% 0px', threshold: 0.2 });
  cards.forEach((card) => {
    observer.observe(card);
  });
})();

function loadTemplate(templateId) {
  window.location.href = `{% url 'playground:editor' %}?template=${templateId}`;
}
</script>
{% endblock %}
