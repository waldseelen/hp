
{% extends 'base/base.html' %}
{% load i18n %}

{% block title %}{% trans "Notification Analytics" %}{% endblock %}

{% block extra_head %}
<style>
  .dashboard-panel {
    background: rgba(15, 23, 42, 0.48);
    border: 1px solid rgba(148, 163, 184, 0.18);
    border-radius: var(--radius-lg);
    padding: clamp(var(--space-4), 4vw, var(--space-6));
    box-shadow: var(--shadow-sm);
  }

  .dashboard-metrics {
    display: grid;
    gap: var(--space-4);
    grid-template-columns: repeat(auto-fit, minmax(14rem, 1fr));
  }

  .dashboard-metric {
    display: grid;
    gap: var(--space-2);
    padding: var(--space-4);
    border-radius: var(--radius-md);
    border: 1px solid rgba(230, 197, 71, 0.25);
  }

  .dashboard-metric[data-status="success"] { border-color: rgba(52, 211, 153, 0.45); }
  .dashboard-metric[data-status="error"] { border-color: rgba(248, 113, 113, 0.45); }

  .metric-value {
    font-size: clamp(1.75rem, 3.4vw, 2.4rem);
    font-weight: var(--font-weight-bold);
  }

  .metric-label {
    color: var(--color-text-muted);
    letter-spacing: 0.08em;
    text-transform: uppercase;
    font-size: var(--font-size-sm);
  }
</style>
{% endblock %}

{% block content %}
<section class="page-section">
  <div class="ds-container stack" style="gap: var(--space-5);">
    <header class="stack" style="gap: var(--space-2); text-align: center;">
      <span class="text-eyebrow">{% trans "Monitoring" %}</span>
      <h1 class="heading-display-lg">{% trans "Notification Analytics" %}</h1>
      <p class="section-subheading">{% trans "Delivery effectiveness, totals and failure rates across the selected period." %}</p>
    </header>

    <section class="dashboard-panel">
      <div class="dashboard-metrics">
        <article class="dashboard-metric" data-status="success">
          <span class="metric-label">{% trans "Success Rate" %}</span>
          <span class="metric-value">{{ notification_stats.success_rate }}%</span>
        </article>
        <article class="dashboard-metric">
          <span class="metric-label">{% trans "Total Sent" %}</span>
          <span class="metric-value">{{ notification_stats.total_sent }}</span>
        </article>
        <article class="dashboard-metric">
          <span class="metric-label">{% trans "Delivered" %}</span>
          <span class="metric-value">{{ notification_stats.delivered }}</span>
        </article>
        <article class="dashboard-metric" data-status="error">
          <span class="metric-label">{% trans "Failed" %}</span>
          <span class="metric-value">{{ notification_stats.failed }}</span>
        </article>
      </div>
    </section>
  </div>
</section>
{% endblock %}
