{% comment %} Resource Hints and Performance Optimizations Preload, prefetch, and preconnect resources for better performance {% endcomment %} {% load static %} <!-- DNS prefetch for external resources --> <link rel="dns-prefetch" href="//fonts.googleapis.com"> <link rel="dns-prefetch" href="//fonts.gstatic.com"> <link rel="dns-prefetch" href="//www.google-analytics.com"> <link rel="dns-prefetch" href="//cdnjs.cloudflare.com"> <!-- Preconnect to critical origins --> <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <!-- Critical CSS - Preload and inline --> {% if critical_css_file %} <link rel="preload" href="{% static critical_css_file %}" as="style" onload="this.onload=null;this.rel='stylesheet'"> {% endif %} <!-- Main CSS bundle - High priority (using existing files) --> <link rel="preload" href="{% static 'css/custom.min.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'"> <noscript><link rel="stylesheet" href="{% static 'css/custom.min.css' %}"></noscript> <!-- Enhanced CSS bundle - Lower priority (using existing files) --> <link rel="preload" href="{% static 'css/components-compiled.css' %}" as="style" media="print" onload="this.media='all'"> <!-- JavaScript resources - Prefetch for next navigation --> <link rel="prefetch" href="{% static 'js/main.min.js' %}"> <!-- theme-manager.js removed - conflicts with Alpine.js theme system --> <!-- Hero images - Preload if on home page --> {% if request.resolver_match.url_name == 'home' %} <link rel="preload" href="{% static 'images/hero-bg.webp' %}" as="image" type="image/webp"> <link rel="preload" href="{% static 'images/profile.webp' %}" as="image" type="image/webp"> {% endif %} <!-- Blog images - Prefetch if on blog --> {% if 'blog' in request.path %} <link rel="prefetch" href="{% static 'images/blog-placeholder.webp' %}" as="image" type="image/webp"> {% endif %} <!-- Fonts - Preload critical fonts --> <link rel="preload" href="{% static 'fonts/inter-var.woff2' %}" as="font" type="font/woff2" crossorigin> <!-- Module preload for ES6 modules - disabled (missing file) --> <!-- <link rel="modulepreload" href="{% static 'js/modules/performance.mjs' %}"> --> <!-- Service Worker - Prefetch --> <link rel="prefetch" href="{% static 'js/sw.js' %}"> <!-- Manifest - Preload --> <link rel="preload" href="{% static 'manifest.json' %}" as="fetch" crossorigin> <!-- Lazy load hint for below-the-fold content --> <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> <meta name="theme-color" content="#0f172a"> <meta name="theme-color" content="#f8fafc" media="(prefers-color-scheme: light)"> <!-- Performance hints --> <meta name="format-detection" content="telephone=no"> <meta name="msapplication-tap-highlight" content="no"> {% comment %} Page-specific resource hints can be added in templates: {% block resource_hints %} <link rel="preload" href="specific-resource.css" as="style"> {% endblock %} {% endcomment %}
