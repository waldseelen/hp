{% load static i18n %}
{% get_current_language as LANGUAGE_CODE %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE|default:'tr' }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% trans 'Portfolio' %}{% endblock %}</title>

    <!-- Critical CSS inlined for above-the-fold content -->
    <style>
        {% block critical_css %}
        /* {% trans 'Critical CSS will be inlined per page.' %} */
        {% endblock %}
    </style>

    <!-- Preload important CSS -->
    <link rel="preload" href="{% static 'css/output.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="{% static 'css/output.css' %}"></noscript>

    <!-- Fallback for non-critical CSS -->
    <link rel="preload" href="{% static 'css/custom.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="{% static 'css/custom.css' %}"></noscript>

    <!-- DNS prefetch for external resources -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">

    {% block extra_head %}{% endblock %}
</head>
<body>
    <div class="container">
        <nav>
            <a href="/">{% trans "Home" %}</a>
            <a href="/playground/">{% trans "Playground" %}</a>
            <a href="/blog/">{% trans "Blog" %}</a>
            <a href="/tools/">{% trans "Tools" %}</a>
            <a href="/contact/">{% trans "Contact" %}</a>
        </nav>

        <main>
            {% block content %}
            <h1>{% trans "Welcome!" %}</h1>
            <p>{% trans "This site is up and running." %}</p>
            {% endblock %}
        </main>
    </div>

    <!-- CSS loading polyfill for older browsers -->
    <script>
        // CSS loading polyfill
        !function(e){"use strict";var t=function(t,n,r){function o(e){if(i.body)return e();setTimeout(function(){o(e)})}function a(){d.addEventListener&&d.removeEventListener("load",a),d.media=r||"all"}var i=e.document,d=i.createElement("link");if(n)d.href=n;else{if(!t)return;d.href=t.href,d.crossOrigin=t.crossOrigin}return d.rel="stylesheet",d.media="only x",o(function(){i.head.appendChild(d)}),d.addEventListener&&d.addEventListener("load",a),d.onloadcssdefined=function(e){for(var t,n=0;n<i.styleSheets.length;n++)i.styleSheets[n].href&&i.styleSheets[n].href.indexOf(d.href)>-1&&(t=!0);t?e():setTimeout(function(){d.onloadcssdefined(e)})},d.onloadcssdefined(a),d};"undefined"!=typeof exports?exports.loadCSS=t:e.loadCSS=t}("undefined"!=typeof global?global:this);
    </script>
</body>
</html>
