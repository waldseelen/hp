{% extends 'blog/detail.html' %} {% load static %} {% block extra_head %} {{ block.super }} <link rel="stylesheet" href="{% static 'css/preview-mode.css' %}"> {% endblock %} {% block body_class %}{{ block.super }} preview-mode{% endblock %} {% block content %} <!-- Preview Mode Banner --> <div class="preview-banner"> <div class="container"> <div class="preview-info"> <div class="preview-status"> <i class="fas fa-eye"></i> <span class="status-text">Preview Mode</span> <span class="post-status status-{{ post_status }}">{{ post.get_status_display }}</span> </div> <div class="preview-actions"> {% if post.status == 'draft' %} <a href="#" class="btn btn-primary btn-sm" onclick="publishPost()"> <i class="fas fa-paper-plane"></i> Publish Now </a> {% elif post.status == 'scheduled' %} <div class="scheduled-info"> <i class="fas fa-clock"></i> Scheduled for {{ post.published_at|date:"F d, Y g:i A" }} </div> {% endif %} <a href="#" class="btn btn-secondary btn-sm" onclick="editPost()"> <i class="fas fa-edit"></i> Edit Post </a> <a href="{% url 'blog:list' %}" class="btn btn-outline-secondary btn-sm"> <i class="fas fa-arrow-left"></i> Back to Blog </a> </div> </div> {% if post.status != 'published' %} <div class="preview-warning"> <i class="fas fa-exclamation-triangle"></i> This post is not yet published and is only visible to you. {% if post.status == 'draft' %} Save your changes and publish when ready. {% elif post.status == 'scheduled' %} It will be automatically published on {{ post.published_at|date:"F d, Y \a\\t g:i A" }}. {% endif %} </div> {% endif %} </div> </div> <!-- Original Content --> {{ block.super }} <script> function publishPost() { if (confirm('Are you sure you want to publish this post now?')) { // Implement publish functionality alert('Publishing functionality would be implemented here'); } } function editPost() { // Redirect to admin edit page const editUrl = `{% url 'admin:blog_post_change' post.pk %}`; window.open(editUrl, '_blank'); } </script> {% endblock %}
