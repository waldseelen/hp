{% extends"base.html" %} {% load static %} {% block title %}Tag Cloud - Popular Tags{% endblock %} {% block meta_description %} Explore popular tags and topics across blog posts, projects, and resources. Find content by browsing our interactive tag cloud. {% endblock %} {% block extra_head %} <style> .tag-cloud-item { transition: all 0.3s ease; display: inline-block; margin: 0.25rem; cursor: pointer; } .tag-cloud-item:hover { transform: scale(1.1); z-index: 10; position: relative; } .tag-size-1 { font-size: 0.75rem; opacity: 0.7; } .tag-size-2 { font-size: 0.875rem; opacity: 0.8; } .tag-size-3 { font-size: 1rem; opacity: 0.9; } .tag-size-4 { font-size: 1.25rem; opacity: 1; } .tag-size-5 { font-size: 1.5rem; opacity: 1; font-weight: 600; } .category-filter-btn { @apply px-4 py-2 rounded-full text-sm font-medium transition-all duration-200; } .category-filter-btn.active { @apply bg-primary-600 text-white; } .category-filter-btn:not(.active) { @apply bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600; } .tag-tooltip { position: absolute; background: rgba(0, 0, 0, 0.9); color: white; padding: 0.5rem 0.75rem; border-radius: 0.5rem; font-size: 0.875rem; white-space: nowrap; z-index: 20; pointer-events: none; opacity: 0; transition: opacity 0.2s; } .tag-tooltip.show { opacity: 1; } </style> {% endblock %} {% block content %} <div class="min-h-screen bg-gray-50 dark:bg-gray-900 py-12"> <div class="container mx-auto px-4 max-w-6xl"> <!-- Header --> <div class="text-center mb-12"> <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4"> Tag Cloud </h1> <p class="text-xl text-gray-600 dark:text-gray-300 mb-6"> Explore {{ total_tags }} popular tags across all content </p> <!-- Statistics --> <div class="flex justify-center space-x-8 text-sm text-gray-500 dark:text-gray-400"> <div> <span class="font-semibold text-gray-900 dark:text-white">{{ total_tags }}</span> <span>Total Tags</span> </div> {% for category in categories %} <div> <span class="font-semibold text-gray-900 dark:text-white">{{ category.count }}</span> <span>{{ category.display_name }}</span> </div> {% endfor %} </div> </div> <!-- Category Filters --> {% if categories %} <div class="flex flex-wrap justify-center gap-3 mb-8" id="categoryFilters"> <button class="category-filter-btn active" data-category="all"> All Tags </button> {% for category in categories %} <button class="category-filter-btn" data-category="{{ category.name }}"> {{ category.display_name }} ({{ category.count }}) </button> {% endfor %} </div> {% endif %} <!-- Search Box --> <div class="max-w-md mx-auto mb-8"> <div class="relative"> <input type="text" id="tagSearch" placeholder="Search tags..." class="w-full px-4 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white" > <svg class="absolute left-3 top-2.5 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> </div> </div> <!-- Tag Cloud --> <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 mb-8" id="tagCloudContainer"> <div class="text-center leading-loose" id="tagCloud"> {% for tag in tag_cloud %} <a href="{% url 'main:search_by_tag' tag.name %}" class="tag-cloud-item tag-size-{{ tag.size }} inline-block px-3 py-1 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900 text-gray-700 dark:text-gray-300 hover:text-primary-700 dark:hover:text-primary-300 transition-all" data-tag="{{ tag.name|lower }}" data-count="{{ tag.count }}" data-categories="{{ tag.categories|join:',' }}" onmouseenter="showTooltip(event, '{{ tag.name }}', {{ tag.count }}, '{{ tag.categories|join:"," }}')" onmouseleave="hideTooltip()"> {{ tag.name }} </a> {% empty %} <div class="text-center py-12"> <svg class="mx-auto svg-icon-lg text-gray-400 dark:text-gray-600 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path> </svg> <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">No tags found</h3> <p class="text-gray-500 dark:text-gray-400">Tags will appear here as content is added.</p> </div> {% endfor %} </div> </div> <!-- Popular Tags List --> {% if tag_cloud %} <div class="grid grid-cols-3 gap-6"> <!-- Most Popular Tags --> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"> <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"> <svg class="w-5 h-5 mr-2 text-yellow-500" fill="currentColor" viewBox="0 0 20 20"> <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path> </svg> Most Popular </h3> <div class="space-y-3"> {% for tag in tag_cloud|slice:":10" %} <div class="flex items-center justify-between"> <a href="{% url 'main:search_by_tag' tag.name %}" class="text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200 font-medium"> {{ tag.name }} </a> <span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full text-xs font-medium text-gray-600 dark:text-gray-400"> {{ tag.count }} </span> </div> {% endfor %} </div> </div> <!-- Recent Tags --> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"> <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"> <svg class="w-5 h-5 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path> </svg> Recently Added </h3> <div class="space-y-3"> {% for tag in tag_cloud|slice:"10:20" %} <div class="flex items-center justify-between"> <a href="{% url 'main:search_by_tag' tag.name %}" class="text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200 font-medium"> {{ tag.name }} </a> <span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full text-xs font-medium text-gray-600 dark:text-gray-400"> {{ tag.count }} </span> </div> {% endfor %} </div> </div> <!-- Tag Categories --> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"> <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"> <svg class="w-5 h-5 mr-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14-7H5c-1.105 0-2 .895-2 2v12c0 1.105.895 2 2 2h14c1.105 0 2-.895 2-2V6c0-1.105-.895-2-2-2zM7 11h0M7 15h0"></path> </svg> Categories </h3> <div class="space-y-3"> {% for category in categories %} <div class="flex items-center justify-between"> <button class="text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-200 font-medium category-filter-link" data-category="{{ category.name }}"> {{ category.display_name }} </button> <span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full text-xs font-medium text-gray-600 dark:text-gray-400"> {{ category.count }} </span> </div> {% endfor %} </div> </div> </div> {% endif %} <!-- Search Link --> <div class="text-center mt-12"> <a href="{% url 'main:search' %}" class="inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"> <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> Advanced Search </a> </div> </div> </div> <!-- Tooltip --> <div id="tagTooltip" class="tag-tooltip"></div> {% endblock %} {% block extra_scripts %} <script> document.addEventListener('DOMContentLoaded', function() { const tagSearch = document.getElementById('tagSearch'); const tagCloud = document.getElementById('tagCloud'); const categoryFilters = document.querySelectorAll('.category-filter-btn'); const categoryFilterLinks = document.querySelectorAll('.category-filter-link'); const allTags = document.querySelectorAll('.tag-cloud-item'); // Search functionality tagSearch.addEventListener('input', function() { const query = this.value.toLowerCase().trim(); allTags.forEach(tag => { const tagName = tag.dataset.tag.toLowerCase(); if (query === '' || tagName.includes(query)) { tag.style.display = 'inline-block'; } else { tag.style.display = 'none'; } }); // Show"no results" message if no tags are visible const visibleTags = Array.from(allTags).filter(tag => tag.style.display !== 'none'); if (query && visibleTags.length === 0) { showNoResults(); } else { hideNoResults(); } }); // Category filtering categoryFilters.forEach(btn => { btn.addEventListener('click', function() { const category = this.dataset.category; // Update active button categoryFilters.forEach(b => b.classList.remove('active')); this.classList.add('active'); // Filter tags filterTagsByCategory(category); }); }); categoryFilterLinks.forEach(link => { link.addEventListener('click', function() { const category = this.dataset.category; // Update category filter buttons categoryFilters.forEach(b => b.classList.remove('active')); const targetBtn = document.querySelector(`[data-category="${category}"]`); if (targetBtn) { targetBtn.classList.add('active'); } // Filter tags filterTagsByCategory(category); }); }); function filterTagsByCategory(category) { allTags.forEach(tag => { const tagCategories = tag.dataset.categories.split(','); if (category === 'all' || tagCategories.includes(category)) { tag.style.display = 'inline-block'; } else { tag.style.display = 'none'; } }); // Clear search tagSearch.value = ''; hideNoResults(); } function showNoResults() { let noResultsDiv = document.getElementById('noTagResults'); if (!noResultsDiv) { noResultsDiv = document.createElement('div'); noResultsDiv.id = 'noTagResults'; noResultsDiv.className = 'text-center py-8 text-gray-500 dark:text-gray-400'; noResultsDiv.innerHTML = ` <svg class="mx-auto w-12 h-12 mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> <p>No tags found matching your search</p> `; tagCloud.appendChild(noResultsDiv); } noResultsDiv.style.display = 'block'; } function hideNoResults() { const noResultsDiv = document.getElementById('noTagResults'); if (noResultsDiv) { noResultsDiv.style.display = 'none'; } } }); // Tooltip functions let tooltip = null; function showTooltip(event, tagName, count, categories) { tooltip = document.getElementById('tagTooltip'); tooltip.innerHTML = ` <div class="font-semibold">${tagName}</div> <div class="text-xs opacity-75">${count} items â€¢ ${categories}</div> `; const rect = event.target.getBoundingClientRect(); tooltip.style.left = rect.left + rect.width / 2 + 'px'; tooltip.style.top = rect.top - 10 + 'px'; tooltip.style.transform = 'translateX(-50%) translateY(-100%)'; tooltip.classList.add('show'); } function hideTooltip() { if (tooltip) { tooltip.classList.remove('show'); } } </script> {% endblock %}