{# Optimized CSS Loading Helper #} {# Usage: {% include 'partials/optimized-css.html' %} #} {% load static %} <!-- Critical CSS - Inline for immediate rendering --> <style> /* Critical styles loaded inline for performance */ {{ critical_css|safe }} </style> <!-- Main CSS bundle - High priority --> <link rel="preload" href="{% static 'css/optimized/main.min.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'"> <noscript> <link rel="stylesheet" href="{% static 'css/optimized/main.min.css' %}"> </noscript> <!-- Enhanced CSS bundle - Load after main content --> <link rel="preload" href="{% static 'css/optimized/enhanced.min.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'" media="print" onload="this.media='all'"> <!-- Tailwind CSS bundle - Lowest priority --> <script> // Load Tailwind CSS asynchronously after page load window.addEventListener('load', function() { setTimeout(function() { var link = document.createElement('link'); link.rel = 'stylesheet'; link.href = '{% static"css/optimized/tailwind.min.css" %}'; document.head.appendChild(link); }, 100); }); </script> <!-- Fallback for no-JS users --> <noscript> <link rel="stylesheet" href="{% static 'css/optimized/tailwind.min.css' %}"> </noscript>