{% load i18n %}

<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <section class="text-center py-12 animate-fade-in">
        <div class="max-w-4xl mx-auto">
            <h1 class="heading-1 mb-6">
                <span class="inline-flex items-center">
                    <svg class="w-12 h-12 mr-4 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                    {% trans 'Useful Resources' %}
                </span>
            </h1>
            <p class="body-large mb-8">
                {% trans 'A curated toolkit of services, apps, and references I rely on for development, design, automation, and productivity.' %}
            </p>
        </div>
    </section>

    {% if featured_resources %}
    <section class="py-12 animate-fade-in">
        <div class="max-w-6xl mx-auto">
            <h2 class="heading-2 mb-8 text-center">
                <span class="inline-flex items-center">
                    <svg class="w-8 h-8 mr-3 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
                    </svg>
                    {% trans 'Featured resources' %}
                </span>
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {% for resource in featured_resources %}
                <div class="card card--interactive animate-slide-up relative" style="animation-delay: {{ forloop.counter0|floatformat:1 }}s">
                    <div class="absolute top-4 right-4">
                        <span class="text-xs {% if resource.is_free %}bg-green-600{% else %}bg-orange-600{% endif %} text-white px-2 py-1 rounded-full">
                            {% if resource.is_free %}{% trans 'Free' %}{% else %}{% trans 'Premium' %}{% endif %}
                        </span>
                    </div>
                    <div class="p-6">
                        <div class="flex items-start mb-4">
                            {% if resource.icon_url %}
                            <img src="{{ resource.icon_url }}" alt="{{ resource.name }}" class="w-8 h-8 rounded mr-3 flex-shrink-0">
                            {% else %}
                            <div class="w-8 h-8 bg-purple-500/20 rounded flex items-center justify-center mr-3 flex-shrink-0">
                                <svg class="w-4 h-4 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                                </svg>
                            </div>
                            {% endif %}
                            <div class="flex-1 pr-8">
                                <h3 class="heading-3 mb-2">
                                    <a href="{{ resource.url }}" target="_blank" rel="noopener noreferrer" class="hover:text-purple-400 transition-colors">
                                        {{ resource.name }}
                                    </a>
                                </h3>
                            </div>
                        </div>
                        <p class="body-small mb-4">{{ resource.description|truncatewords:20 }}</p>
                        {% if resource.rating %}
                        <div class="flex items-center mb-3">
                            <div class="flex text-yellow-400">
                                {% for i in '12345' %}
                                    {% if forloop.counter <= resource.rating %}
                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                    </svg>
                                    {% else %}
                                    <svg class="w-4 h-4 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                    </svg>
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <span class="ml-2 text-sm text-gray-400">{{ resource.rating }}/5</span>
                        </div>
                        {% endif %}
                        <div class="flex justify-between items-center">
                            <span class="tag-category bg-purple-500/20 text-purple-300">{{ resource.type|default:resource.get_type_display|default:'' }}</span>
                            <a href="{{ resource.url }}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-purple-400 hover:text-purple-300 font-medium transition-colors group">
                                {% trans 'Visit' %}
                                <svg class="w-4 h-4 ml-1 transform group-hover:scale-110 transition-transform external-link-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}

    {% if resources_by_category %}
    <section class="py-12 animate-fade-in">
        <div class="max-w-7xl mx-auto">
            <h2 class="heading-2 mb-12 text-center">{% trans 'All resources' %}</h2>
            {% for category_name, resources in resources_by_category.items %}
            {% with category_lower=category_name|lower %}
            <div class="mb-16">
                <h3 class="heading-3 mb-8 text-center">
                    <span class="inline-flex items-center">
                        {% if 'geli' in category_lower or 'develop' in category_lower %}
                        <svg class="w-6 h-6 mr-2 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
                        </svg>
                        {% elif 'tasar' in category_lower or 'design' in category_lower %}
                        <svg class="w-6 h-6 mr-2 text-pink-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM7 3H5a2 2 0 00-2 2v12a4 4 0 004 4h2a2 2 0 002-2V5a2 2 0 00-2-2z"/>
                        </svg>
                        {% elif 'verim' in category_lower or 'product' in category_lower %}
                        <svg class="w-6 h-6 mr-2 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        {% elif 'yapay' in category_lower or 'ai' in category_lower %}
                        <svg class="w-6 h-6 mr-2 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                        </svg>
                        {% else %}
                        <svg class="w-6 h-6 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                        </svg>
                        {% endif %}
                        {{ category_name }}
                    </span>
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    {% for resource in resources %}
                    <div class="card p-4 animate-slide-up" style="animation-delay: {{ forloop.counter0|floatformat:1 }}s">
                        <div class="flex items-start mb-3">
                            {% if resource.icon_url %}
                            <img src="{{ resource.icon_url }}" alt="{{ resource.name }}" class="w-6 h-6 rounded mr-2 flex-shrink-0">
                            {% else %}
                            <div class="w-6 h-6 bg-gray-500/20 rounded flex items-center justify-center mr-2 flex-shrink-0">
                                <svg class="w-3 h-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                                </svg>
                            </div>
                            {% endif %}
                            <div class="flex-1">
                                <h4 class="font-semibold text-white text-sm mb-1">
                                    <a href="{{ resource.url }}" target="_blank" rel="noopener noreferrer" class="hover:text-purple-400 transition-colors">
                                        {{ resource.name }}
                                    </a>
                                </h4>
                                <p class="text-xs text-gray-400 mb-2">{{ resource.description|truncatewords:10 }}</p>
                                <div class="flex justify-between items-center">
                                    <span class="text-xs {% if resource.is_free %}text-green-400{% else %}text-orange-400{% endif %}">
                                        {% if resource.is_free %}{% trans 'Free' %}{% else %}{% trans 'Premium' %}{% endif %}
                                    </span>
                                    {% if resource.rating %}
                                    <div class="flex items-center">
                                        <svg class="w-3 h-3 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                                        </svg>
                                        <span class="ml-1 text-xs text-gray-400">{{ resource.rating }}</span>
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endwith %}
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if not resources_by_category and not featured_resources %}
    <section class="py-16 text-center">
        <div class="max-w-md mx-auto">
            <svg class="w-16 h-16 mx-auto text-gray-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
            </svg>
            <h3 class="heading-3 mb-2">{% trans 'No resources yet' %}</h3>
            <p class="body-small text-gray-400">{% trans 'Fresh recommendations are on the way. Check back soon.' %}</p>
        </div>
    </section>
    {% endif %}
</div>
