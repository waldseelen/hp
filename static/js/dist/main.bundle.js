/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkbest"] = self["webpackChunkbest"] || []).push([[792],{

/***/ 497:
/***/ ((module) => {

eval("{/**\r\n * UI Enhancements Module\r\n * Advanced user interface enhancements for improved user experience\r\n */\n\nclass UIEnhancements {\n  constructor() {\n    this.init();\n    this.setupEventListeners();\n    this.initializeComponents();\n  }\n  init() {\n    // Initialize UI enhancement systems\n    this.toastManager = new ToastManager();\n    this.modalManager = new ModalManager();\n    this.scrollManager = new ScrollManager();\n    this.loadingManager = new LoadingManager();\n    this.searchManager = new SearchManager();\n    this.animationManager = new AnimationManager();\n    this.keyboardManager = new KeyboardManager();\n    this.themeManager = new ThemeManager();\n  }\n  setupEventListeners() {\n    // DOM content loaded\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', () => this.onDOMReady());\n    } else {\n      this.onDOMReady();\n    }\n\n    // Window events\n    window.addEventListener('load', () => this.onWindowLoad());\n    window.addEventListener('resize', () => this.onWindowResize());\n    window.addEventListener('scroll', this.throttle(this.onWindowScroll, 16), {\n      passive: true\n    });\n\n    // Page visibility\n    document.addEventListener('visibilitychange', () => this.onVisibilityChange());\n\n    // Network status\n    window.addEventListener('online', () => this.onNetworkChange(true));\n    window.addEventListener('offline', () => this.onNetworkChange(false));\n  }\n  initializeComponents() {\n    // Initialize all UI components\n    this.setupBackToTop();\n    this.setupScrollProgress();\n    this.setupImageLazyLoading();\n    this.setupFormEnhancements();\n    this.setupCardInteractions();\n    this.setupNavigationEnhancements();\n    this.setupAccessibilityFeatures();\n  }\n  onDOMReady() {\n    console.log('UI Enhancements: DOM Ready');\n    this.animationManager.initializeScrollAnimations();\n    this.loadingManager.hideInitialLoader();\n  }\n  onWindowLoad() {\n    console.log('UI Enhancements: Window Loaded');\n    this.animationManager.triggerDelayedAnimations();\n  }\n  onWindowResize() {\n    this.scrollManager.updateScrollProgress();\n  }\n  onWindowScroll = () => {\n    if (!this.scrollAnimationFrame) {\n      this.scrollAnimationFrame = requestAnimationFrame(() => {\n        this.scrollManager.handleScroll();\n        this.animationManager.handleScrollAnimations();\n        this.scrollAnimationFrame = null;\n      });\n    }\n  };\n  onVisibilityChange() {\n    if (document.hidden) {\n      this.pauseAnimations();\n    } else {\n      this.resumeAnimations();\n    }\n  }\n  onNetworkChange(isOnline) {\n    const message = isOnline ? 'Connection restored' : 'Connection lost';\n    const type = isOnline ? 'success' : 'warning';\n    this.toastManager.show(message, type);\n  }\n  setupBackToTop() {\n    const backToTopBtn = document.getElementById('back-to-top');\n    if (!backToTopBtn) return;\n    backToTopBtn.addEventListener('click', e => {\n      e.preventDefault();\n      this.scrollManager.scrollToTop();\n    });\n  }\n  setupScrollProgress() {\n    const progressBar = document.getElementById('scroll-progress');\n    if (progressBar) {\n      this.scrollManager.setProgressBar(progressBar);\n    }\n  }\n  setupImageLazyLoading() {\n    // Skip image lazy loading if already handled by performance.js\n    if (window.__imgLazyOwner && window.__imgLazyOwner !== 'ui-enhancements') {\n      return;\n    }\n\n    // Set owner if not already set\n    if (!window.__imgLazyOwner) {\n      window.__imgLazyOwner = 'ui-enhancements';\n    }\n    const images = document.querySelectorAll('img[data-src]');\n    if ('IntersectionObserver' in window) {\n      const observerOptions = {\n        root: null,\n        rootMargin: '50px',\n        threshold: 0.1\n      };\n      const imageObserver = new IntersectionObserver((entries, observer) => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            const img = entry.target;\n\n            // Add error handling for failed image loads\n            img.addEventListener('error', () => {\n              img.classList.remove('loading');\n              img.classList.add('load-error');\n\n              // Try fallback image if available\n              if (img.dataset.fallback) {\n                img.src = img.dataset.fallback;\n              } else {\n                // Use placeholder or hide image\n                img.style.display = 'none';\n                console.warn('Image failed to load:', img.dataset.src);\n              }\n            });\n            img.addEventListener('load', () => {\n              img.classList.remove('loading');\n              img.classList.add('loaded');\n            });\n            img.src = img.dataset.src;\n            observer.unobserve(img);\n          }\n        });\n      }, observerOptions);\n      images.forEach(img => {\n        img.classList.add('loading');\n        imageObserver.observe(img);\n      });\n    }\n  }\n  setupFormEnhancements() {\n    // Real-time form validation\n    const forms = document.querySelectorAll('form');\n    forms.forEach(form => {\n      this.enhanceForm(form);\n    });\n  }\n  enhanceForm(form) {\n    const inputs = form.querySelectorAll('input, textarea, select');\n    inputs.forEach(input => {\n      // Add floating label effect\n      this.addFloatingLabel(input);\n\n      // Add validation feedback\n      input.addEventListener('blur', () => this.validateInput(input));\n      input.addEventListener('input', () => this.clearValidationErrors(input));\n    });\n    form.addEventListener('submit', e => this.handleFormSubmit(e, form));\n  }\n  addFloatingLabel(input) {\n    const container = input.closest('.form-group');\n    if (!container) return;\n    const label = container.querySelector('label');\n    if (!label) return;\n    input.addEventListener('focus', () => label.classList.add('focused'));\n    input.addEventListener('blur', () => {\n      if (!input.value) {\n        label.classList.remove('focused');\n      }\n    });\n\n    // Initial state\n    if (input.value) {\n      label.classList.add('focused');\n    }\n  }\n  validateInput(input) {\n    const isValid = input.checkValidity();\n    const container = input.closest('.form-group');\n    if (container) {\n      container.classList.toggle('has-error', !isValid);\n      container.classList.toggle('has-success', isValid && input.value);\n    }\n    return isValid;\n  }\n  clearValidationErrors(input) {\n    const container = input.closest('.form-group');\n    if (container) {\n      container.classList.remove('has-error');\n    }\n  }\n  handleFormSubmit(e, form) {\n    const inputs = form.querySelectorAll('input[required], textarea[required], select[required]');\n    let isFormValid = true;\n    inputs.forEach(input => {\n      if (!this.validateInput(input)) {\n        isFormValid = false;\n      }\n    });\n    if (!isFormValid) {\n      e.preventDefault();\n      this.toastManager.show('Please fill in all required fields', 'error');\n      return;\n    }\n\n    // Show loading state\n    const submitBtn = form.querySelector('[type=\"submit\"]');\n    if (submitBtn) {\n      submitBtn.classList.add('btn-loading');\n      submitBtn.disabled = true;\n    }\n  }\n  setupCardInteractions() {\n    const cards = document.querySelectorAll('.card-interactive');\n    cards.forEach(card => {\n      // Mouse move effect for cards\n      card.addEventListener('mousemove', e => {\n        const {\n          clientX,\n          clientY\n        } = e;\n        const {\n          left,\n          top\n        } = card.getBoundingClientRect();\n        const x = clientX - left;\n        const y = clientY - top;\n        card.style.setProperty('--mouse-x', `${x}px`);\n        card.style.setProperty('--mouse-y', `${y}px`);\n      });\n\n      // Click ripple effect\n      card.addEventListener('click', e => {\n        this.createRippleEffect(e, card);\n      });\n    });\n  }\n  createRippleEffect(e, element) {\n    const ripple = document.createElement('span');\n    const {\n      width,\n      height,\n      left,\n      top\n    } = element.getBoundingClientRect();\n    const size = Math.max(width, height);\n    const {\n      clientX,\n      clientY\n    } = e;\n    const x = clientX - left - size / 2;\n    const y = clientY - top - size / 2;\n    ripple.style.cssText = `\n            width: ${size}px;\n            height: ${size}px;\n            left: ${x}px;\n            top: ${y}px;\n            position: absolute;\n            border-radius: 50%;\n            background: rgba(255, 255, 255, 0.1);\n            transform: scale(0);\n            animation: ripple 0.6s linear;\n            pointer-events: none;\n            z-index: 1;\n        `;\n    element.style.position = 'relative';\n    element.style.overflow = 'hidden';\n    element.appendChild(ripple);\n\n    // Add ripple animation\n    const style = document.createElement('style');\n    style.textContent = `\n            @keyframes ripple {\n                to {\n                    transform: scale(2);\n                    opacity: 0;\n                }\n            }\n        `;\n    document.head.appendChild(style);\n    setTimeout(() => {\n      ripple.remove();\n      if (element.querySelectorAll('span').length === 0) {\n        style.remove();\n      }\n    }, 600);\n  }\n  setupNavigationEnhancements() {\n    // Smooth scroll for anchor links\n    document.addEventListener('click', e => {\n      const link = e.target.closest('a[href^=\"#\"]');\n      if (link && link.getAttribute('href') !== '#') {\n        e.preventDefault();\n        const target = document.querySelector(link.getAttribute('href'));\n        if (target) {\n          this.scrollManager.scrollToElement(target);\n        }\n      }\n    });\n\n    // Active navigation highlighting\n    this.highlightActiveNavigation();\n  }\n  highlightActiveNavigation() {\n    const navLinks = document.querySelectorAll('.nav-link');\n    const currentPath = window.location.pathname;\n    navLinks.forEach(link => {\n      if (link.getAttribute('href') === currentPath) {\n        link.classList.add('active');\n      }\n    });\n  }\n  setupAccessibilityFeatures() {\n    // Focus management\n    document.addEventListener('keydown', e => {\n      if (e.key === 'Tab') {\n        document.body.classList.add('keyboard-navigation');\n      }\n    });\n    document.addEventListener('mousedown', () => {\n      document.body.classList.remove('keyboard-navigation');\n    });\n\n    // Skip links\n    const skipLinks = document.querySelectorAll('.skip-link');\n    skipLinks.forEach(link => {\n      link.addEventListener('click', e => {\n        e.preventDefault();\n        const target = document.querySelector(link.getAttribute('href'));\n        if (target) {\n          target.focus();\n          target.scrollIntoView({\n            behavior: 'smooth'\n          });\n        }\n      });\n    });\n  }\n  pauseAnimations() {\n    document.body.classList.add('animations-paused');\n  }\n  resumeAnimations() {\n    document.body.classList.remove('animations-paused');\n  }\n}\n\n// Toast Manager Class\nclass ToastManager {\n  constructor() {\n    this.container = document.getElementById('toast-container');\n    this.toasts = new Map();\n    this.defaultDuration = 5000;\n  }\n  show = (message, type = 'info', options = {}) => {\n    const id = Date.now().toString();\n    const toast = this.createToast(id, message, type, options);\n    if (this.container) {\n      this.container.appendChild(toast);\n      this.toasts.set(id, toast);\n\n      // Trigger entrance animation\n      requestAnimationFrame(() => {\n        toast.classList.add('toast-entering');\n      });\n\n      // Auto dismiss\n      if (options.autoDismiss !== false) {\n        setTimeout(() => {\n          this.dismiss(id);\n        }, options.duration || this.defaultDuration);\n      }\n\n      // Screen reader announcement\n      this.announceToScreenReader(message);\n    }\n    return id;\n  };\n  createToast(id, message, type, options) {\n    const template = document.getElementById('toast-template');\n    if (!template) return null;\n    const toast = template.content.cloneNode(true).querySelector('.toast-notification');\n    toast.setAttribute('data-toast-id', id);\n    toast.classList.add(`toast-${type}`);\n\n    // Set content\n    const titleEl = toast.querySelector('.toast-title');\n    const messageEl = toast.querySelector('.toast-message');\n    const iconEl = toast.querySelector('.toast-icon');\n    if (titleEl) titleEl.textContent = options.title || this.getDefaultTitle(type);\n    if (messageEl) messageEl.textContent = message;\n    if (iconEl) this.setToastIcon(iconEl, type);\n\n    // Setup close button\n    const closeBtn = toast.querySelector('.toast-close');\n    if (closeBtn) {\n      closeBtn.addEventListener('click', () => this.dismiss(id));\n    }\n\n    // Setup actions\n    if (options.actions) {\n      this.setupToastActions(toast, options.actions, id);\n    }\n\n    // Setup progress bar for auto-dismiss\n    if (options.autoDismiss !== false) {\n      this.setupProgressBar(toast, options.duration || this.defaultDuration);\n    }\n    return toast;\n  }\n  setToastIcon(iconEl, type) {\n    const iconId = `toast-${type}-icon`;\n    const sourceIcon = document.getElementById(iconId);\n    if (sourceIcon) {\n      iconEl.innerHTML = sourceIcon.innerHTML;\n      iconEl.className = sourceIcon.className;\n    }\n  }\n  setupToastActions(toast, actions, toastId) {\n    const actionsContainer = toast.querySelector('.toast-actions');\n    if (!actionsContainer || !actions.length) return;\n    actionsContainer.classList.remove('hidden');\n    actions.forEach((action, index) => {\n      const button = actionsContainer.querySelector(index === 0 ? '.toast-action-primary' : '.toast-action-secondary');\n      if (button) {\n        button.textContent = action.text;\n        button.onclick = () => {\n          action.handler();\n          this.dismiss(toastId);\n        };\n      }\n    });\n  }\n  setupProgressBar(toast, duration) {\n    const progressContainer = toast.querySelector('.toast-progress-container');\n    const progressBar = toast.querySelector('.toast-progress');\n    if (progressContainer && progressBar) {\n      progressContainer.classList.remove('hidden');\n      progressBar.style.setProperty('--duration', `${duration}ms`);\n      requestAnimationFrame(() => {\n        progressBar.style.width = '0%';\n      });\n    }\n  }\n  dismiss(id) {\n    const toast = this.toasts.get(id);\n    if (toast) {\n      toast.classList.add('toast-removing');\n      setTimeout(() => {\n        toast.remove();\n        this.toasts.delete(id);\n      }, 300);\n    }\n  }\n  dismissAll() {\n    this.toasts.forEach((toast, id) => {\n      this.dismiss(id);\n    });\n  }\n  getDefaultTitle(type) {\n    const titles = {\n      success: 'Success',\n      error: 'Error',\n      warning: 'Warning',\n      info: 'Info'\n    };\n    return titles[type] || 'Notification';\n  }\n  announceToScreenReader(message) {\n    const announcement = document.getElementById('toast-announcement');\n    if (announcement) {\n      announcement.textContent = message;\n      setTimeout(() => {\n        announcement.textContent = '';\n      }, 1000);\n    }\n  }\n}\n\n// Modal Manager Class\nclass ModalManager {\n  constructor() {\n    this.activeModal = null;\n    this.previousFocus = null;\n  }\n  open(modalId) {\n    const modal = document.getElementById(modalId);\n    if (!modal) return;\n    this.previousFocus = document.activeElement;\n    this.activeModal = modal;\n    modal.classList.add('modal-open');\n    modal.setAttribute('aria-hidden', 'false');\n\n    // Focus management\n    const focusableElements = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n    if (focusableElements.length > 0) {\n      focusableElements[0].focus();\n    }\n\n    // Escape key to close\n    document.addEventListener('keydown', this.handleModalEscape);\n\n    // Prevent body scroll\n    document.body.style.overflow = 'hidden';\n  }\n  close(modalId) {\n    const modal = document.getElementById(modalId);\n    if (!modal) return;\n    modal.classList.remove('modal-open');\n    modal.setAttribute('aria-hidden', 'true');\n\n    // Restore focus\n    if (this.previousFocus) {\n      this.previousFocus.focus();\n    }\n\n    // Remove event listeners\n    document.removeEventListener('keydown', this.handleModalEscape);\n\n    // Restore body scroll\n    document.body.style.overflow = '';\n    this.activeModal = null;\n    this.previousFocus = null;\n  }\n  handleModalEscape = e => {\n    if (e.key === 'Escape' && this.activeModal) {\n      this.close(this.activeModal.id);\n    }\n  };\n}\n\n// Scroll Manager Class\nclass ScrollManager {\n  constructor() {\n    this.progressBar = null;\n    this.backToTopBtn = document.getElementById('back-to-top');\n    this.scrollThreshold = 300;\n    this.ticking = false;\n  }\n  setProgressBar(element) {\n    this.progressBar = element;\n  }\n  handleScroll() {\n    if (!this.ticking) {\n      requestAnimationFrame(() => {\n        this.updateScrollProgress();\n        this.updateBackToTopButton();\n        this.ticking = false;\n      });\n      this.ticking = true;\n    }\n  }\n  updateScrollProgress() {\n    if (!this.progressBar) return;\n    const scrollTop = window.pageYOffset;\n    const docHeight = document.documentElement.scrollHeight - window.innerHeight;\n    const scrolled = scrollTop / docHeight * 100;\n    this.progressBar.style.width = `${Math.min(scrolled, 100)}%`;\n  }\n  updateBackToTopButton() {\n    if (!this.backToTopBtn) return;\n    const shouldShow = window.pageYOffset > this.scrollThreshold;\n    this.backToTopBtn.classList.toggle('visible', shouldShow);\n  }\n  scrollToTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n  scrollToElement(element, offset = 80) {\n    const elementPosition = element.offsetTop - offset;\n    window.scrollTo({\n      top: elementPosition,\n      behavior: 'smooth'\n    });\n  }\n}\n\n// Loading Manager Class\nclass LoadingManager {\n  constructor() {\n    this.overlay = document.getElementById('loading-overlay');\n    this.loadingMessages = ['Loading content...', 'Preparing your experience...', 'Almost ready...', 'Just a moment...'];\n    this.currentMessageIndex = 0;\n  }\n  show(message) {\n    if (!this.overlay) return;\n    if (message) {\n      const messageEl = document.getElementById('loading-message');\n      if (messageEl) messageEl.textContent = message;\n    }\n    this.overlay.classList.add('show');\n    this.announceToScreenReader('Loading');\n  }\n  hide() {\n    if (!this.overlay) return;\n    this.overlay.classList.remove('show');\n  }\n  hideInitialLoader() {\n    // Hide any initial page loader\n    const initialLoader = document.querySelector('.initial-loader');\n    if (initialLoader) {\n      initialLoader.style.opacity = '0';\n      setTimeout(() => {\n        initialLoader.remove();\n      }, 300);\n    }\n  }\n  updateProgress(percent) {\n    const progressBar = document.getElementById('loading-progress');\n    if (progressBar) {\n      progressBar.style.width = `${percent}%`;\n    }\n  }\n  updateMessage(message) {\n    const messageEl = document.getElementById('loading-message');\n    if (messageEl) {\n      messageEl.textContent = message;\n    }\n  }\n  cycleMessages(interval = 2000) {\n    setInterval(() => {\n      this.currentMessageIndex = (this.currentMessageIndex + 1) % this.loadingMessages.length;\n      this.updateMessage(this.loadingMessages[this.currentMessageIndex]);\n    }, interval);\n  }\n  announceToScreenReader(message) {\n    const announcement = document.getElementById('loading-announcement');\n    if (announcement) {\n      announcement.textContent = message;\n    }\n  }\n}\n\n// Search Manager Class\nclass SearchManager {\n  constructor() {\n    this.modal = document.getElementById('search-modal');\n    this.input = document.getElementById('search-input');\n    this.resultsContainer = document.getElementById('search-results');\n    this.debounceTimer = null;\n    this.currentQuery = '';\n    this.selectedIndex = -1;\n    this.results = [];\n  }\n  initialize() {\n    if (!this.modal || !this.input) return;\n\n    // Setup event listeners\n    this.input.addEventListener('input', this.debounce(e => this.handleInput(e.target.value), 300));\n    this.input.addEventListener('keydown', e => this.handleKeydown(e));\n\n    // Setup filter buttons\n    const filters = this.modal.querySelectorAll('.search-filter');\n    filters.forEach(filter => {\n      filter.addEventListener('click', e => this.handleFilterClick(e.target));\n    });\n\n    // Setup suggestions\n    const suggestions = this.modal.querySelectorAll('.search-suggestion');\n    suggestions.forEach(suggestion => {\n      suggestion.addEventListener('click', e => {\n        this.input.value = e.target.textContent;\n        this.handleInput(e.target.textContent);\n      });\n    });\n  }\n  open() {\n    if (!this.modal) return;\n    this.modal.classList.add('search-modal-open');\n    this.modal.style.opacity = '1';\n    this.modal.style.visibility = 'visible';\n    if (this.input) {\n      this.input.focus();\n    }\n\n    // Show recent searches initially\n    this.showRecentSearches();\n  }\n  close() {\n    if (!this.modal) return;\n    this.modal.classList.remove('search-modal-open');\n    this.modal.style.opacity = '0';\n    this.modal.style.visibility = 'hidden';\n    this.clearResults();\n    this.selectedIndex = -1;\n  }\n  handleInput(query) {\n    this.currentQuery = query.trim();\n    if (this.debounceTimer) {\n      clearTimeout(this.debounceTimer);\n    }\n    this.debounceTimer = setTimeout(() => {\n      if (this.currentQuery.length >= 2) {\n        this.performSearch(this.currentQuery);\n      } else {\n        this.showRecentSearches();\n      }\n    }, 300);\n  }\n  handleKeydown(e) {\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        this.selectedIndex = Math.min(this.selectedIndex + 1, this.results.length - 1);\n        this.updateSelection();\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        this.selectedIndex = Math.max(this.selectedIndex - 1, -1);\n        this.updateSelection();\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (this.selectedIndex >= 0) {\n          this.selectResult(this.selectedIndex);\n        }\n        break;\n      case 'Escape':\n        this.close();\n        break;\n    }\n  }\n  handleFilterClick(filterBtn) {\n    // Update active filter\n    this.modal.querySelectorAll('.search-filter').forEach(btn => {\n      btn.classList.remove('active');\n    });\n    filterBtn.classList.add('active');\n\n    // Re-run search with new filter\n    if (this.currentQuery) {\n      this.performSearch(this.currentQuery);\n    }\n  }\n  async performSearch(query) {\n    this.showLoading();\n    try {\n      const activeFilter = this.modal.querySelector('.search-filter.active')?.dataset.filter || 'all';\n      const response = await fetch(`/search/?q=${encodeURIComponent(query)}&filter=${activeFilter}`, {\n        method: 'GET',\n        headers: {\n          'X-Requested-With': 'XMLHttpRequest',\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      this.results = data.results || [];\n      this.displayResults(this.results);\n\n      // Save to recent searches\n      this.saveRecentSearch(query);\n    } catch (error) {\n      console.error('Search error:', error);\n      this.showError('Search temporarily unavailable');\n    } finally {\n      this.hideLoading();\n    }\n  }\n  showLoading() {\n    const loading = document.getElementById('search-loading');\n    if (loading) loading.classList.remove('hidden');\n    const recent = document.getElementById('search-recent');\n    if (recent) recent.style.display = 'none';\n  }\n  hideLoading() {\n    const loading = document.getElementById('search-loading');\n    if (loading) loading.classList.add('hidden');\n  }\n  displayResults(results) {\n    if (!this.resultsContainer) return;\n    this.resultsContainer.innerHTML = '';\n    if (results.length === 0) {\n      this.showNoResults();\n      return;\n    }\n    results.forEach((result, index) => {\n      const resultEl = this.createResultElement(result, index);\n      this.resultsContainer.appendChild(resultEl);\n    });\n\n    // Hide other sections\n    const recent = document.getElementById('search-recent');\n    const noResults = document.getElementById('search-no-results');\n    if (recent) recent.style.display = 'none';\n    if (noResults) noResults.classList.add('hidden');\n  }\n  createResultElement(result, index) {\n    const template = document.getElementById('search-result-template');\n    if (!template) return document.createElement('div');\n    const element = template.content.cloneNode(true).querySelector('.search-result');\n    element.dataset.index = index;\n\n    // Fill in result data\n    const title = element.querySelector('.result-title');\n    const description = element.querySelector('.result-description');\n    const category = element.querySelector('.result-category');\n    const date = element.querySelector('.result-date');\n    const icon = element.querySelector('.result-icon');\n    if (title) title.textContent = result.title;\n    if (description) description.textContent = result.description;\n    if (category) category.textContent = result.category;\n    if (date) date.textContent = result.date;\n    if (icon) this.setResultIcon(icon, result.type);\n\n    // Click handler\n    element.addEventListener('click', () => this.selectResult(index));\n    return element;\n  }\n  setResultIcon(iconEl, type) {\n    const icons = {\n      blog: '<svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"></path></svg>',\n      project: '<svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\"></path></svg>',\n      tool: '<svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"></path><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"></path></svg>'\n    };\n    iconEl.innerHTML = icons[type] || icons.blog;\n  }\n  updateSelection() {\n    const results = this.resultsContainer.querySelectorAll('.search-result');\n    results.forEach((result, index) => {\n      result.classList.toggle('selected', index === this.selectedIndex);\n    });\n  }\n  selectResult(index) {\n    if (index >= 0 && index < this.results.length) {\n      const result = this.results[index];\n      window.location.href = result.url;\n    }\n  }\n  showNoResults() {\n    const noResults = document.getElementById('search-no-results');\n    if (noResults) noResults.classList.remove('hidden');\n  }\n  showError(message) {\n    // Implementation for showing error message\n    console.error('Search error:', message);\n  }\n  showRecentSearches() {\n    const recent = document.getElementById('search-recent');\n    if (recent) recent.style.display = 'block';\n\n    // Load and display recent searches from localStorage\n    const recentSearches = this.getRecentSearches();\n    const listContainer = document.getElementById('recent-searches-list');\n    if (listContainer && recentSearches.length > 0) {\n      listContainer.innerHTML = '';\n      recentSearches.forEach(search => {\n        const item = document.createElement('button');\n        item.className = 'text-left text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white py-1';\n        item.textContent = search;\n        item.addEventListener('click', () => {\n          this.input.value = search;\n          this.handleInput(search);\n        });\n        listContainer.appendChild(item);\n      });\n    }\n  }\n  saveRecentSearch(query) {\n    let recent = this.getRecentSearches();\n    recent = recent.filter(item => item !== query);\n    recent.unshift(query);\n    recent = recent.slice(0, 5); // Keep only 5 recent searches\n\n    localStorage.setItem('recentSearches', JSON.stringify(recent));\n  }\n  getRecentSearches() {\n    try {\n      return JSON.parse(localStorage.getItem('recentSearches') || '[]');\n    } catch {\n      return [];\n    }\n  }\n  clearRecentSearches() {\n    localStorage.removeItem('recentSearches');\n    this.showRecentSearches();\n  }\n}\n\n// Animation Manager Class\nclass AnimationManager {\n  constructor() {\n    this.observers = new Map();\n    this.setupIntersectionObserver();\n  }\n  setupIntersectionObserver() {\n    if (!('IntersectionObserver' in window)) return;\n    const options = {\n      root: null,\n      rootMargin: '-10% 0px',\n      threshold: 0.1\n    };\n    this.scrollObserver = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          this.triggerAnimation(entry.target);\n        }\n      });\n    }, options);\n  }\n  initializeScrollAnimations() {\n    const elements = document.querySelectorAll('[data-animate]');\n    elements.forEach(element => {\n      this.scrollObserver.observe(element);\n    });\n  }\n  triggerAnimation(element) {\n    const animationType = element.dataset.animate;\n    const delay = element.dataset.delay || 0;\n    setTimeout(() => {\n      switch (animationType) {\n        case 'fade-in':\n          element.classList.add('animate-fade-in');\n          break;\n        case 'slide-up':\n          element.classList.add('animate-slide-up');\n          break;\n        case 'slide-in-left':\n          element.classList.add('animate-slide-in-left');\n          break;\n        case 'slide-in-right':\n          element.classList.add('animate-slide-in-right');\n          break;\n        case 'scale-in':\n          element.classList.add('animate-scale-in');\n          break;\n      }\n    }, delay);\n\n    // Stop observing this element\n    this.scrollObserver.unobserve(element);\n  }\n  handleScrollAnimations() {\n    // Handle scroll-based animations that need continuous updates\n  }\n  triggerDelayedAnimations() {\n    // Trigger animations that should happen after page load\n    const delayedElements = document.querySelectorAll('[data-animate-delay]');\n    delayedElements.forEach(element => {\n      const delay = parseInt(element.dataset.animateDelay) || 0;\n      setTimeout(() => {\n        element.classList.add('animate-fade-in');\n      }, delay);\n    });\n  }\n}\n\n// Keyboard Manager Class\nclass KeyboardManager {\n  constructor() {\n    this.shortcuts = new Map();\n    this.setupGlobalShortcuts();\n    this.setupEventListeners();\n  }\n  setupGlobalShortcuts() {\n    // Search shortcut\n    this.addShortcut('ctrl+k', () => {\n      if (window.uiEnhancements?.searchManager) {\n        window.uiEnhancements.searchManager.open();\n      }\n    });\n\n    // Escape to close modals\n    this.addShortcut('escape', () => {\n      if (window.uiEnhancements?.modalManager?.activeModal) {\n        window.uiEnhancements.modalManager.close(window.uiEnhancements.modalManager.activeModal.id);\n      }\n      if (window.uiEnhancements?.searchManager?.modal?.classList.contains('search-modal-open')) {\n        window.uiEnhancements.searchManager.close();\n      }\n    });\n  }\n  addShortcut(key, handler) {\n    this.shortcuts.set(key.toLowerCase(), handler);\n  }\n  setupEventListeners() {\n    document.addEventListener('keydown', e => {\n      const key = this.getKeyString(e);\n      const handler = this.shortcuts.get(key);\n      if (handler) {\n        // Don't trigger shortcuts when typing in inputs\n        if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {\n          // Only allow escape key in inputs\n          if (key === 'escape') {\n            e.preventDefault();\n            handler(e);\n          }\n          return;\n        }\n        e.preventDefault();\n        handler(e);\n      }\n    });\n  }\n  getKeyString(e) {\n    let key = e.key.toLowerCase();\n    if (e.ctrlKey) key = `ctrl+${key}`;\n    if (e.altKey) key = `alt+${key}`;\n    if (e.shiftKey && key.length > 1) key = `shift+${key}`;\n    return key;\n  }\n}\n\n// Theme Manager Class\nclass ThemeManager {\n  constructor() {\n    this.currentTheme = localStorage.getItem('theme') || 'dark';\n    this.applyTheme(this.currentTheme);\n  }\n  toggleTheme() {\n    this.currentTheme = this.currentTheme === 'light' ? 'dark' : 'light';\n    this.applyTheme(this.currentTheme);\n    localStorage.setItem('theme', this.currentTheme);\n  }\n  applyTheme(theme) {\n    document.documentElement.setAttribute('data-theme', theme);\n\n    // Update theme color meta tag\n    const themeColorMeta = document.querySelector('meta[name=\"theme-color\"]');\n    if (themeColorMeta) {\n      themeColorMeta.setAttribute('content', theme === 'dark' ? '#0f172a' : '#ffffff');\n    }\n  }\n  getTheme() {\n    return this.currentTheme;\n  }\n  setTheme(theme) {\n    if (['light', 'dark'].includes(theme)) {\n      this.currentTheme = theme;\n      this.applyTheme(theme);\n      localStorage.setItem('theme', theme);\n    }\n  }\n}\n\n// Global Functions\nwindow.toggleSearchModal = () => {\n  if (!window.uiEnhancements) return;\n  const searchManager = window.uiEnhancements.searchManager;\n  const isOpen = searchManager.modal?.classList.contains('search-modal-open');\n  if (isOpen) {\n    searchManager.close();\n  } else {\n    searchManager.open();\n  }\n};\nwindow.closeSearchModal = () => {\n  if (window.uiEnhancements?.searchManager) {\n    window.uiEnhancements.searchManager.close();\n  }\n};\nwindow.clearRecentSearches = () => {\n  if (window.uiEnhancements?.searchManager) {\n    window.uiEnhancements.searchManager.clearRecentSearches();\n  }\n};\nwindow.showToast = (message, type = 'info', options = {}) => {\n  if (window.uiEnhancements?.toastManager) {\n    return window.uiEnhancements.toastManager.show(message, type, options);\n  }\n};\n\n// Initialize UI Enhancements\ndocument.addEventListener('DOMContentLoaded', () => {\n  window.uiEnhancements = new UIEnhancements();\n\n  // Initialize search manager\n  if (window.uiEnhancements.searchManager) {\n    window.uiEnhancements.searchManager.initialize();\n  }\n  console.log('UI Enhancements initialized successfully');\n});\n\n// Export for module usage\nif ( true && module.exports) {\n  module.exports = {\n    UIEnhancements,\n    ToastManager,\n    ModalManager,\n    ScrollManager,\n    LoadingManager,\n    SearchManager,\n    AnimationManager,\n    KeyboardManager,\n    ThemeManager\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk3LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLGNBQWMsQ0FBQztFQUNqQkMsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDQyxJQUFJLENBQUMsQ0FBQztJQUNYLElBQUksQ0FBQ0MsbUJBQW1CLENBQUMsQ0FBQztJQUMxQixJQUFJLENBQUNDLG9CQUFvQixDQUFDLENBQUM7RUFDL0I7RUFFQUYsSUFBSUEsQ0FBQSxFQUFHO0lBQ0g7SUFDQSxJQUFJLENBQUNHLFlBQVksR0FBRyxJQUFJQyxZQUFZLENBQUMsQ0FBQztJQUN0QyxJQUFJLENBQUNDLFlBQVksR0FBRyxJQUFJQyxZQUFZLENBQUMsQ0FBQztJQUN0QyxJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJQyxhQUFhLENBQUMsQ0FBQztJQUN4QyxJQUFJLENBQUNDLGNBQWMsR0FBRyxJQUFJQyxjQUFjLENBQUMsQ0FBQztJQUMxQyxJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJQyxhQUFhLENBQUMsQ0FBQztJQUN4QyxJQUFJLENBQUNDLGdCQUFnQixHQUFHLElBQUlDLGdCQUFnQixDQUFDLENBQUM7SUFDOUMsSUFBSSxDQUFDQyxlQUFlLEdBQUcsSUFBSUMsZUFBZSxDQUFDLENBQUM7SUFDNUMsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSUMsWUFBWSxDQUFDLENBQUM7RUFDMUM7RUFFQWpCLG1CQUFtQkEsQ0FBQSxFQUFHO0lBQ2xCO0lBQ0EsSUFBSWtCLFFBQVEsQ0FBQ0MsVUFBVSxLQUFLLFNBQVMsRUFBRTtNQUNuQ0QsUUFBUSxDQUFDRSxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxNQUFNLElBQUksQ0FBQ0MsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUMxRSxDQUFDLE1BQU07TUFDSCxJQUFJLENBQUNBLFVBQVUsQ0FBQyxDQUFDO0lBQ3JCOztJQUVBO0lBQ0FDLE1BQU0sQ0FBQ0YsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLE1BQU0sSUFBSSxDQUFDRyxZQUFZLENBQUMsQ0FBQyxDQUFDO0lBQzFERCxNQUFNLENBQUNGLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxNQUFNLElBQUksQ0FBQ0ksY0FBYyxDQUFDLENBQUMsQ0FBQztJQUM5REYsTUFBTSxDQUFDRixnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDSyxRQUFRLENBQUMsSUFBSSxDQUFDQyxjQUFjLEVBQUUsRUFBRSxDQUFDLEVBQUU7TUFBRUMsT0FBTyxFQUFFO0lBQUssQ0FBQyxDQUFDOztJQUU1RjtJQUNBVCxRQUFRLENBQUNFLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLE1BQU0sSUFBSSxDQUFDUSxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7O0lBRTlFO0lBQ0FOLE1BQU0sQ0FBQ0YsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLE1BQU0sSUFBSSxDQUFDUyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkVQLE1BQU0sQ0FBQ0YsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLE1BQU0sSUFBSSxDQUFDUyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7RUFDekU7RUFFQTVCLG9CQUFvQkEsQ0FBQSxFQUFHO0lBQ25CO0lBQ0EsSUFBSSxDQUFDNkIsY0FBYyxDQUFDLENBQUM7SUFDckIsSUFBSSxDQUFDQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQzFCLElBQUksQ0FBQ0MscUJBQXFCLENBQUMsQ0FBQztJQUM1QixJQUFJLENBQUNDLHFCQUFxQixDQUFDLENBQUM7SUFDNUIsSUFBSSxDQUFDQyxxQkFBcUIsQ0FBQyxDQUFDO0lBQzVCLElBQUksQ0FBQ0MsMkJBQTJCLENBQUMsQ0FBQztJQUNsQyxJQUFJLENBQUNDLDBCQUEwQixDQUFDLENBQUM7RUFDckM7RUFFQWYsVUFBVUEsQ0FBQSxFQUFHO0lBQ1RnQixPQUFPLENBQUNDLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQztJQUN6QyxJQUFJLENBQUMxQixnQkFBZ0IsQ0FBQzJCLDBCQUEwQixDQUFDLENBQUM7SUFDbEQsSUFBSSxDQUFDL0IsY0FBYyxDQUFDZ0MsaUJBQWlCLENBQUMsQ0FBQztFQUMzQztFQUVBakIsWUFBWUEsQ0FBQSxFQUFHO0lBQ1hjLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdDQUFnQyxDQUFDO0lBQzdDLElBQUksQ0FBQzFCLGdCQUFnQixDQUFDNkIsd0JBQXdCLENBQUMsQ0FBQztFQUNwRDtFQUVBakIsY0FBY0EsQ0FBQSxFQUFHO0lBQ2IsSUFBSSxDQUFDbEIsYUFBYSxDQUFDb0Msb0JBQW9CLENBQUMsQ0FBQztFQUM3QztFQUVBaEIsY0FBYyxHQUFHQSxDQUFBLEtBQU07SUFDbkIsSUFBSSxDQUFDLElBQUksQ0FBQ2lCLG9CQUFvQixFQUFFO01BQzVCLElBQUksQ0FBQ0Esb0JBQW9CLEdBQUdDLHFCQUFxQixDQUFDLE1BQU07UUFDcEQsSUFBSSxDQUFDdEMsYUFBYSxDQUFDdUMsWUFBWSxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDakMsZ0JBQWdCLENBQUNrQyxzQkFBc0IsQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQ0gsb0JBQW9CLEdBQUcsSUFBSTtNQUNwQyxDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFFRGYsa0JBQWtCQSxDQUFBLEVBQUc7SUFDakIsSUFBSVYsUUFBUSxDQUFDNkIsTUFBTSxFQUFFO01BQ2pCLElBQUksQ0FBQ0MsZUFBZSxDQUFDLENBQUM7SUFDMUIsQ0FBQyxNQUFNO01BQ0gsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzNCO0VBQ0o7RUFFQXBCLGVBQWVBLENBQUNxQixRQUFRLEVBQUU7SUFDdEIsTUFBTUMsT0FBTyxHQUFHRCxRQUFRLEdBQUcscUJBQXFCLEdBQUcsaUJBQWlCO0lBQ3BFLE1BQU1FLElBQUksR0FBR0YsUUFBUSxHQUFHLFNBQVMsR0FBRyxTQUFTO0lBQzdDLElBQUksQ0FBQ2hELFlBQVksQ0FBQ21ELElBQUksQ0FBQ0YsT0FBTyxFQUFFQyxJQUFJLENBQUM7RUFDekM7RUFFQXRCLGNBQWNBLENBQUEsRUFBRztJQUNiLE1BQU13QixZQUFZLEdBQUdwQyxRQUFRLENBQUNxQyxjQUFjLENBQUMsYUFBYSxDQUFDO0lBQzNELElBQUksQ0FBQ0QsWUFBWSxFQUFFO0lBRW5CQSxZQUFZLENBQUNsQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUdvQyxDQUFDLElBQUs7TUFDMUNBLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLENBQUM7TUFDbEIsSUFBSSxDQUFDbkQsYUFBYSxDQUFDb0QsV0FBVyxDQUFDLENBQUM7SUFDcEMsQ0FBQyxDQUFDO0VBQ047RUFFQTNCLG1CQUFtQkEsQ0FBQSxFQUFHO0lBQ2xCLE1BQU00QixXQUFXLEdBQUd6QyxRQUFRLENBQUNxQyxjQUFjLENBQUMsaUJBQWlCLENBQUM7SUFDOUQsSUFBSUksV0FBVyxFQUFFO01BQ2IsSUFBSSxDQUFDckQsYUFBYSxDQUFDc0QsY0FBYyxDQUFDRCxXQUFXLENBQUM7SUFDbEQ7RUFDSjtFQUVBM0IscUJBQXFCQSxDQUFBLEVBQUc7SUFDcEI7SUFDQSxJQUFJVixNQUFNLENBQUN1QyxjQUFjLElBQUl2QyxNQUFNLENBQUN1QyxjQUFjLEtBQUssaUJBQWlCLEVBQUU7TUFDdEU7SUFDSjs7SUFFQTtJQUNBLElBQUksQ0FBQ3ZDLE1BQU0sQ0FBQ3VDLGNBQWMsRUFBRTtNQUN4QnZDLE1BQU0sQ0FBQ3VDLGNBQWMsR0FBRyxpQkFBaUI7SUFDN0M7SUFFQSxNQUFNQyxNQUFNLEdBQUc1QyxRQUFRLENBQUM2QyxnQkFBZ0IsQ0FBQyxlQUFlLENBQUM7SUFDekQsSUFBSSxzQkFBc0IsSUFBSXpDLE1BQU0sRUFBRTtNQUNsQyxNQUFNMEMsZUFBZSxHQUFHO1FBQ3BCQyxJQUFJLEVBQUUsSUFBSTtRQUNWQyxVQUFVLEVBQUUsTUFBTTtRQUNsQkMsU0FBUyxFQUFFO01BQ2YsQ0FBQztNQUVELE1BQU1DLGFBQWEsR0FBRyxJQUFJQyxvQkFBb0IsQ0FBQyxDQUFDQyxPQUFPLEVBQUVDLFFBQVEsS0FBSztRQUNsRUQsT0FBTyxDQUFDRSxPQUFPLENBQUNDLEtBQUssSUFBSTtVQUNyQixJQUFJQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtZQUN0QixNQUFNQyxHQUFHLEdBQUdGLEtBQUssQ0FBQ0csTUFBTTs7WUFFeEI7WUFDQUQsR0FBRyxDQUFDdkQsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLE1BQU07Y0FDaEN1RCxHQUFHLENBQUNFLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFNBQVMsQ0FBQztjQUMvQkgsR0FBRyxDQUFDRSxTQUFTLENBQUNFLEdBQUcsQ0FBQyxZQUFZLENBQUM7O2NBRS9CO2NBQ0EsSUFBSUosR0FBRyxDQUFDSyxPQUFPLENBQUNDLFFBQVEsRUFBRTtnQkFDdEJOLEdBQUcsQ0FBQ08sR0FBRyxHQUFHUCxHQUFHLENBQUNLLE9BQU8sQ0FBQ0MsUUFBUTtjQUNsQyxDQUFDLE1BQU07Z0JBQ0g7Z0JBQ0FOLEdBQUcsQ0FBQ1EsS0FBSyxDQUFDQyxPQUFPLEdBQUcsTUFBTTtnQkFDMUIvQyxPQUFPLENBQUNnRCxJQUFJLENBQUMsdUJBQXVCLEVBQUVWLEdBQUcsQ0FBQ0ssT0FBTyxDQUFDRSxHQUFHLENBQUM7Y0FDMUQ7WUFDSixDQUFDLENBQUM7WUFFRlAsR0FBRyxDQUFDdkQsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLE1BQU07Y0FDL0J1RCxHQUFHLENBQUNFLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFNBQVMsQ0FBQztjQUMvQkgsR0FBRyxDQUFDRSxTQUFTLENBQUNFLEdBQUcsQ0FBQyxRQUFRLENBQUM7WUFDL0IsQ0FBQyxDQUFDO1lBRUZKLEdBQUcsQ0FBQ08sR0FBRyxHQUFHUCxHQUFHLENBQUNLLE9BQU8sQ0FBQ0UsR0FBRztZQUN6QlgsUUFBUSxDQUFDZSxTQUFTLENBQUNYLEdBQUcsQ0FBQztVQUMzQjtRQUNKLENBQUMsQ0FBQztNQUNOLENBQUMsRUFBRVgsZUFBZSxDQUFDO01BRW5CRixNQUFNLENBQUNVLE9BQU8sQ0FBQ0csR0FBRyxJQUFJO1FBQ2xCQSxHQUFHLENBQUNFLFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLFNBQVMsQ0FBQztRQUM1QlgsYUFBYSxDQUFDbUIsT0FBTyxDQUFDWixHQUFHLENBQUM7TUFDOUIsQ0FBQyxDQUFDO0lBQ047RUFDSjtFQUVBMUMscUJBQXFCQSxDQUFBLEVBQUc7SUFDcEI7SUFDQSxNQUFNdUQsS0FBSyxHQUFHdEUsUUFBUSxDQUFDNkMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDO0lBQy9DeUIsS0FBSyxDQUFDaEIsT0FBTyxDQUFDaUIsSUFBSSxJQUFJO01BQ2xCLElBQUksQ0FBQ0MsV0FBVyxDQUFDRCxJQUFJLENBQUM7SUFDMUIsQ0FBQyxDQUFDO0VBQ047RUFFQUMsV0FBV0EsQ0FBQ0QsSUFBSSxFQUFFO0lBQ2QsTUFBTUUsTUFBTSxHQUFHRixJQUFJLENBQUMxQixnQkFBZ0IsQ0FBQyx5QkFBeUIsQ0FBQztJQUUvRDRCLE1BQU0sQ0FBQ25CLE9BQU8sQ0FBQ29CLEtBQUssSUFBSTtNQUNwQjtNQUNBLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNELEtBQUssQ0FBQzs7TUFFNUI7TUFDQUEsS0FBSyxDQUFDeEUsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLE1BQU0sSUFBSSxDQUFDMEUsYUFBYSxDQUFDRixLQUFLLENBQUMsQ0FBQztNQUMvREEsS0FBSyxDQUFDeEUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLE1BQU0sSUFBSSxDQUFDMkUscUJBQXFCLENBQUNILEtBQUssQ0FBQyxDQUFDO0lBQzVFLENBQUMsQ0FBQztJQUVGSCxJQUFJLENBQUNyRSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUdvQyxDQUFDLElBQUssSUFBSSxDQUFDd0MsZ0JBQWdCLENBQUN4QyxDQUFDLEVBQUVpQyxJQUFJLENBQUMsQ0FBQztFQUMxRTtFQUVBSSxnQkFBZ0JBLENBQUNELEtBQUssRUFBRTtJQUNwQixNQUFNSyxTQUFTLEdBQUdMLEtBQUssQ0FBQ00sT0FBTyxDQUFDLGFBQWEsQ0FBQztJQUM5QyxJQUFJLENBQUNELFNBQVMsRUFBRTtJQUVoQixNQUFNRSxLQUFLLEdBQUdGLFNBQVMsQ0FBQ0csYUFBYSxDQUFDLE9BQU8sQ0FBQztJQUM5QyxJQUFJLENBQUNELEtBQUssRUFBRTtJQUVaUCxLQUFLLENBQUN4RSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTStFLEtBQUssQ0FBQ3RCLFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JFYSxLQUFLLENBQUN4RSxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsTUFBTTtNQUNqQyxJQUFJLENBQUN3RSxLQUFLLENBQUNTLEtBQUssRUFBRTtRQUNkRixLQUFLLENBQUN0QixTQUFTLENBQUNDLE1BQU0sQ0FBQyxTQUFTLENBQUM7TUFDckM7SUFDSixDQUFDLENBQUM7O0lBRUY7SUFDQSxJQUFJYyxLQUFLLENBQUNTLEtBQUssRUFBRTtNQUNiRixLQUFLLENBQUN0QixTQUFTLENBQUNFLEdBQUcsQ0FBQyxTQUFTLENBQUM7SUFDbEM7RUFDSjtFQUVBZSxhQUFhQSxDQUFDRixLQUFLLEVBQUU7SUFDakIsTUFBTVUsT0FBTyxHQUFHVixLQUFLLENBQUNXLGFBQWEsQ0FBQyxDQUFDO0lBQ3JDLE1BQU1OLFNBQVMsR0FBR0wsS0FBSyxDQUFDTSxPQUFPLENBQUMsYUFBYSxDQUFDO0lBRTlDLElBQUlELFNBQVMsRUFBRTtNQUNYQSxTQUFTLENBQUNwQixTQUFTLENBQUMyQixNQUFNLENBQUMsV0FBVyxFQUFFLENBQUNGLE9BQU8sQ0FBQztNQUNqREwsU0FBUyxDQUFDcEIsU0FBUyxDQUFDMkIsTUFBTSxDQUFDLGFBQWEsRUFBRUYsT0FBTyxJQUFJVixLQUFLLENBQUNTLEtBQUssQ0FBQztJQUNyRTtJQUVBLE9BQU9DLE9BQU87RUFDbEI7RUFFQVAscUJBQXFCQSxDQUFDSCxLQUFLLEVBQUU7SUFDekIsTUFBTUssU0FBUyxHQUFHTCxLQUFLLENBQUNNLE9BQU8sQ0FBQyxhQUFhLENBQUM7SUFDOUMsSUFBSUQsU0FBUyxFQUFFO01BQ1hBLFNBQVMsQ0FBQ3BCLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFdBQVcsQ0FBQztJQUMzQztFQUNKO0VBRUFrQixnQkFBZ0JBLENBQUN4QyxDQUFDLEVBQUVpQyxJQUFJLEVBQUU7SUFDdEIsTUFBTUUsTUFBTSxHQUFHRixJQUFJLENBQUMxQixnQkFBZ0IsQ0FBQyx1REFBdUQsQ0FBQztJQUM3RixJQUFJMEMsV0FBVyxHQUFHLElBQUk7SUFFdEJkLE1BQU0sQ0FBQ25CLE9BQU8sQ0FBQ29CLEtBQUssSUFBSTtNQUNwQixJQUFJLENBQUMsSUFBSSxDQUFDRSxhQUFhLENBQUNGLEtBQUssQ0FBQyxFQUFFO1FBQzVCYSxXQUFXLEdBQUcsS0FBSztNQUN2QjtJQUNKLENBQUMsQ0FBQztJQUVGLElBQUksQ0FBQ0EsV0FBVyxFQUFFO01BQ2RqRCxDQUFDLENBQUNDLGNBQWMsQ0FBQyxDQUFDO01BQ2xCLElBQUksQ0FBQ3ZELFlBQVksQ0FBQ21ELElBQUksQ0FBQyxvQ0FBb0MsRUFBRSxPQUFPLENBQUM7TUFDckU7SUFDSjs7SUFFQTtJQUNBLE1BQU1xRCxTQUFTLEdBQUdqQixJQUFJLENBQUNXLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQztJQUN2RCxJQUFJTSxTQUFTLEVBQUU7TUFDWEEsU0FBUyxDQUFDN0IsU0FBUyxDQUFDRSxHQUFHLENBQUMsYUFBYSxDQUFDO01BQ3RDMkIsU0FBUyxDQUFDQyxRQUFRLEdBQUcsSUFBSTtJQUM3QjtFQUNKO0VBRUF6RSxxQkFBcUJBLENBQUEsRUFBRztJQUNwQixNQUFNMEUsS0FBSyxHQUFHMUYsUUFBUSxDQUFDNkMsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUM7SUFFNUQ2QyxLQUFLLENBQUNwQyxPQUFPLENBQUNxQyxJQUFJLElBQUk7TUFDbEI7TUFDQUEsSUFBSSxDQUFDekYsZ0JBQWdCLENBQUMsV0FBVyxFQUFHb0MsQ0FBQyxJQUFLO1FBQ3RDLE1BQU07VUFBRXNELE9BQU87VUFBRUM7UUFBUSxDQUFDLEdBQUd2RCxDQUFDO1FBQzlCLE1BQU07VUFBRXdELElBQUk7VUFBRUM7UUFBSSxDQUFDLEdBQUdKLElBQUksQ0FBQ0sscUJBQXFCLENBQUMsQ0FBQztRQUNsRCxNQUFNQyxDQUFDLEdBQUdMLE9BQU8sR0FBR0UsSUFBSTtRQUN4QixNQUFNSSxDQUFDLEdBQUdMLE9BQU8sR0FBR0UsR0FBRztRQUV2QkosSUFBSSxDQUFDMUIsS0FBSyxDQUFDa0MsV0FBVyxDQUFDLFdBQVcsRUFBRSxHQUFHRixDQUFDLElBQUksQ0FBQztRQUM3Q04sSUFBSSxDQUFDMUIsS0FBSyxDQUFDa0MsV0FBVyxDQUFDLFdBQVcsRUFBRSxHQUFHRCxDQUFDLElBQUksQ0FBQztNQUNqRCxDQUFDLENBQUM7O01BRUY7TUFDQVAsSUFBSSxDQUFDekYsZ0JBQWdCLENBQUMsT0FBTyxFQUFHb0MsQ0FBQyxJQUFLO1FBQ2xDLElBQUksQ0FBQzhELGtCQUFrQixDQUFDOUQsQ0FBQyxFQUFFcUQsSUFBSSxDQUFDO01BQ3BDLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQztFQUNOO0VBRUFTLGtCQUFrQkEsQ0FBQzlELENBQUMsRUFBRStELE9BQU8sRUFBRTtJQUMzQixNQUFNQyxNQUFNLEdBQUd0RyxRQUFRLENBQUN1RyxhQUFhLENBQUMsTUFBTSxDQUFDO0lBQzdDLE1BQU07TUFBRUMsS0FBSztNQUFFQyxNQUFNO01BQUVYLElBQUk7TUFBRUM7SUFBSSxDQUFDLEdBQUdNLE9BQU8sQ0FBQ0wscUJBQXFCLENBQUMsQ0FBQztJQUNwRSxNQUFNVSxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLEVBQUVDLE1BQU0sQ0FBQztJQUNwQyxNQUFNO01BQUViLE9BQU87TUFBRUM7SUFBUSxDQUFDLEdBQUd2RCxDQUFDO0lBQzlCLE1BQU0yRCxDQUFDLEdBQUdMLE9BQU8sR0FBR0UsSUFBSSxHQUFHWSxJQUFJLEdBQUcsQ0FBQztJQUNuQyxNQUFNUixDQUFDLEdBQUdMLE9BQU8sR0FBR0UsR0FBRyxHQUFHVyxJQUFJLEdBQUcsQ0FBQztJQUVsQ0osTUFBTSxDQUFDckMsS0FBSyxDQUFDNEMsT0FBTyxHQUFHO0FBQy9CLHFCQUFxQkgsSUFBSTtBQUN6QixzQkFBc0JBLElBQUk7QUFDMUIsb0JBQW9CVCxDQUFDO0FBQ3JCLG1CQUFtQkMsQ0FBQztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7SUFFREcsT0FBTyxDQUFDcEMsS0FBSyxDQUFDNkMsUUFBUSxHQUFHLFVBQVU7SUFDbkNULE9BQU8sQ0FBQ3BDLEtBQUssQ0FBQzhDLFFBQVEsR0FBRyxRQUFRO0lBQ2pDVixPQUFPLENBQUNXLFdBQVcsQ0FBQ1YsTUFBTSxDQUFDOztJQUUzQjtJQUNBLE1BQU1yQyxLQUFLLEdBQUdqRSxRQUFRLENBQUN1RyxhQUFhLENBQUMsT0FBTyxDQUFDO0lBQzdDdEMsS0FBSyxDQUFDZ0QsV0FBVyxHQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7SUFDRGpILFFBQVEsQ0FBQ2tILElBQUksQ0FBQ0YsV0FBVyxDQUFDL0MsS0FBSyxDQUFDO0lBRWhDa0QsVUFBVSxDQUFDLE1BQU07TUFDYmIsTUFBTSxDQUFDMUMsTUFBTSxDQUFDLENBQUM7TUFDZixJQUFJeUMsT0FBTyxDQUFDeEQsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUN1RSxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQy9DbkQsS0FBSyxDQUFDTCxNQUFNLENBQUMsQ0FBQztNQUNsQjtJQUNKLENBQUMsRUFBRSxHQUFHLENBQUM7RUFDWDtFQUVBM0MsMkJBQTJCQSxDQUFBLEVBQUc7SUFDMUI7SUFDQWpCLFFBQVEsQ0FBQ0UsZ0JBQWdCLENBQUMsT0FBTyxFQUFHb0MsQ0FBQyxJQUFLO01BQ3RDLE1BQU0rRSxJQUFJLEdBQUcvRSxDQUFDLENBQUNvQixNQUFNLENBQUNzQixPQUFPLENBQUMsY0FBYyxDQUFDO01BQzdDLElBQUlxQyxJQUFJLElBQUlBLElBQUksQ0FBQ0MsWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsRUFBRTtRQUMzQ2hGLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLENBQUM7UUFDbEIsTUFBTW1CLE1BQU0sR0FBRzFELFFBQVEsQ0FBQ2tGLGFBQWEsQ0FBQ21DLElBQUksQ0FBQ0MsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2hFLElBQUk1RCxNQUFNLEVBQUU7VUFDUixJQUFJLENBQUN0RSxhQUFhLENBQUNtSSxlQUFlLENBQUM3RCxNQUFNLENBQUM7UUFDOUM7TUFDSjtJQUNKLENBQUMsQ0FBQzs7SUFFRjtJQUNBLElBQUksQ0FBQzhELHlCQUF5QixDQUFDLENBQUM7RUFDcEM7RUFFQUEseUJBQXlCQSxDQUFBLEVBQUc7SUFDeEIsTUFBTUMsUUFBUSxHQUFHekgsUUFBUSxDQUFDNkMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDO0lBQ3ZELE1BQU02RSxXQUFXLEdBQUd0SCxNQUFNLENBQUN1SCxRQUFRLENBQUNDLFFBQVE7SUFFNUNILFFBQVEsQ0FBQ25FLE9BQU8sQ0FBQytELElBQUksSUFBSTtNQUNyQixJQUFJQSxJQUFJLENBQUNDLFlBQVksQ0FBQyxNQUFNLENBQUMsS0FBS0ksV0FBVyxFQUFFO1FBQzNDTCxJQUFJLENBQUMxRCxTQUFTLENBQUNFLEdBQUcsQ0FBQyxRQUFRLENBQUM7TUFDaEM7SUFDSixDQUFDLENBQUM7RUFDTjtFQUVBM0MsMEJBQTBCQSxDQUFBLEVBQUc7SUFDekI7SUFDQWxCLFFBQVEsQ0FBQ0UsZ0JBQWdCLENBQUMsU0FBUyxFQUFHb0MsQ0FBQyxJQUFLO01BQ3hDLElBQUlBLENBQUMsQ0FBQ3VGLEdBQUcsS0FBSyxLQUFLLEVBQUU7UUFDakI3SCxRQUFRLENBQUM4SCxJQUFJLENBQUNuRSxTQUFTLENBQUNFLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQztNQUN0RDtJQUNKLENBQUMsQ0FBQztJQUVGN0QsUUFBUSxDQUFDRSxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsTUFBTTtNQUN6Q0YsUUFBUSxDQUFDOEgsSUFBSSxDQUFDbkUsU0FBUyxDQUFDQyxNQUFNLENBQUMscUJBQXFCLENBQUM7SUFDekQsQ0FBQyxDQUFDOztJQUVGO0lBQ0EsTUFBTW1FLFNBQVMsR0FBRy9ILFFBQVEsQ0FBQzZDLGdCQUFnQixDQUFDLFlBQVksQ0FBQztJQUN6RGtGLFNBQVMsQ0FBQ3pFLE9BQU8sQ0FBQytELElBQUksSUFBSTtNQUN0QkEsSUFBSSxDQUFDbkgsZ0JBQWdCLENBQUMsT0FBTyxFQUFHb0MsQ0FBQyxJQUFLO1FBQ2xDQSxDQUFDLENBQUNDLGNBQWMsQ0FBQyxDQUFDO1FBQ2xCLE1BQU1tQixNQUFNLEdBQUcxRCxRQUFRLENBQUNrRixhQUFhLENBQUNtQyxJQUFJLENBQUNDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNoRSxJQUFJNUQsTUFBTSxFQUFFO1VBQ1JBLE1BQU0sQ0FBQ3NFLEtBQUssQ0FBQyxDQUFDO1VBQ2R0RSxNQUFNLENBQUN1RSxjQUFjLENBQUM7WUFBRUMsUUFBUSxFQUFFO1VBQVMsQ0FBQyxDQUFDO1FBQ2pEO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDO0VBQ047RUFFQXBHLGVBQWVBLENBQUEsRUFBRztJQUNkOUIsUUFBUSxDQUFDOEgsSUFBSSxDQUFDbkUsU0FBUyxDQUFDRSxHQUFHLENBQUMsbUJBQW1CLENBQUM7RUFDcEQ7RUFFQTlCLGdCQUFnQkEsQ0FBQSxFQUFHO0lBQ2YvQixRQUFRLENBQUM4SCxJQUFJLENBQUNuRSxTQUFTLENBQUNDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQztFQUN2RDtBQUNKOztBQUVBO0FBQ0EsTUFBTTNFLFlBQVksQ0FBQztFQUNmTCxXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJLENBQUNtRyxTQUFTLEdBQUcvRSxRQUFRLENBQUNxQyxjQUFjLENBQUMsaUJBQWlCLENBQUM7SUFDM0QsSUFBSSxDQUFDOEYsTUFBTSxHQUFHLElBQUlDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLElBQUksQ0FBQ0MsZUFBZSxHQUFHLElBQUk7RUFDL0I7RUFFQWxHLElBQUksR0FBR0EsQ0FBQ0YsT0FBTyxFQUFFQyxJQUFJLEdBQUcsTUFBTSxFQUFFb0csT0FBTyxHQUFHLENBQUMsQ0FBQyxLQUFLO0lBQzdDLE1BQU1DLEVBQUUsR0FBR0MsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQztJQUNoQyxNQUFNQyxLQUFLLEdBQUcsSUFBSSxDQUFDQyxXQUFXLENBQUNMLEVBQUUsRUFBRXRHLE9BQU8sRUFBRUMsSUFBSSxFQUFFb0csT0FBTyxDQUFDO0lBRTFELElBQUksSUFBSSxDQUFDdkQsU0FBUyxFQUFFO01BQ2hCLElBQUksQ0FBQ0EsU0FBUyxDQUFDaUMsV0FBVyxDQUFDMkIsS0FBSyxDQUFDO01BQ2pDLElBQUksQ0FBQ1IsTUFBTSxDQUFDVSxHQUFHLENBQUNOLEVBQUUsRUFBRUksS0FBSyxDQUFDOztNQUUxQjtNQUNBakgscUJBQXFCLENBQUMsTUFBTTtRQUN4QmlILEtBQUssQ0FBQ2hGLFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLGdCQUFnQixDQUFDO01BQ3pDLENBQUMsQ0FBQzs7TUFFRjtNQUNBLElBQUl5RSxPQUFPLENBQUNRLFdBQVcsS0FBSyxLQUFLLEVBQUU7UUFDL0IzQixVQUFVLENBQUMsTUFBTTtVQUNiLElBQUksQ0FBQzRCLE9BQU8sQ0FBQ1IsRUFBRSxDQUFDO1FBQ3BCLENBQUMsRUFBRUQsT0FBTyxDQUFDVSxRQUFRLElBQUksSUFBSSxDQUFDWCxlQUFlLENBQUM7TUFDaEQ7O01BRUE7TUFDQSxJQUFJLENBQUNZLHNCQUFzQixDQUFDaEgsT0FBTyxDQUFDO0lBQ3hDO0lBRUEsT0FBT3NHLEVBQUU7RUFDYixDQUFDO0VBRURLLFdBQVdBLENBQUNMLEVBQUUsRUFBRXRHLE9BQU8sRUFBRUMsSUFBSSxFQUFFb0csT0FBTyxFQUFFO0lBQ3BDLE1BQU1ZLFFBQVEsR0FBR2xKLFFBQVEsQ0FBQ3FDLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQztJQUMxRCxJQUFJLENBQUM2RyxRQUFRLEVBQUUsT0FBTyxJQUFJO0lBRTFCLE1BQU1QLEtBQUssR0FBR08sUUFBUSxDQUFDQyxPQUFPLENBQUNDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQ2xFLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQztJQUNuRnlELEtBQUssQ0FBQ1UsWUFBWSxDQUFDLGVBQWUsRUFBRWQsRUFBRSxDQUFDO0lBQ3ZDSSxLQUFLLENBQUNoRixTQUFTLENBQUNFLEdBQUcsQ0FBQyxTQUFTM0IsSUFBSSxFQUFFLENBQUM7O0lBRXBDO0lBQ0EsTUFBTW9ILE9BQU8sR0FBR1gsS0FBSyxDQUFDekQsYUFBYSxDQUFDLGNBQWMsQ0FBQztJQUNuRCxNQUFNcUUsU0FBUyxHQUFHWixLQUFLLENBQUN6RCxhQUFhLENBQUMsZ0JBQWdCLENBQUM7SUFDdkQsTUFBTXNFLE1BQU0sR0FBR2IsS0FBSyxDQUFDekQsYUFBYSxDQUFDLGFBQWEsQ0FBQztJQUVqRCxJQUFJb0UsT0FBTyxFQUFFQSxPQUFPLENBQUNyQyxXQUFXLEdBQUdxQixPQUFPLENBQUNtQixLQUFLLElBQUksSUFBSSxDQUFDQyxlQUFlLENBQUN4SCxJQUFJLENBQUM7SUFDOUUsSUFBSXFILFNBQVMsRUFBRUEsU0FBUyxDQUFDdEMsV0FBVyxHQUFHaEYsT0FBTztJQUM5QyxJQUFJdUgsTUFBTSxFQUFFLElBQUksQ0FBQ0csWUFBWSxDQUFDSCxNQUFNLEVBQUV0SCxJQUFJLENBQUM7O0lBRTNDO0lBQ0EsTUFBTTBILFFBQVEsR0FBR2pCLEtBQUssQ0FBQ3pELGFBQWEsQ0FBQyxjQUFjLENBQUM7SUFDcEQsSUFBSTBFLFFBQVEsRUFBRTtNQUNWQSxRQUFRLENBQUMxSixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTSxJQUFJLENBQUM2SSxPQUFPLENBQUNSLEVBQUUsQ0FBQyxDQUFDO0lBQzlEOztJQUVBO0lBQ0EsSUFBSUQsT0FBTyxDQUFDdUIsT0FBTyxFQUFFO01BQ2pCLElBQUksQ0FBQ0MsaUJBQWlCLENBQUNuQixLQUFLLEVBQUVMLE9BQU8sQ0FBQ3VCLE9BQU8sRUFBRXRCLEVBQUUsQ0FBQztJQUN0RDs7SUFFQTtJQUNBLElBQUlELE9BQU8sQ0FBQ1EsV0FBVyxLQUFLLEtBQUssRUFBRTtNQUMvQixJQUFJLENBQUNpQixnQkFBZ0IsQ0FBQ3BCLEtBQUssRUFBRUwsT0FBTyxDQUFDVSxRQUFRLElBQUksSUFBSSxDQUFDWCxlQUFlLENBQUM7SUFDMUU7SUFFQSxPQUFPTSxLQUFLO0VBQ2hCO0VBRUFnQixZQUFZQSxDQUFDSCxNQUFNLEVBQUV0SCxJQUFJLEVBQUU7SUFDdkIsTUFBTThILE1BQU0sR0FBRyxTQUFTOUgsSUFBSSxPQUFPO0lBQ25DLE1BQU0rSCxVQUFVLEdBQUdqSyxRQUFRLENBQUNxQyxjQUFjLENBQUMySCxNQUFNLENBQUM7SUFDbEQsSUFBSUMsVUFBVSxFQUFFO01BQ1pULE1BQU0sQ0FBQ1UsU0FBUyxHQUFHRCxVQUFVLENBQUNDLFNBQVM7TUFDdkNWLE1BQU0sQ0FBQ1csU0FBUyxHQUFHRixVQUFVLENBQUNFLFNBQVM7SUFDM0M7RUFDSjtFQUVBTCxpQkFBaUJBLENBQUNuQixLQUFLLEVBQUVrQixPQUFPLEVBQUVPLE9BQU8sRUFBRTtJQUN2QyxNQUFNQyxnQkFBZ0IsR0FBRzFCLEtBQUssQ0FBQ3pELGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQztJQUM5RCxJQUFJLENBQUNtRixnQkFBZ0IsSUFBSSxDQUFDUixPQUFPLENBQUN6QyxNQUFNLEVBQUU7SUFFMUNpRCxnQkFBZ0IsQ0FBQzFHLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUUzQ2lHLE9BQU8sQ0FBQ3ZHLE9BQU8sQ0FBQyxDQUFDZ0gsTUFBTSxFQUFFQyxLQUFLLEtBQUs7TUFDL0IsTUFBTUMsTUFBTSxHQUFHSCxnQkFBZ0IsQ0FBQ25GLGFBQWEsQ0FDekNxRixLQUFLLEtBQUssQ0FBQyxHQUFHLHVCQUF1QixHQUFHLHlCQUM1QyxDQUFDO01BQ0QsSUFBSUMsTUFBTSxFQUFFO1FBQ1JBLE1BQU0sQ0FBQ3ZELFdBQVcsR0FBR3FELE1BQU0sQ0FBQ0csSUFBSTtRQUNoQ0QsTUFBTSxDQUFDRSxPQUFPLEdBQUcsTUFBTTtVQUNuQkosTUFBTSxDQUFDSyxPQUFPLENBQUMsQ0FBQztVQUNoQixJQUFJLENBQUM1QixPQUFPLENBQUNxQixPQUFPLENBQUM7UUFDekIsQ0FBQztNQUNMO0lBQ0osQ0FBQyxDQUFDO0VBQ047RUFFQUwsZ0JBQWdCQSxDQUFDcEIsS0FBSyxFQUFFSyxRQUFRLEVBQUU7SUFDOUIsTUFBTTRCLGlCQUFpQixHQUFHakMsS0FBSyxDQUFDekQsYUFBYSxDQUFDLDJCQUEyQixDQUFDO0lBQzFFLE1BQU16QyxXQUFXLEdBQUdrRyxLQUFLLENBQUN6RCxhQUFhLENBQUMsaUJBQWlCLENBQUM7SUFFMUQsSUFBSTBGLGlCQUFpQixJQUFJbkksV0FBVyxFQUFFO01BQ2xDbUksaUJBQWlCLENBQUNqSCxTQUFTLENBQUNDLE1BQU0sQ0FBQyxRQUFRLENBQUM7TUFDNUNuQixXQUFXLENBQUN3QixLQUFLLENBQUNrQyxXQUFXLENBQUMsWUFBWSxFQUFFLEdBQUc2QyxRQUFRLElBQUksQ0FBQztNQUU1RHRILHFCQUFxQixDQUFDLE1BQU07UUFDeEJlLFdBQVcsQ0FBQ3dCLEtBQUssQ0FBQ3VDLEtBQUssR0FBRyxJQUFJO01BQ2xDLENBQUMsQ0FBQztJQUNOO0VBQ0o7RUFFQXVDLE9BQU9BLENBQUNSLEVBQUUsRUFBRTtJQUNSLE1BQU1JLEtBQUssR0FBRyxJQUFJLENBQUNSLE1BQU0sQ0FBQzBDLEdBQUcsQ0FBQ3RDLEVBQUUsQ0FBQztJQUNqQyxJQUFJSSxLQUFLLEVBQUU7TUFDUEEsS0FBSyxDQUFDaEYsU0FBUyxDQUFDRSxHQUFHLENBQUMsZ0JBQWdCLENBQUM7TUFDckNzRCxVQUFVLENBQUMsTUFBTTtRQUNid0IsS0FBSyxDQUFDL0UsTUFBTSxDQUFDLENBQUM7UUFDZCxJQUFJLENBQUN1RSxNQUFNLENBQUMyQyxNQUFNLENBQUN2QyxFQUFFLENBQUM7TUFDMUIsQ0FBQyxFQUFFLEdBQUcsQ0FBQztJQUNYO0VBQ0o7RUFFQXdDLFVBQVVBLENBQUEsRUFBRztJQUNULElBQUksQ0FBQzVDLE1BQU0sQ0FBQzdFLE9BQU8sQ0FBQyxDQUFDcUYsS0FBSyxFQUFFSixFQUFFLEtBQUs7TUFDL0IsSUFBSSxDQUFDUSxPQUFPLENBQUNSLEVBQUUsQ0FBQztJQUNwQixDQUFDLENBQUM7RUFDTjtFQUVBbUIsZUFBZUEsQ0FBQ3hILElBQUksRUFBRTtJQUNsQixNQUFNOEksTUFBTSxHQUFHO01BQ1hDLE9BQU8sRUFBRSxTQUFTO01BQ2xCQyxLQUFLLEVBQUUsT0FBTztNQUNkQyxPQUFPLEVBQUUsU0FBUztNQUNsQkMsSUFBSSxFQUFFO0lBQ1YsQ0FBQztJQUNELE9BQU9KLE1BQU0sQ0FBQzlJLElBQUksQ0FBQyxJQUFJLGNBQWM7RUFDekM7RUFFQStHLHNCQUFzQkEsQ0FBQ2hILE9BQU8sRUFBRTtJQUM1QixNQUFNb0osWUFBWSxHQUFHckwsUUFBUSxDQUFDcUMsY0FBYyxDQUFDLG9CQUFvQixDQUFDO0lBQ2xFLElBQUlnSixZQUFZLEVBQUU7TUFDZEEsWUFBWSxDQUFDcEUsV0FBVyxHQUFHaEYsT0FBTztNQUNsQ2tGLFVBQVUsQ0FBQyxNQUFNO1FBQ2JrRSxZQUFZLENBQUNwRSxXQUFXLEdBQUcsRUFBRTtNQUNqQyxDQUFDLEVBQUUsSUFBSSxDQUFDO0lBQ1o7RUFDSjtBQUNKOztBQUVBO0FBQ0EsTUFBTTlILFlBQVksQ0FBQztFQUNmUCxXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJLENBQUMwTSxXQUFXLEdBQUcsSUFBSTtJQUN2QixJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJO0VBQzdCO0VBRUFDLElBQUlBLENBQUNDLE9BQU8sRUFBRTtJQUNWLE1BQU1DLEtBQUssR0FBRzFMLFFBQVEsQ0FBQ3FDLGNBQWMsQ0FBQ29KLE9BQU8sQ0FBQztJQUM5QyxJQUFJLENBQUNDLEtBQUssRUFBRTtJQUVaLElBQUksQ0FBQ0gsYUFBYSxHQUFHdkwsUUFBUSxDQUFDMkwsYUFBYTtJQUMzQyxJQUFJLENBQUNMLFdBQVcsR0FBR0ksS0FBSztJQUV4QkEsS0FBSyxDQUFDL0gsU0FBUyxDQUFDRSxHQUFHLENBQUMsWUFBWSxDQUFDO0lBQ2pDNkgsS0FBSyxDQUFDckMsWUFBWSxDQUFDLGFBQWEsRUFBRSxPQUFPLENBQUM7O0lBRTFDO0lBQ0EsTUFBTXVDLGlCQUFpQixHQUFHRixLQUFLLENBQUM3SSxnQkFBZ0IsQ0FDNUMsMEVBQ0osQ0FBQztJQUVELElBQUkrSSxpQkFBaUIsQ0FBQ3hFLE1BQU0sR0FBRyxDQUFDLEVBQUU7TUFDOUJ3RSxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQzVELEtBQUssQ0FBQyxDQUFDO0lBQ2hDOztJQUVBO0lBQ0FoSSxRQUFRLENBQUNFLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMyTCxpQkFBaUIsQ0FBQzs7SUFFNUQ7SUFDQTdMLFFBQVEsQ0FBQzhILElBQUksQ0FBQzdELEtBQUssQ0FBQzhDLFFBQVEsR0FBRyxRQUFRO0VBQzNDO0VBRUErRSxLQUFLQSxDQUFDTCxPQUFPLEVBQUU7SUFDWCxNQUFNQyxLQUFLLEdBQUcxTCxRQUFRLENBQUNxQyxjQUFjLENBQUNvSixPQUFPLENBQUM7SUFDOUMsSUFBSSxDQUFDQyxLQUFLLEVBQUU7SUFFWkEsS0FBSyxDQUFDL0gsU0FBUyxDQUFDQyxNQUFNLENBQUMsWUFBWSxDQUFDO0lBQ3BDOEgsS0FBSyxDQUFDckMsWUFBWSxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUM7O0lBRXpDO0lBQ0EsSUFBSSxJQUFJLENBQUNrQyxhQUFhLEVBQUU7TUFDcEIsSUFBSSxDQUFDQSxhQUFhLENBQUN2RCxLQUFLLENBQUMsQ0FBQztJQUM5Qjs7SUFFQTtJQUNBaEksUUFBUSxDQUFDK0wsbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQ0YsaUJBQWlCLENBQUM7O0lBRS9EO0lBQ0E3TCxRQUFRLENBQUM4SCxJQUFJLENBQUM3RCxLQUFLLENBQUM4QyxRQUFRLEdBQUcsRUFBRTtJQUVqQyxJQUFJLENBQUN1RSxXQUFXLEdBQUcsSUFBSTtJQUN2QixJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJO0VBQzdCO0VBRUFNLGlCQUFpQixHQUFJdkosQ0FBQyxJQUFLO0lBQ3ZCLElBQUlBLENBQUMsQ0FBQ3VGLEdBQUcsS0FBSyxRQUFRLElBQUksSUFBSSxDQUFDeUQsV0FBVyxFQUFFO01BQ3hDLElBQUksQ0FBQ1EsS0FBSyxDQUFDLElBQUksQ0FBQ1IsV0FBVyxDQUFDL0MsRUFBRSxDQUFDO0lBQ25DO0VBQ0osQ0FBQztBQUNMOztBQUVBO0FBQ0EsTUFBTWxKLGFBQWEsQ0FBQztFQUNoQlQsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDNkQsV0FBVyxHQUFHLElBQUk7SUFDdkIsSUFBSSxDQUFDTCxZQUFZLEdBQUdwQyxRQUFRLENBQUNxQyxjQUFjLENBQUMsYUFBYSxDQUFDO0lBQzFELElBQUksQ0FBQzJKLGVBQWUsR0FBRyxHQUFHO0lBQzFCLElBQUksQ0FBQ0MsT0FBTyxHQUFHLEtBQUs7RUFDeEI7RUFFQXZKLGNBQWNBLENBQUMyRCxPQUFPLEVBQUU7SUFDcEIsSUFBSSxDQUFDNUQsV0FBVyxHQUFHNEQsT0FBTztFQUM5QjtFQUVBMUUsWUFBWUEsQ0FBQSxFQUFHO0lBQ1gsSUFBSSxDQUFDLElBQUksQ0FBQ3NLLE9BQU8sRUFBRTtNQUNmdksscUJBQXFCLENBQUMsTUFBTTtRQUN4QixJQUFJLENBQUNGLG9CQUFvQixDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDMEsscUJBQXFCLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUNELE9BQU8sR0FBRyxLQUFLO01BQ3hCLENBQUMsQ0FBQztNQUNGLElBQUksQ0FBQ0EsT0FBTyxHQUFHLElBQUk7SUFDdkI7RUFDSjtFQUVBekssb0JBQW9CQSxDQUFBLEVBQUc7SUFDbkIsSUFBSSxDQUFDLElBQUksQ0FBQ2lCLFdBQVcsRUFBRTtJQUV2QixNQUFNMEosU0FBUyxHQUFHL0wsTUFBTSxDQUFDZ00sV0FBVztJQUNwQyxNQUFNQyxTQUFTLEdBQUdyTSxRQUFRLENBQUNzTSxlQUFlLENBQUNDLFlBQVksR0FBR25NLE1BQU0sQ0FBQ29NLFdBQVc7SUFDNUUsTUFBTUMsUUFBUSxHQUFJTixTQUFTLEdBQUdFLFNBQVMsR0FBSSxHQUFHO0lBRTlDLElBQUksQ0FBQzVKLFdBQVcsQ0FBQ3dCLEtBQUssQ0FBQ3VDLEtBQUssR0FBRyxHQUFHRyxJQUFJLENBQUMrRixHQUFHLENBQUNELFFBQVEsRUFBRSxHQUFHLENBQUMsR0FBRztFQUNoRTtFQUVBUCxxQkFBcUJBLENBQUEsRUFBRztJQUNwQixJQUFJLENBQUMsSUFBSSxDQUFDOUosWUFBWSxFQUFFO0lBRXhCLE1BQU11SyxVQUFVLEdBQUd2TSxNQUFNLENBQUNnTSxXQUFXLEdBQUcsSUFBSSxDQUFDSixlQUFlO0lBQzVELElBQUksQ0FBQzVKLFlBQVksQ0FBQ3VCLFNBQVMsQ0FBQzJCLE1BQU0sQ0FBQyxTQUFTLEVBQUVxSCxVQUFVLENBQUM7RUFDN0Q7RUFFQW5LLFdBQVdBLENBQUEsRUFBRztJQUNWcEMsTUFBTSxDQUFDd00sUUFBUSxDQUFDO01BQ1o3RyxHQUFHLEVBQUUsQ0FBQztNQUNObUMsUUFBUSxFQUFFO0lBQ2QsQ0FBQyxDQUFDO0VBQ047RUFFQVgsZUFBZUEsQ0FBQ2xCLE9BQU8sRUFBRXdHLE1BQU0sR0FBRyxFQUFFLEVBQUU7SUFDbEMsTUFBTUMsZUFBZSxHQUFHekcsT0FBTyxDQUFDMEcsU0FBUyxHQUFHRixNQUFNO0lBQ2xEek0sTUFBTSxDQUFDd00sUUFBUSxDQUFDO01BQ1o3RyxHQUFHLEVBQUUrRyxlQUFlO01BQ3BCNUUsUUFBUSxFQUFFO0lBQ2QsQ0FBQyxDQUFDO0VBQ047QUFDSjs7QUFFQTtBQUNBLE1BQU0zSSxjQUFjLENBQUM7RUFDakJYLFdBQVdBLENBQUEsRUFBRztJQUNWLElBQUksQ0FBQ29PLE9BQU8sR0FBR2hOLFFBQVEsQ0FBQ3FDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQztJQUN6RCxJQUFJLENBQUM0SyxlQUFlLEdBQUcsQ0FDbkIsb0JBQW9CLEVBQ3BCLDhCQUE4QixFQUM5QixpQkFBaUIsRUFDakIsa0JBQWtCLENBQ3JCO0lBQ0QsSUFBSSxDQUFDQyxtQkFBbUIsR0FBRyxDQUFDO0VBQ2hDO0VBRUEvSyxJQUFJQSxDQUFDRixPQUFPLEVBQUU7SUFDVixJQUFJLENBQUMsSUFBSSxDQUFDK0ssT0FBTyxFQUFFO0lBRW5CLElBQUkvSyxPQUFPLEVBQUU7TUFDVCxNQUFNc0gsU0FBUyxHQUFHdkosUUFBUSxDQUFDcUMsY0FBYyxDQUFDLGlCQUFpQixDQUFDO01BQzVELElBQUlrSCxTQUFTLEVBQUVBLFNBQVMsQ0FBQ3RDLFdBQVcsR0FBR2hGLE9BQU87SUFDbEQ7SUFFQSxJQUFJLENBQUMrSyxPQUFPLENBQUNySixTQUFTLENBQUNFLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDbEMsSUFBSSxDQUFDb0Ysc0JBQXNCLENBQUMsU0FBUyxDQUFDO0VBQzFDO0VBRUFrRSxJQUFJQSxDQUFBLEVBQUc7SUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDSCxPQUFPLEVBQUU7SUFFbkIsSUFBSSxDQUFDQSxPQUFPLENBQUNySixTQUFTLENBQUNDLE1BQU0sQ0FBQyxNQUFNLENBQUM7RUFDekM7RUFFQXRDLGlCQUFpQkEsQ0FBQSxFQUFHO0lBQ2hCO0lBQ0EsTUFBTThMLGFBQWEsR0FBR3BOLFFBQVEsQ0FBQ2tGLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQztJQUMvRCxJQUFJa0ksYUFBYSxFQUFFO01BQ2ZBLGFBQWEsQ0FBQ25KLEtBQUssQ0FBQ29KLE9BQU8sR0FBRyxHQUFHO01BQ2pDbEcsVUFBVSxDQUFDLE1BQU07UUFDYmlHLGFBQWEsQ0FBQ3hKLE1BQU0sQ0FBQyxDQUFDO01BQzFCLENBQUMsRUFBRSxHQUFHLENBQUM7SUFDWDtFQUNKO0VBRUEwSixjQUFjQSxDQUFDQyxPQUFPLEVBQUU7SUFDcEIsTUFBTTlLLFdBQVcsR0FBR3pDLFFBQVEsQ0FBQ3FDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQztJQUMvRCxJQUFJSSxXQUFXLEVBQUU7TUFDYkEsV0FBVyxDQUFDd0IsS0FBSyxDQUFDdUMsS0FBSyxHQUFHLEdBQUcrRyxPQUFPLEdBQUc7SUFDM0M7RUFDSjtFQUVBQyxhQUFhQSxDQUFDdkwsT0FBTyxFQUFFO0lBQ25CLE1BQU1zSCxTQUFTLEdBQUd2SixRQUFRLENBQUNxQyxjQUFjLENBQUMsaUJBQWlCLENBQUM7SUFDNUQsSUFBSWtILFNBQVMsRUFBRTtNQUNYQSxTQUFTLENBQUN0QyxXQUFXLEdBQUdoRixPQUFPO0lBQ25DO0VBQ0o7RUFFQXdMLGFBQWFBLENBQUNDLFFBQVEsR0FBRyxJQUFJLEVBQUU7SUFDM0JDLFdBQVcsQ0FBQyxNQUFNO01BQ2QsSUFBSSxDQUFDVCxtQkFBbUIsR0FBRyxDQUFDLElBQUksQ0FBQ0EsbUJBQW1CLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQ0QsZUFBZSxDQUFDN0YsTUFBTTtNQUN2RixJQUFJLENBQUNvRyxhQUFhLENBQUMsSUFBSSxDQUFDUCxlQUFlLENBQUMsSUFBSSxDQUFDQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQ3RFLENBQUMsRUFBRVEsUUFBUSxDQUFDO0VBQ2hCO0VBRUF6RSxzQkFBc0JBLENBQUNoSCxPQUFPLEVBQUU7SUFDNUIsTUFBTW9KLFlBQVksR0FBR3JMLFFBQVEsQ0FBQ3FDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQztJQUNwRSxJQUFJZ0osWUFBWSxFQUFFO01BQ2RBLFlBQVksQ0FBQ3BFLFdBQVcsR0FBR2hGLE9BQU87SUFDdEM7RUFDSjtBQUNKOztBQUVBO0FBQ0EsTUFBTXhDLGFBQWEsQ0FBQztFQUNoQmIsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDOE0sS0FBSyxHQUFHMUwsUUFBUSxDQUFDcUMsY0FBYyxDQUFDLGNBQWMsQ0FBQztJQUNwRCxJQUFJLENBQUNxQyxLQUFLLEdBQUcxRSxRQUFRLENBQUNxQyxjQUFjLENBQUMsY0FBYyxDQUFDO0lBQ3BELElBQUksQ0FBQ3VMLGdCQUFnQixHQUFHNU4sUUFBUSxDQUFDcUMsY0FBYyxDQUFDLGdCQUFnQixDQUFDO0lBQ2pFLElBQUksQ0FBQ3dMLGFBQWEsR0FBRyxJQUFJO0lBQ3pCLElBQUksQ0FBQ0MsWUFBWSxHQUFHLEVBQUU7SUFDdEIsSUFBSSxDQUFDQyxhQUFhLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLElBQUksQ0FBQ0MsT0FBTyxHQUFHLEVBQUU7RUFDckI7RUFFQUMsVUFBVUEsQ0FBQSxFQUFHO0lBQ1QsSUFBSSxDQUFDLElBQUksQ0FBQ3ZDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQ2hILEtBQUssRUFBRTs7SUFFaEM7SUFDQSxJQUFJLENBQUNBLEtBQUssQ0FBQ3hFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUNnTyxRQUFRLENBQUU1TCxDQUFDLElBQUssSUFBSSxDQUFDNkwsV0FBVyxDQUFDN0wsQ0FBQyxDQUFDb0IsTUFBTSxDQUFDeUIsS0FBSyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDakcsSUFBSSxDQUFDVCxLQUFLLENBQUN4RSxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUdvQyxDQUFDLElBQUssSUFBSSxDQUFDOEwsYUFBYSxDQUFDOUwsQ0FBQyxDQUFDLENBQUM7O0lBRXBFO0lBQ0EsTUFBTStMLE9BQU8sR0FBRyxJQUFJLENBQUMzQyxLQUFLLENBQUM3SSxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQztJQUM3RHdMLE9BQU8sQ0FBQy9LLE9BQU8sQ0FBQ2dMLE1BQU0sSUFBSTtNQUN0QkEsTUFBTSxDQUFDcE8sZ0JBQWdCLENBQUMsT0FBTyxFQUFHb0MsQ0FBQyxJQUFLLElBQUksQ0FBQ2lNLGlCQUFpQixDQUFDak0sQ0FBQyxDQUFDb0IsTUFBTSxDQUFDLENBQUM7SUFDN0UsQ0FBQyxDQUFDOztJQUVGO0lBQ0EsTUFBTThLLFdBQVcsR0FBRyxJQUFJLENBQUM5QyxLQUFLLENBQUM3SSxnQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQztJQUNyRTJMLFdBQVcsQ0FBQ2xMLE9BQU8sQ0FBQ21MLFVBQVUsSUFBSTtNQUM5QkEsVUFBVSxDQUFDdk8sZ0JBQWdCLENBQUMsT0FBTyxFQUFHb0MsQ0FBQyxJQUFLO1FBQ3hDLElBQUksQ0FBQ29DLEtBQUssQ0FBQ1MsS0FBSyxHQUFHN0MsQ0FBQyxDQUFDb0IsTUFBTSxDQUFDdUQsV0FBVztRQUN2QyxJQUFJLENBQUNrSCxXQUFXLENBQUM3TCxDQUFDLENBQUNvQixNQUFNLENBQUN1RCxXQUFXLENBQUM7TUFDMUMsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDO0VBQ047RUFFQXVFLElBQUlBLENBQUEsRUFBRztJQUNILElBQUksQ0FBQyxJQUFJLENBQUNFLEtBQUssRUFBRTtJQUVqQixJQUFJLENBQUNBLEtBQUssQ0FBQy9ILFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLG1CQUFtQixDQUFDO0lBQzdDLElBQUksQ0FBQzZILEtBQUssQ0FBQ3pILEtBQUssQ0FBQ29KLE9BQU8sR0FBRyxHQUFHO0lBQzlCLElBQUksQ0FBQzNCLEtBQUssQ0FBQ3pILEtBQUssQ0FBQ3lLLFVBQVUsR0FBRyxTQUFTO0lBRXZDLElBQUksSUFBSSxDQUFDaEssS0FBSyxFQUFFO01BQ1osSUFBSSxDQUFDQSxLQUFLLENBQUNzRCxLQUFLLENBQUMsQ0FBQztJQUN0Qjs7SUFFQTtJQUNBLElBQUksQ0FBQzJHLGtCQUFrQixDQUFDLENBQUM7RUFDN0I7RUFFQTdDLEtBQUtBLENBQUEsRUFBRztJQUNKLElBQUksQ0FBQyxJQUFJLENBQUNKLEtBQUssRUFBRTtJQUVqQixJQUFJLENBQUNBLEtBQUssQ0FBQy9ILFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLG1CQUFtQixDQUFDO0lBQ2hELElBQUksQ0FBQzhILEtBQUssQ0FBQ3pILEtBQUssQ0FBQ29KLE9BQU8sR0FBRyxHQUFHO0lBQzlCLElBQUksQ0FBQzNCLEtBQUssQ0FBQ3pILEtBQUssQ0FBQ3lLLFVBQVUsR0FBRyxRQUFRO0lBRXRDLElBQUksQ0FBQ0UsWUFBWSxDQUFDLENBQUM7SUFDbkIsSUFBSSxDQUFDYixhQUFhLEdBQUcsQ0FBQyxDQUFDO0VBQzNCO0VBRUFJLFdBQVdBLENBQUNVLEtBQUssRUFBRTtJQUNmLElBQUksQ0FBQ2YsWUFBWSxHQUFHZSxLQUFLLENBQUNDLElBQUksQ0FBQyxDQUFDO0lBRWhDLElBQUksSUFBSSxDQUFDakIsYUFBYSxFQUFFO01BQ3BCa0IsWUFBWSxDQUFDLElBQUksQ0FBQ2xCLGFBQWEsQ0FBQztJQUNwQztJQUVBLElBQUksQ0FBQ0EsYUFBYSxHQUFHMUcsVUFBVSxDQUFDLE1BQU07TUFDbEMsSUFBSSxJQUFJLENBQUMyRyxZQUFZLENBQUMxRyxNQUFNLElBQUksQ0FBQyxFQUFFO1FBQy9CLElBQUksQ0FBQzRILGFBQWEsQ0FBQyxJQUFJLENBQUNsQixZQUFZLENBQUM7TUFDekMsQ0FBQyxNQUFNO1FBQ0gsSUFBSSxDQUFDYSxrQkFBa0IsQ0FBQyxDQUFDO01BQzdCO0lBQ0osQ0FBQyxFQUFFLEdBQUcsQ0FBQztFQUNYO0VBRUFQLGFBQWFBLENBQUM5TCxDQUFDLEVBQUU7SUFDYixRQUFRQSxDQUFDLENBQUN1RixHQUFHO01BQ1QsS0FBSyxXQUFXO1FBQ1p2RixDQUFDLENBQUNDLGNBQWMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksQ0FBQ3dMLGFBQWEsR0FBR3BILElBQUksQ0FBQytGLEdBQUcsQ0FBQyxJQUFJLENBQUNxQixhQUFhLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQ0MsT0FBTyxDQUFDNUcsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUM5RSxJQUFJLENBQUM2SCxlQUFlLENBQUMsQ0FBQztRQUN0QjtNQUNKLEtBQUssU0FBUztRQUNWM00sQ0FBQyxDQUFDQyxjQUFjLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUN3TCxhQUFhLEdBQUdwSCxJQUFJLENBQUNDLEdBQUcsQ0FBQyxJQUFJLENBQUNtSCxhQUFhLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3pELElBQUksQ0FBQ2tCLGVBQWUsQ0FBQyxDQUFDO1FBQ3RCO01BQ0osS0FBSyxPQUFPO1FBQ1IzTSxDQUFDLENBQUNDLGNBQWMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksSUFBSSxDQUFDd0wsYUFBYSxJQUFJLENBQUMsRUFBRTtVQUN6QixJQUFJLENBQUNtQixZQUFZLENBQUMsSUFBSSxDQUFDbkIsYUFBYSxDQUFDO1FBQ3pDO1FBQ0E7TUFDSixLQUFLLFFBQVE7UUFDVCxJQUFJLENBQUNqQyxLQUFLLENBQUMsQ0FBQztRQUNaO0lBQ1I7RUFDSjtFQUVBeUMsaUJBQWlCQSxDQUFDWSxTQUFTLEVBQUU7SUFDekI7SUFDQSxJQUFJLENBQUN6RCxLQUFLLENBQUM3SSxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDUyxPQUFPLENBQUM4TCxHQUFHLElBQUk7TUFDekRBLEdBQUcsQ0FBQ3pMLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUNsQyxDQUFDLENBQUM7SUFDRnVMLFNBQVMsQ0FBQ3hMLFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsQ0FBQzs7SUFFakM7SUFDQSxJQUFJLElBQUksQ0FBQ2lLLFlBQVksRUFBRTtNQUNuQixJQUFJLENBQUNrQixhQUFhLENBQUMsSUFBSSxDQUFDbEIsWUFBWSxDQUFDO0lBQ3pDO0VBQ0o7RUFFQSxNQUFNa0IsYUFBYUEsQ0FBQ0gsS0FBSyxFQUFFO0lBQ3ZCLElBQUksQ0FBQ1EsV0FBVyxDQUFDLENBQUM7SUFFbEIsSUFBSTtNQUNBLE1BQU1DLFlBQVksR0FBRyxJQUFJLENBQUM1RCxLQUFLLENBQUN4RyxhQUFhLENBQUMsdUJBQXVCLENBQUMsRUFBRXBCLE9BQU8sQ0FBQ3dLLE1BQU0sSUFBSSxLQUFLO01BQy9GLE1BQU1pQixRQUFRLEdBQUcsTUFBTUMsS0FBSyxDQUFDLGNBQWNDLGtCQUFrQixDQUFDWixLQUFLLENBQUMsV0FBV1MsWUFBWSxFQUFFLEVBQUU7UUFDM0ZJLE1BQU0sRUFBRSxLQUFLO1FBQ2JDLE9BQU8sRUFBRTtVQUNMLGtCQUFrQixFQUFFLGdCQUFnQjtVQUNwQyxRQUFRLEVBQUUsa0JBQWtCO1VBQzVCLGNBQWMsRUFBRTtRQUNwQjtNQUNKLENBQUMsQ0FBQztNQUVGLElBQUksQ0FBQ0osUUFBUSxDQUFDSyxFQUFFLEVBQUU7UUFDZCxNQUFNLElBQUlDLEtBQUssQ0FBQyx1QkFBdUJOLFFBQVEsQ0FBQ08sTUFBTSxFQUFFLENBQUM7TUFDN0Q7TUFFQSxNQUFNQyxJQUFJLEdBQUcsTUFBTVIsUUFBUSxDQUFDUyxJQUFJLENBQUMsQ0FBQztNQUVsQyxJQUFJLENBQUNoQyxPQUFPLEdBQUcrQixJQUFJLENBQUMvQixPQUFPLElBQUksRUFBRTtNQUNqQyxJQUFJLENBQUNpQyxjQUFjLENBQUMsSUFBSSxDQUFDakMsT0FBTyxDQUFDOztNQUVqQztNQUNBLElBQUksQ0FBQ2tDLGdCQUFnQixDQUFDckIsS0FBSyxDQUFDO0lBRWhDLENBQUMsQ0FBQyxPQUFPM0QsS0FBSyxFQUFFO01BQ1ovSixPQUFPLENBQUMrSixLQUFLLENBQUMsZUFBZSxFQUFFQSxLQUFLLENBQUM7TUFDckMsSUFBSSxDQUFDaUYsU0FBUyxDQUFDLGdDQUFnQyxDQUFDO0lBQ3BELENBQUMsU0FBUztNQUNOLElBQUksQ0FBQ0MsV0FBVyxDQUFDLENBQUM7SUFDdEI7RUFDSjtFQUVBZixXQUFXQSxDQUFBLEVBQUc7SUFDVixNQUFNZ0IsT0FBTyxHQUFHclEsUUFBUSxDQUFDcUMsY0FBYyxDQUFDLGdCQUFnQixDQUFDO0lBQ3pELElBQUlnTyxPQUFPLEVBQUVBLE9BQU8sQ0FBQzFNLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUUvQyxNQUFNME0sTUFBTSxHQUFHdFEsUUFBUSxDQUFDcUMsY0FBYyxDQUFDLGVBQWUsQ0FBQztJQUN2RCxJQUFJaU8sTUFBTSxFQUFFQSxNQUFNLENBQUNyTSxLQUFLLENBQUNDLE9BQU8sR0FBRyxNQUFNO0VBQzdDO0VBRUFrTSxXQUFXQSxDQUFBLEVBQUc7SUFDVixNQUFNQyxPQUFPLEdBQUdyUSxRQUFRLENBQUNxQyxjQUFjLENBQUMsZ0JBQWdCLENBQUM7SUFDekQsSUFBSWdPLE9BQU8sRUFBRUEsT0FBTyxDQUFDMU0sU0FBUyxDQUFDRSxHQUFHLENBQUMsUUFBUSxDQUFDO0VBQ2hEO0VBRUFvTSxjQUFjQSxDQUFDakMsT0FBTyxFQUFFO0lBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUNKLGdCQUFnQixFQUFFO0lBRTVCLElBQUksQ0FBQ0EsZ0JBQWdCLENBQUMxRCxTQUFTLEdBQUcsRUFBRTtJQUVwQyxJQUFJOEQsT0FBTyxDQUFDNUcsTUFBTSxLQUFLLENBQUMsRUFBRTtNQUN0QixJQUFJLENBQUNtSixhQUFhLENBQUMsQ0FBQztNQUNwQjtJQUNKO0lBRUF2QyxPQUFPLENBQUMxSyxPQUFPLENBQUMsQ0FBQ2tOLE1BQU0sRUFBRWpHLEtBQUssS0FBSztNQUMvQixNQUFNa0csUUFBUSxHQUFHLElBQUksQ0FBQ0MsbUJBQW1CLENBQUNGLE1BQU0sRUFBRWpHLEtBQUssQ0FBQztNQUN4RCxJQUFJLENBQUNxRCxnQkFBZ0IsQ0FBQzVHLFdBQVcsQ0FBQ3lKLFFBQVEsQ0FBQztJQUMvQyxDQUFDLENBQUM7O0lBRUY7SUFDQSxNQUFNSCxNQUFNLEdBQUd0USxRQUFRLENBQUNxQyxjQUFjLENBQUMsZUFBZSxDQUFDO0lBQ3ZELE1BQU1zTyxTQUFTLEdBQUczUSxRQUFRLENBQUNxQyxjQUFjLENBQUMsbUJBQW1CLENBQUM7SUFDOUQsSUFBSWlPLE1BQU0sRUFBRUEsTUFBTSxDQUFDck0sS0FBSyxDQUFDQyxPQUFPLEdBQUcsTUFBTTtJQUN6QyxJQUFJeU0sU0FBUyxFQUFFQSxTQUFTLENBQUNoTixTQUFTLENBQUNFLEdBQUcsQ0FBQyxRQUFRLENBQUM7RUFDcEQ7RUFFQTZNLG1CQUFtQkEsQ0FBQ0YsTUFBTSxFQUFFakcsS0FBSyxFQUFFO0lBQy9CLE1BQU1yQixRQUFRLEdBQUdsSixRQUFRLENBQUNxQyxjQUFjLENBQUMsd0JBQXdCLENBQUM7SUFDbEUsSUFBSSxDQUFDNkcsUUFBUSxFQUFFLE9BQU9sSixRQUFRLENBQUN1RyxhQUFhLENBQUMsS0FBSyxDQUFDO0lBRW5ELE1BQU1GLE9BQU8sR0FBRzZDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUNsRSxhQUFhLENBQUMsZ0JBQWdCLENBQUM7SUFDaEZtQixPQUFPLENBQUN2QyxPQUFPLENBQUN5RyxLQUFLLEdBQUdBLEtBQUs7O0lBRTdCO0lBQ0EsTUFBTWQsS0FBSyxHQUFHcEQsT0FBTyxDQUFDbkIsYUFBYSxDQUFDLGVBQWUsQ0FBQztJQUNwRCxNQUFNMEwsV0FBVyxHQUFHdkssT0FBTyxDQUFDbkIsYUFBYSxDQUFDLHFCQUFxQixDQUFDO0lBQ2hFLE1BQU0yTCxRQUFRLEdBQUd4SyxPQUFPLENBQUNuQixhQUFhLENBQUMsa0JBQWtCLENBQUM7SUFDMUQsTUFBTTRMLElBQUksR0FBR3pLLE9BQU8sQ0FBQ25CLGFBQWEsQ0FBQyxjQUFjLENBQUM7SUFDbEQsTUFBTTZMLElBQUksR0FBRzFLLE9BQU8sQ0FBQ25CLGFBQWEsQ0FBQyxjQUFjLENBQUM7SUFFbEQsSUFBSXVFLEtBQUssRUFBRUEsS0FBSyxDQUFDeEMsV0FBVyxHQUFHdUosTUFBTSxDQUFDL0csS0FBSztJQUMzQyxJQUFJbUgsV0FBVyxFQUFFQSxXQUFXLENBQUMzSixXQUFXLEdBQUd1SixNQUFNLENBQUNJLFdBQVc7SUFDN0QsSUFBSUMsUUFBUSxFQUFFQSxRQUFRLENBQUM1SixXQUFXLEdBQUd1SixNQUFNLENBQUNLLFFBQVE7SUFDcEQsSUFBSUMsSUFBSSxFQUFFQSxJQUFJLENBQUM3SixXQUFXLEdBQUd1SixNQUFNLENBQUNNLElBQUk7SUFDeEMsSUFBSUMsSUFBSSxFQUFFLElBQUksQ0FBQ0MsYUFBYSxDQUFDRCxJQUFJLEVBQUVQLE1BQU0sQ0FBQ3RPLElBQUksQ0FBQzs7SUFFL0M7SUFDQW1FLE9BQU8sQ0FBQ25HLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxNQUFNLElBQUksQ0FBQ2dQLFlBQVksQ0FBQzNFLEtBQUssQ0FBQyxDQUFDO0lBRWpFLE9BQU9sRSxPQUFPO0VBQ2xCO0VBRUEySyxhQUFhQSxDQUFDeEgsTUFBTSxFQUFFdEgsSUFBSSxFQUFFO0lBQ3hCLE1BQU0rTyxLQUFLLEdBQUc7TUFDVkMsSUFBSSxFQUFFLHFRQUFxUTtNQUMzUUMsT0FBTyxFQUFFLDBhQUEwYTtNQUNuYkMsSUFBSSxFQUFFO0lBQ1YsQ0FBQztJQUNENUgsTUFBTSxDQUFDVSxTQUFTLEdBQUcrRyxLQUFLLENBQUMvTyxJQUFJLENBQUMsSUFBSStPLEtBQUssQ0FBQ0MsSUFBSTtFQUNoRDtFQUVBakMsZUFBZUEsQ0FBQSxFQUFHO0lBQ2QsTUFBTWpCLE9BQU8sR0FBRyxJQUFJLENBQUNKLGdCQUFnQixDQUFDL0ssZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUM7SUFDeEVtTCxPQUFPLENBQUMxSyxPQUFPLENBQUMsQ0FBQ2tOLE1BQU0sRUFBRWpHLEtBQUssS0FBSztNQUMvQmlHLE1BQU0sQ0FBQzdNLFNBQVMsQ0FBQzJCLE1BQU0sQ0FBQyxVQUFVLEVBQUVpRixLQUFLLEtBQUssSUFBSSxDQUFDd0QsYUFBYSxDQUFDO0lBQ3JFLENBQUMsQ0FBQztFQUNOO0VBRUFtQixZQUFZQSxDQUFDM0UsS0FBSyxFQUFFO0lBQ2hCLElBQUlBLEtBQUssSUFBSSxDQUFDLElBQUlBLEtBQUssR0FBRyxJQUFJLENBQUN5RCxPQUFPLENBQUM1RyxNQUFNLEVBQUU7TUFDM0MsTUFBTW9KLE1BQU0sR0FBRyxJQUFJLENBQUN4QyxPQUFPLENBQUN6RCxLQUFLLENBQUM7TUFDbENuSyxNQUFNLENBQUN1SCxRQUFRLENBQUMwSixJQUFJLEdBQUdiLE1BQU0sQ0FBQ2MsR0FBRztJQUNyQztFQUNKO0VBRUFmLGFBQWFBLENBQUEsRUFBRztJQUNaLE1BQU1JLFNBQVMsR0FBRzNRLFFBQVEsQ0FBQ3FDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQztJQUM5RCxJQUFJc08sU0FBUyxFQUFFQSxTQUFTLENBQUNoTixTQUFTLENBQUNDLE1BQU0sQ0FBQyxRQUFRLENBQUM7RUFDdkQ7RUFFQXVNLFNBQVNBLENBQUNsTyxPQUFPLEVBQUU7SUFDZjtJQUNBZCxPQUFPLENBQUMrSixLQUFLLENBQUMsZUFBZSxFQUFFakosT0FBTyxDQUFDO0VBQzNDO0VBRUEwTSxrQkFBa0JBLENBQUEsRUFBRztJQUNqQixNQUFNMkIsTUFBTSxHQUFHdFEsUUFBUSxDQUFDcUMsY0FBYyxDQUFDLGVBQWUsQ0FBQztJQUN2RCxJQUFJaU8sTUFBTSxFQUFFQSxNQUFNLENBQUNyTSxLQUFLLENBQUNDLE9BQU8sR0FBRyxPQUFPOztJQUUxQztJQUNBLE1BQU1xTixjQUFjLEdBQUcsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQy9DLE1BQU1DLGFBQWEsR0FBR3pSLFFBQVEsQ0FBQ3FDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQztJQUVyRSxJQUFJb1AsYUFBYSxJQUFJRixjQUFjLENBQUNuSyxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQzVDcUssYUFBYSxDQUFDdkgsU0FBUyxHQUFHLEVBQUU7TUFDNUJxSCxjQUFjLENBQUNqTyxPQUFPLENBQUNvTyxNQUFNLElBQUk7UUFDN0IsTUFBTUMsSUFBSSxHQUFHM1IsUUFBUSxDQUFDdUcsYUFBYSxDQUFDLFFBQVEsQ0FBQztRQUM3Q29MLElBQUksQ0FBQ3hILFNBQVMsR0FBRyxtR0FBbUc7UUFDcEh3SCxJQUFJLENBQUMxSyxXQUFXLEdBQUd5SyxNQUFNO1FBQ3pCQyxJQUFJLENBQUN6UixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTTtVQUNqQyxJQUFJLENBQUN3RSxLQUFLLENBQUNTLEtBQUssR0FBR3VNLE1BQU07VUFDekIsSUFBSSxDQUFDdkQsV0FBVyxDQUFDdUQsTUFBTSxDQUFDO1FBQzVCLENBQUMsQ0FBQztRQUNGRCxhQUFhLENBQUN6SyxXQUFXLENBQUMySyxJQUFJLENBQUM7TUFDbkMsQ0FBQyxDQUFDO0lBQ047RUFDSjtFQUVBekIsZ0JBQWdCQSxDQUFDckIsS0FBSyxFQUFFO0lBQ3BCLElBQUl5QixNQUFNLEdBQUcsSUFBSSxDQUFDa0IsaUJBQWlCLENBQUMsQ0FBQztJQUNyQ2xCLE1BQU0sR0FBR0EsTUFBTSxDQUFDaEMsTUFBTSxDQUFDcUQsSUFBSSxJQUFJQSxJQUFJLEtBQUs5QyxLQUFLLENBQUM7SUFDOUN5QixNQUFNLENBQUNzQixPQUFPLENBQUMvQyxLQUFLLENBQUM7SUFDckJ5QixNQUFNLEdBQUdBLE1BQU0sQ0FBQ3VCLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7SUFFN0JDLFlBQVksQ0FBQ0MsT0FBTyxDQUFDLGdCQUFnQixFQUFFQyxJQUFJLENBQUNDLFNBQVMsQ0FBQzNCLE1BQU0sQ0FBQyxDQUFDO0VBQ2xFO0VBRUFrQixpQkFBaUJBLENBQUEsRUFBRztJQUNoQixJQUFJO01BQ0EsT0FBT1EsSUFBSSxDQUFDRSxLQUFLLENBQUNKLFlBQVksQ0FBQ0ssT0FBTyxDQUFDLGdCQUFnQixDQUFDLElBQUksSUFBSSxDQUFDO0lBQ3JFLENBQUMsQ0FBQyxNQUFNO01BQ0osT0FBTyxFQUFFO0lBQ2I7RUFDSjtFQUVBQyxtQkFBbUJBLENBQUEsRUFBRztJQUNsQk4sWUFBWSxDQUFDTyxVQUFVLENBQUMsZ0JBQWdCLENBQUM7SUFDekMsSUFBSSxDQUFDMUQsa0JBQWtCLENBQUMsQ0FBQztFQUM3QjtBQUNKOztBQUVBO0FBQ0EsTUFBTWhQLGdCQUFnQixDQUFDO0VBQ25CZixXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJLENBQUMwVCxTQUFTLEdBQUcsSUFBSWxLLEdBQUcsQ0FBQyxDQUFDO0lBQzFCLElBQUksQ0FBQ21LLHlCQUF5QixDQUFDLENBQUM7RUFDcEM7RUFFQUEseUJBQXlCQSxDQUFBLEVBQUc7SUFDeEIsSUFBSSxFQUFFLHNCQUFzQixJQUFJblMsTUFBTSxDQUFDLEVBQUU7SUFFekMsTUFBTWtJLE9BQU8sR0FBRztNQUNadkYsSUFBSSxFQUFFLElBQUk7TUFDVkMsVUFBVSxFQUFFLFVBQVU7TUFDdEJDLFNBQVMsRUFBRTtJQUNmLENBQUM7SUFFRCxJQUFJLENBQUN1UCxjQUFjLEdBQUcsSUFBSXJQLG9CQUFvQixDQUFFQyxPQUFPLElBQUs7TUFDeERBLE9BQU8sQ0FBQ0UsT0FBTyxDQUFDQyxLQUFLLElBQUk7UUFDckIsSUFBSUEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7VUFDdEIsSUFBSSxDQUFDaVAsZ0JBQWdCLENBQUNsUCxLQUFLLENBQUNHLE1BQU0sQ0FBQztRQUN2QztNQUNKLENBQUMsQ0FBQztJQUNOLENBQUMsRUFBRTRFLE9BQU8sQ0FBQztFQUNmO0VBRUFqSCwwQkFBMEJBLENBQUEsRUFBRztJQUN6QixNQUFNcVIsUUFBUSxHQUFHMVMsUUFBUSxDQUFDNkMsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUM7SUFDNUQ2UCxRQUFRLENBQUNwUCxPQUFPLENBQUMrQyxPQUFPLElBQUk7TUFDeEIsSUFBSSxDQUFDbU0sY0FBYyxDQUFDbk8sT0FBTyxDQUFDZ0MsT0FBTyxDQUFDO0lBQ3hDLENBQUMsQ0FBQztFQUNOO0VBRUFvTSxnQkFBZ0JBLENBQUNwTSxPQUFPLEVBQUU7SUFDdEIsTUFBTXNNLGFBQWEsR0FBR3RNLE9BQU8sQ0FBQ3ZDLE9BQU8sQ0FBQzhPLE9BQU87SUFDN0MsTUFBTUMsS0FBSyxHQUFHeE0sT0FBTyxDQUFDdkMsT0FBTyxDQUFDK08sS0FBSyxJQUFJLENBQUM7SUFFeEMxTCxVQUFVLENBQUMsTUFBTTtNQUNiLFFBQVF3TCxhQUFhO1FBQ2pCLEtBQUssU0FBUztVQUNWdE0sT0FBTyxDQUFDMUMsU0FBUyxDQUFDRSxHQUFHLENBQUMsaUJBQWlCLENBQUM7VUFDeEM7UUFDSixLQUFLLFVBQVU7VUFDWHdDLE9BQU8sQ0FBQzFDLFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLGtCQUFrQixDQUFDO1VBQ3pDO1FBQ0osS0FBSyxlQUFlO1VBQ2hCd0MsT0FBTyxDQUFDMUMsU0FBUyxDQUFDRSxHQUFHLENBQUMsdUJBQXVCLENBQUM7VUFDOUM7UUFDSixLQUFLLGdCQUFnQjtVQUNqQndDLE9BQU8sQ0FBQzFDLFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLHdCQUF3QixDQUFDO1VBQy9DO1FBQ0osS0FBSyxVQUFVO1VBQ1h3QyxPQUFPLENBQUMxQyxTQUFTLENBQUNFLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztVQUN6QztNQUNSO0lBQ0osQ0FBQyxFQUFFZ1AsS0FBSyxDQUFDOztJQUVUO0lBQ0EsSUFBSSxDQUFDTCxjQUFjLENBQUNwTyxTQUFTLENBQUNpQyxPQUFPLENBQUM7RUFDMUM7RUFFQXpFLHNCQUFzQkEsQ0FBQSxFQUFHO0lBQ3JCO0VBQUE7RUFHSkwsd0JBQXdCQSxDQUFBLEVBQUc7SUFDdkI7SUFDQSxNQUFNdVIsZUFBZSxHQUFHOVMsUUFBUSxDQUFDNkMsZ0JBQWdCLENBQUMsc0JBQXNCLENBQUM7SUFDekVpUSxlQUFlLENBQUN4UCxPQUFPLENBQUMrQyxPQUFPLElBQUk7TUFDL0IsTUFBTXdNLEtBQUssR0FBR0UsUUFBUSxDQUFDMU0sT0FBTyxDQUFDdkMsT0FBTyxDQUFDa1AsWUFBWSxDQUFDLElBQUksQ0FBQztNQUN6RDdMLFVBQVUsQ0FBQyxNQUFNO1FBQ2JkLE9BQU8sQ0FBQzFDLFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixDQUFDO01BQzVDLENBQUMsRUFBRWdQLEtBQUssQ0FBQztJQUNiLENBQUMsQ0FBQztFQUNOO0FBQ0o7O0FBRUE7QUFDQSxNQUFNaFQsZUFBZSxDQUFDO0VBQ2xCakIsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDcVUsU0FBUyxHQUFHLElBQUk3SyxHQUFHLENBQUMsQ0FBQztJQUMxQixJQUFJLENBQUM4SyxvQkFBb0IsQ0FBQyxDQUFDO0lBQzNCLElBQUksQ0FBQ3BVLG1CQUFtQixDQUFDLENBQUM7RUFDOUI7RUFFQW9VLG9CQUFvQkEsQ0FBQSxFQUFHO0lBQ25CO0lBQ0EsSUFBSSxDQUFDQyxXQUFXLENBQUMsUUFBUSxFQUFFLE1BQU07TUFDN0IsSUFBSS9TLE1BQU0sQ0FBQ2dULGNBQWMsRUFBRTVULGFBQWEsRUFBRTtRQUN0Q1ksTUFBTSxDQUFDZ1QsY0FBYyxDQUFDNVQsYUFBYSxDQUFDZ00sSUFBSSxDQUFDLENBQUM7TUFDOUM7SUFDSixDQUFDLENBQUM7O0lBRUY7SUFDQSxJQUFJLENBQUMySCxXQUFXLENBQUMsUUFBUSxFQUFFLE1BQU07TUFDN0IsSUFBSS9TLE1BQU0sQ0FBQ2dULGNBQWMsRUFBRWxVLFlBQVksRUFBRW9NLFdBQVcsRUFBRTtRQUNsRGxMLE1BQU0sQ0FBQ2dULGNBQWMsQ0FBQ2xVLFlBQVksQ0FBQzRNLEtBQUssQ0FDcEMxTCxNQUFNLENBQUNnVCxjQUFjLENBQUNsVSxZQUFZLENBQUNvTSxXQUFXLENBQUMvQyxFQUNuRCxDQUFDO01BQ0w7TUFDQSxJQUFJbkksTUFBTSxDQUFDZ1QsY0FBYyxFQUFFNVQsYUFBYSxFQUFFa00sS0FBSyxFQUFFL0gsU0FBUyxDQUFDMFAsUUFBUSxDQUFDLG1CQUFtQixDQUFDLEVBQUU7UUFDdEZqVCxNQUFNLENBQUNnVCxjQUFjLENBQUM1VCxhQUFhLENBQUNzTSxLQUFLLENBQUMsQ0FBQztNQUMvQztJQUNKLENBQUMsQ0FBQztFQUNOO0VBRUFxSCxXQUFXQSxDQUFDdEwsR0FBRyxFQUFFOEMsT0FBTyxFQUFFO0lBQ3RCLElBQUksQ0FBQ3NJLFNBQVMsQ0FBQ3BLLEdBQUcsQ0FBQ2hCLEdBQUcsQ0FBQ3lMLFdBQVcsQ0FBQyxDQUFDLEVBQUUzSSxPQUFPLENBQUM7RUFDbEQ7RUFFQTdMLG1CQUFtQkEsQ0FBQSxFQUFHO0lBQ2xCa0IsUUFBUSxDQUFDRSxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUdvQyxDQUFDLElBQUs7TUFDeEMsTUFBTXVGLEdBQUcsR0FBRyxJQUFJLENBQUMwTCxZQUFZLENBQUNqUixDQUFDLENBQUM7TUFDaEMsTUFBTXFJLE9BQU8sR0FBRyxJQUFJLENBQUNzSSxTQUFTLENBQUNwSSxHQUFHLENBQUNoRCxHQUFHLENBQUM7TUFFdkMsSUFBSThDLE9BQU8sRUFBRTtRQUNUO1FBQ0EsSUFBSXJJLENBQUMsQ0FBQ29CLE1BQU0sQ0FBQzhQLE9BQU8sS0FBSyxPQUFPLElBQUlsUixDQUFDLENBQUNvQixNQUFNLENBQUM4UCxPQUFPLEtBQUssVUFBVSxFQUFFO1VBQ2pFO1VBQ0EsSUFBSTNMLEdBQUcsS0FBSyxRQUFRLEVBQUU7WUFDbEJ2RixDQUFDLENBQUNDLGNBQWMsQ0FBQyxDQUFDO1lBQ2xCb0ksT0FBTyxDQUFDckksQ0FBQyxDQUFDO1VBQ2Q7VUFDQTtRQUNKO1FBRUFBLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLENBQUM7UUFDbEJvSSxPQUFPLENBQUNySSxDQUFDLENBQUM7TUFDZDtJQUNKLENBQUMsQ0FBQztFQUNOO0VBRUFpUixZQUFZQSxDQUFDalIsQ0FBQyxFQUFFO0lBQ1osSUFBSXVGLEdBQUcsR0FBR3ZGLENBQUMsQ0FBQ3VGLEdBQUcsQ0FBQ3lMLFdBQVcsQ0FBQyxDQUFDO0lBRTdCLElBQUloUixDQUFDLENBQUNtUixPQUFPLEVBQUU1TCxHQUFHLEdBQUcsUUFBUUEsR0FBRyxFQUFFO0lBQ2xDLElBQUl2RixDQUFDLENBQUNvUixNQUFNLEVBQUU3TCxHQUFHLEdBQUcsT0FBT0EsR0FBRyxFQUFFO0lBQ2hDLElBQUl2RixDQUFDLENBQUNxUixRQUFRLElBQUk5TCxHQUFHLENBQUNULE1BQU0sR0FBRyxDQUFDLEVBQUVTLEdBQUcsR0FBRyxTQUFTQSxHQUFHLEVBQUU7SUFFdEQsT0FBT0EsR0FBRztFQUNkO0FBQ0o7O0FBRUE7QUFDQSxNQUFNOUgsWUFBWSxDQUFDO0VBQ2ZuQixXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJLENBQUNnVixZQUFZLEdBQUc5QixZQUFZLENBQUNLLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxNQUFNO0lBQzNELElBQUksQ0FBQzBCLFVBQVUsQ0FBQyxJQUFJLENBQUNELFlBQVksQ0FBQztFQUN0QztFQUVBRSxXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJLENBQUNGLFlBQVksR0FBRyxJQUFJLENBQUNBLFlBQVksS0FBSyxPQUFPLEdBQUcsTUFBTSxHQUFHLE9BQU87SUFDcEUsSUFBSSxDQUFDQyxVQUFVLENBQUMsSUFBSSxDQUFDRCxZQUFZLENBQUM7SUFDbEM5QixZQUFZLENBQUNDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDNkIsWUFBWSxDQUFDO0VBQ3BEO0VBRUFDLFVBQVVBLENBQUNFLEtBQUssRUFBRTtJQUNkL1QsUUFBUSxDQUFDc00sZUFBZSxDQUFDakQsWUFBWSxDQUFDLFlBQVksRUFBRTBLLEtBQUssQ0FBQzs7SUFFMUQ7SUFDQSxNQUFNQyxjQUFjLEdBQUdoVSxRQUFRLENBQUNrRixhQUFhLENBQUMsMEJBQTBCLENBQUM7SUFDekUsSUFBSThPLGNBQWMsRUFBRTtNQUNoQkEsY0FBYyxDQUFDM0ssWUFBWSxDQUFDLFNBQVMsRUFBRTBLLEtBQUssS0FBSyxNQUFNLEdBQUcsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUNwRjtFQUNKO0VBRUFFLFFBQVFBLENBQUEsRUFBRztJQUNQLE9BQU8sSUFBSSxDQUFDTCxZQUFZO0VBQzVCO0VBRUFNLFFBQVFBLENBQUNILEtBQUssRUFBRTtJQUNaLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUNJLFFBQVEsQ0FBQ0osS0FBSyxDQUFDLEVBQUU7TUFDbkMsSUFBSSxDQUFDSCxZQUFZLEdBQUdHLEtBQUs7TUFDekIsSUFBSSxDQUFDRixVQUFVLENBQUNFLEtBQUssQ0FBQztNQUN0QmpDLFlBQVksQ0FBQ0MsT0FBTyxDQUFDLE9BQU8sRUFBRWdDLEtBQUssQ0FBQztJQUN4QztFQUNKO0FBQ0o7O0FBRUE7QUFDQTNULE1BQU0sQ0FBQ2dVLGlCQUFpQixHQUFHLE1BQU07RUFDN0IsSUFBSSxDQUFDaFUsTUFBTSxDQUFDZ1QsY0FBYyxFQUFFO0VBRTVCLE1BQU01VCxhQUFhLEdBQUdZLE1BQU0sQ0FBQ2dULGNBQWMsQ0FBQzVULGFBQWE7RUFDekQsTUFBTTZVLE1BQU0sR0FBRzdVLGFBQWEsQ0FBQ2tNLEtBQUssRUFBRS9ILFNBQVMsQ0FBQzBQLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQztFQUUzRSxJQUFJZ0IsTUFBTSxFQUFFO0lBQ1I3VSxhQUFhLENBQUNzTSxLQUFLLENBQUMsQ0FBQztFQUN6QixDQUFDLE1BQU07SUFDSHRNLGFBQWEsQ0FBQ2dNLElBQUksQ0FBQyxDQUFDO0VBQ3hCO0FBQ0osQ0FBQztBQUVEcEwsTUFBTSxDQUFDa1UsZ0JBQWdCLEdBQUcsTUFBTTtFQUM1QixJQUFJbFUsTUFBTSxDQUFDZ1QsY0FBYyxFQUFFNVQsYUFBYSxFQUFFO0lBQ3RDWSxNQUFNLENBQUNnVCxjQUFjLENBQUM1VCxhQUFhLENBQUNzTSxLQUFLLENBQUMsQ0FBQztFQUMvQztBQUNKLENBQUM7QUFFRDFMLE1BQU0sQ0FBQ2dTLG1CQUFtQixHQUFHLE1BQU07RUFDL0IsSUFBSWhTLE1BQU0sQ0FBQ2dULGNBQWMsRUFBRTVULGFBQWEsRUFBRTtJQUN0Q1ksTUFBTSxDQUFDZ1QsY0FBYyxDQUFDNVQsYUFBYSxDQUFDNFMsbUJBQW1CLENBQUMsQ0FBQztFQUM3RDtBQUNKLENBQUM7QUFFRGhTLE1BQU0sQ0FBQ21VLFNBQVMsR0FBRyxDQUFDdFMsT0FBTyxFQUFFQyxJQUFJLEdBQUcsTUFBTSxFQUFFb0csT0FBTyxHQUFHLENBQUMsQ0FBQyxLQUFLO0VBQ3pELElBQUlsSSxNQUFNLENBQUNnVCxjQUFjLEVBQUVwVSxZQUFZLEVBQUU7SUFDckMsT0FBT29CLE1BQU0sQ0FBQ2dULGNBQWMsQ0FBQ3BVLFlBQVksQ0FBQ21ELElBQUksQ0FBQ0YsT0FBTyxFQUFFQyxJQUFJLEVBQUVvRyxPQUFPLENBQUM7RUFDMUU7QUFDSixDQUFDOztBQUVEO0FBQ0F0SSxRQUFRLENBQUNFLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLE1BQU07RUFDaERFLE1BQU0sQ0FBQ2dULGNBQWMsR0FBRyxJQUFJelUsY0FBYyxDQUFDLENBQUM7O0VBRTVDO0VBQ0EsSUFBSXlCLE1BQU0sQ0FBQ2dULGNBQWMsQ0FBQzVULGFBQWEsRUFBRTtJQUNyQ1ksTUFBTSxDQUFDZ1QsY0FBYyxDQUFDNVQsYUFBYSxDQUFDeU8sVUFBVSxDQUFDLENBQUM7RUFDcEQ7RUFFQTlNLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDBDQUEwQyxDQUFDO0FBQzNELENBQUMsQ0FBQzs7QUFFRjtBQUNBLElBQUksS0FBNkIsSUFBSW9ULE1BQU0sQ0FBQ0MsT0FBTyxFQUFFO0VBQ2pERCxNQUFNLENBQUNDLE9BQU8sR0FBRztJQUFFOVYsY0FBYztJQUFFTSxZQUFZO0lBQUVFLFlBQVk7SUFBRUUsYUFBYTtJQUFFRSxjQUFjO0lBQUVFLGFBQWE7SUFBRUUsZ0JBQWdCO0lBQUVFLGVBQWU7SUFBRUU7RUFBYSxDQUFDO0FBQ2xLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVzdC8uL3N0YXRpYy9qcy91aS1lbmhhbmNlbWVudHMuanM/N2MwYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVUkgRW5oYW5jZW1lbnRzIE1vZHVsZVxyXG4gKiBBZHZhbmNlZCB1c2VyIGludGVyZmFjZSBlbmhhbmNlbWVudHMgZm9yIGltcHJvdmVkIHVzZXIgZXhwZXJpZW5jZVxyXG4gKi9cclxuXHJcbmNsYXNzIFVJRW5oYW5jZW1lbnRzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbXBvbmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgVUkgZW5oYW5jZW1lbnQgc3lzdGVtc1xyXG4gICAgICAgIHRoaXMudG9hc3RNYW5hZ2VyID0gbmV3IFRvYXN0TWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMubW9kYWxNYW5hZ2VyID0gbmV3IE1vZGFsTWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsTWFuYWdlciA9IG5ldyBTY3JvbGxNYW5hZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nTWFuYWdlciA9IG5ldyBMb2FkaW5nTWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoTWFuYWdlciA9IG5ldyBTZWFyY2hNYW5hZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25NYW5hZ2VyID0gbmV3IEFuaW1hdGlvbk1hbmFnZXIoKTtcclxuICAgICAgICB0aGlzLmtleWJvYXJkTWFuYWdlciA9IG5ldyBLZXlib2FyZE1hbmFnZXIoKTtcclxuICAgICAgICB0aGlzLnRoZW1lTWFuYWdlciA9IG5ldyBUaGVtZU1hbmFnZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIC8vIERPTSBjb250ZW50IGxvYWRlZFxyXG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHRoaXMub25ET01SZWFkeSgpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm9uRE9NUmVhZHkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdpbmRvdyBldmVudHNcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHRoaXMub25XaW5kb3dMb2FkKCkpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB0aGlzLm9uV2luZG93UmVzaXplKCkpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnRocm90dGxlKHRoaXMub25XaW5kb3dTY3JvbGwsIDE2KSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFBhZ2UgdmlzaWJpbGl0eVxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCAoKSA9PiB0aGlzLm9uVmlzaWJpbGl0eUNoYW5nZSgpKTtcclxuXHJcbiAgICAgICAgLy8gTmV0d29yayBzdGF0dXNcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgKCkgPT4gdGhpcy5vbk5ldHdvcmtDaGFuZ2UodHJ1ZSkpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgKCkgPT4gdGhpcy5vbk5ldHdvcmtDaGFuZ2UoZmFsc2UpKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0aWFsaXplQ29tcG9uZW50cygpIHtcclxuICAgICAgICAvLyBJbml0aWFsaXplIGFsbCBVSSBjb21wb25lbnRzXHJcbiAgICAgICAgdGhpcy5zZXR1cEJhY2tUb1RvcCgpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBTY3JvbGxQcm9ncmVzcygpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBJbWFnZUxhenlMb2FkaW5nKCk7XHJcbiAgICAgICAgdGhpcy5zZXR1cEZvcm1FbmhhbmNlbWVudHMoKTtcclxuICAgICAgICB0aGlzLnNldHVwQ2FyZEludGVyYWN0aW9ucygpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBOYXZpZ2F0aW9uRW5oYW5jZW1lbnRzKCk7XHJcbiAgICAgICAgdGhpcy5zZXR1cEFjY2Vzc2liaWxpdHlGZWF0dXJlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRE9NUmVhZHkoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1VJIEVuaGFuY2VtZW50czogRE9NIFJlYWR5Jyk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25NYW5hZ2VyLmluaXRpYWxpemVTY3JvbGxBbmltYXRpb25zKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nTWFuYWdlci5oaWRlSW5pdGlhbExvYWRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2luZG93TG9hZCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnVUkgRW5oYW5jZW1lbnRzOiBXaW5kb3cgTG9hZGVkJyk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25NYW5hZ2VyLnRyaWdnZXJEZWxheWVkQW5pbWF0aW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2luZG93UmVzaXplKCkge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsTWFuYWdlci51cGRhdGVTY3JvbGxQcm9ncmVzcygpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uV2luZG93U2Nyb2xsID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5zY3JvbGxBbmltYXRpb25GcmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsTWFuYWdlci5oYW5kbGVTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uTWFuYWdlci5oYW5kbGVTY3JvbGxBbmltYXRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbEFuaW1hdGlvbkZyYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVmlzaWJpbGl0eUNoYW5nZSgpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGF1c2VBbmltYXRpb25zKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bWVBbmltYXRpb25zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uTmV0d29ya0NoYW5nZShpc09ubGluZSkge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBpc09ubGluZSA/ICdDb25uZWN0aW9uIHJlc3RvcmVkJyA6ICdDb25uZWN0aW9uIGxvc3QnO1xyXG4gICAgICAgIGNvbnN0IHR5cGUgPSBpc09ubGluZSA/ICdzdWNjZXNzJyA6ICd3YXJuaW5nJztcclxuICAgICAgICB0aGlzLnRvYXN0TWFuYWdlci5zaG93KG1lc3NhZ2UsIHR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwQmFja1RvVG9wKCkge1xyXG4gICAgICAgIGNvbnN0IGJhY2tUb1RvcEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrLXRvLXRvcCcpO1xyXG4gICAgICAgIGlmICghYmFja1RvVG9wQnRuKSByZXR1cm47XHJcblxyXG4gICAgICAgIGJhY2tUb1RvcEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxNYW5hZ2VyLnNjcm9sbFRvVG9wKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBTY3JvbGxQcm9ncmVzcygpIHtcclxuICAgICAgICBjb25zdCBwcm9ncmVzc0JhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JvbGwtcHJvZ3Jlc3MnKTtcclxuICAgICAgICBpZiAocHJvZ3Jlc3NCYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxNYW5hZ2VyLnNldFByb2dyZXNzQmFyKHByb2dyZXNzQmFyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBJbWFnZUxhenlMb2FkaW5nKCkge1xyXG4gICAgICAgIC8vIFNraXAgaW1hZ2UgbGF6eSBsb2FkaW5nIGlmIGFscmVhZHkgaGFuZGxlZCBieSBwZXJmb3JtYW5jZS5qc1xyXG4gICAgICAgIGlmICh3aW5kb3cuX19pbWdMYXp5T3duZXIgJiYgd2luZG93Ll9faW1nTGF6eU93bmVyICE9PSAndWktZW5oYW5jZW1lbnRzJykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldCBvd25lciBpZiBub3QgYWxyZWFkeSBzZXRcclxuICAgICAgICBpZiAoIXdpbmRvdy5fX2ltZ0xhenlPd25lcikge1xyXG4gICAgICAgICAgICB3aW5kb3cuX19pbWdMYXp5T3duZXIgPSAndWktZW5oYW5jZW1lbnRzJztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgaW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nW2RhdGEtc3JjXScpO1xyXG4gICAgICAgIGlmICgnSW50ZXJzZWN0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICBjb25zdCBvYnNlcnZlck9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICByb290OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgcm9vdE1hcmdpbjogJzUwcHgnLFxyXG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiAwLjFcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBlbnRyeS50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgZXJyb3IgaGFuZGxpbmcgZm9yIGZhaWxlZCBpbWFnZSBsb2Fkc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoJ2xvYWQtZXJyb3InKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgZmFsbGJhY2sgaW1hZ2UgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLmRhdGFzZXQuZmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gaW1nLmRhdGFzZXQuZmFsbGJhY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBwbGFjZWhvbGRlciBvciBoaWRlIGltYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbWFnZSBmYWlsZWQgdG8gbG9hZDonLCBpbWcuZGF0YXNldC5zcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKCdsb2FkZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gaW1nLmRhdGFzZXQuc3JjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoaW1nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgb2JzZXJ2ZXJPcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIGltYWdlcy5mb3JFYWNoKGltZyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZCgnbG9hZGluZycpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VPYnNlcnZlci5vYnNlcnZlKGltZyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cEZvcm1FbmhhbmNlbWVudHMoKSB7XHJcbiAgICAgICAgLy8gUmVhbC10aW1lIGZvcm0gdmFsaWRhdGlvblxyXG4gICAgICAgIGNvbnN0IGZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZm9ybScpO1xyXG4gICAgICAgIGZvcm1zLmZvckVhY2goZm9ybSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZW5oYW5jZUZvcm0oZm9ybSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5oYW5jZUZvcm0oZm9ybSkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKTtcclxuICAgICAgICBcclxuICAgICAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgICAgIC8vIEFkZCBmbG9hdGluZyBsYWJlbCBlZmZlY3RcclxuICAgICAgICAgICAgdGhpcy5hZGRGbG9hdGluZ0xhYmVsKGlucHV0KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEFkZCB2YWxpZGF0aW9uIGZlZWRiYWNrXHJcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB0aGlzLnZhbGlkYXRlSW5wdXQoaW5wdXQpKTtcclxuICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB0aGlzLmNsZWFyVmFsaWRhdGlvbkVycm9ycyhpbnB1dCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB0aGlzLmhhbmRsZUZvcm1TdWJtaXQoZSwgZm9ybSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEZsb2F0aW5nTGFiZWwoaW5wdXQpIHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBpbnB1dC5jbG9zZXN0KCcuZm9ybS1ncm91cCcpO1xyXG4gICAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7XHJcbiAgICAgICAgaWYgKCFsYWJlbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzZWQnKSk7XHJcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpbnB1dC52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXNlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWwgc3RhdGVcclxuICAgICAgICBpZiAoaW5wdXQudmFsdWUpIHtcclxuICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZUlucHV0KGlucHV0KSB7XHJcbiAgICAgICAgY29uc3QgaXNWYWxpZCA9IGlucHV0LmNoZWNrVmFsaWRpdHkoKTtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBpbnB1dC5jbG9zZXN0KCcuZm9ybS1ncm91cCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2hhcy1lcnJvcicsICFpc1ZhbGlkKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2hhcy1zdWNjZXNzJywgaXNWYWxpZCAmJiBpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhclZhbGlkYXRpb25FcnJvcnMoaW5wdXQpIHtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBpbnB1dC5jbG9zZXN0KCcuZm9ybS1ncm91cCcpO1xyXG4gICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hhcy1lcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVGb3JtU3VibWl0KGUsIGZvcm0pIHtcclxuICAgICAgICBjb25zdCBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3JlcXVpcmVkXSwgdGV4dGFyZWFbcmVxdWlyZWRdLCBzZWxlY3RbcmVxdWlyZWRdJyk7XHJcbiAgICAgICAgbGV0IGlzRm9ybVZhbGlkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMudmFsaWRhdGVJbnB1dChpbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgIGlzRm9ybVZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFpc0Zvcm1WYWxpZCkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMudG9hc3RNYW5hZ2VyLnNob3coJ1BsZWFzZSBmaWxsIGluIGFsbCByZXF1aXJlZCBmaWVsZHMnLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2hvdyBsb2FkaW5nIHN0YXRlXHJcbiAgICAgICAgY29uc3Qgc3VibWl0QnRuID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbdHlwZT1cInN1Ym1pdFwiXScpO1xyXG4gICAgICAgIGlmIChzdWJtaXRCdG4pIHtcclxuICAgICAgICAgICAgc3VibWl0QnRuLmNsYXNzTGlzdC5hZGQoJ2J0bi1sb2FkaW5nJyk7XHJcbiAgICAgICAgICAgIHN1Ym1pdEJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldHVwQ2FyZEludGVyYWN0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJkLWludGVyYWN0aXZlJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2FyZHMuZm9yRWFjaChjYXJkID0+IHtcclxuICAgICAgICAgICAgLy8gTW91c2UgbW92ZSBlZmZlY3QgZm9yIGNhcmRzXHJcbiAgICAgICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgY2xpZW50WCwgY2xpZW50WSB9ID0gZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgbGVmdCwgdG9wIH0gPSBjYXJkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGNsaWVudFggLSBsZWZ0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IGNsaWVudFkgLSB0b3A7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUuc2V0UHJvcGVydHkoJy0tbW91c2UteCcsIGAke3h9cHhgKTtcclxuICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUuc2V0UHJvcGVydHkoJy0tbW91c2UteScsIGAke3l9cHhgKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDbGljayByaXBwbGUgZWZmZWN0XHJcbiAgICAgICAgICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVSaXBwbGVFZmZlY3QoZSwgY2FyZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVJpcHBsZUVmZmVjdChlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgcmlwcGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgbGVmdCwgdG9wIH0gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IHNpemUgPSBNYXRoLm1heCh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICBjb25zdCB7IGNsaWVudFgsIGNsaWVudFkgfSA9IGU7XHJcbiAgICAgICAgY29uc3QgeCA9IGNsaWVudFggLSBsZWZ0IC0gc2l6ZSAvIDI7XHJcbiAgICAgICAgY29uc3QgeSA9IGNsaWVudFkgLSB0b3AgLSBzaXplIC8gMjtcclxuXHJcbiAgICAgICAgcmlwcGxlLnN0eWxlLmNzc1RleHQgPSBgXHJcbiAgICAgICAgICAgIHdpZHRoOiAke3NpemV9cHg7XHJcbiAgICAgICAgICAgIGhlaWdodDogJHtzaXplfXB4O1xyXG4gICAgICAgICAgICBsZWZ0OiAke3h9cHg7XHJcbiAgICAgICAgICAgIHRvcDogJHt5fXB4O1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDApO1xyXG4gICAgICAgICAgICBhbmltYXRpb246IHJpcHBsZSAwLjZzIGxpbmVhcjtcclxuICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQocmlwcGxlKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHJpcHBsZSBhbmltYXRpb25cclxuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXHJcbiAgICAgICAgICAgIEBrZXlmcmFtZXMgcmlwcGxlIHtcclxuICAgICAgICAgICAgICAgIHRvIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBgO1xyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgcmlwcGxlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuJykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDYwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBOYXZpZ2F0aW9uRW5oYW5jZW1lbnRzKCkge1xyXG4gICAgICAgIC8vIFNtb290aCBzY3JvbGwgZm9yIGFuY2hvciBsaW5rc1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbGluayA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2FbaHJlZl49XCIjXCJdJyk7XHJcbiAgICAgICAgICAgIGlmIChsaW5rICYmIGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykgIT09ICcjJykge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpKTtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbE1hbmFnZXIuc2Nyb2xsVG9FbGVtZW50KHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQWN0aXZlIG5hdmlnYXRpb24gaGlnaGxpZ2h0aW5nXHJcbiAgICAgICAgdGhpcy5oaWdobGlnaHRBY3RpdmVOYXZpZ2F0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlnaGxpZ2h0QWN0aXZlTmF2aWdhdGlvbigpIHtcclxuICAgICAgICBjb25zdCBuYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXYtbGluaycpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xyXG5cclxuICAgICAgICBuYXZMaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xyXG4gICAgICAgICAgICBpZiAobGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA9PT0gY3VycmVudFBhdGgpIHtcclxuICAgICAgICAgICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cEFjY2Vzc2liaWxpdHlGZWF0dXJlcygpIHtcclxuICAgICAgICAvLyBGb2N1cyBtYW5hZ2VtZW50XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ1RhYicpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgna2V5Ym9hcmQtbmF2aWdhdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdrZXlib2FyZC1uYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFNraXAgbGlua3NcclxuICAgICAgICBjb25zdCBza2lwTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2tpcC1saW5rJyk7XHJcbiAgICAgICAgc2tpcExpbmtzLmZvckVhY2gobGluayA9PiB7XHJcbiAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpKTtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHBhdXNlQW5pbWF0aW9ucygpIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGlvbnMtcGF1c2VkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lQW5pbWF0aW9ucygpIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGlvbnMtcGF1c2VkJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFRvYXN0IE1hbmFnZXIgQ2xhc3NcclxuY2xhc3MgVG9hc3RNYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvYXN0LWNvbnRhaW5lcicpO1xyXG4gICAgICAgIHRoaXMudG9hc3RzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdER1cmF0aW9uID0gNTAwMDtcclxuICAgIH1cclxuXHJcbiAgICBzaG93ID0gKG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycsIG9wdGlvbnMgPSB7fSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gRGF0ZS5ub3coKS50b1N0cmluZygpO1xyXG4gICAgICAgIGNvbnN0IHRvYXN0ID0gdGhpcy5jcmVhdGVUb2FzdChpZCwgbWVzc2FnZSwgdHlwZSwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0b2FzdCk7XHJcbiAgICAgICAgICAgIHRoaXMudG9hc3RzLnNldChpZCwgdG9hc3QpO1xyXG5cclxuICAgICAgICAgICAgLy8gVHJpZ2dlciBlbnRyYW5jZSBhbmltYXRpb25cclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRvYXN0LmNsYXNzTGlzdC5hZGQoJ3RvYXN0LWVudGVyaW5nJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQXV0byBkaXNtaXNzXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmF1dG9EaXNtaXNzICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNtaXNzKGlkKTtcclxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuZHVyYXRpb24gfHwgdGhpcy5kZWZhdWx0RHVyYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTY3JlZW4gcmVhZGVyIGFubm91bmNlbWVudFxyXG4gICAgICAgICAgICB0aGlzLmFubm91bmNlVG9TY3JlZW5SZWFkZXIobWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlVG9hc3QoaWQsIG1lc3NhZ2UsIHR5cGUsIG9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2FzdC10ZW1wbGF0ZScpO1xyXG4gICAgICAgIGlmICghdGVtcGxhdGUpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICBjb25zdCB0b2FzdCA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpLnF1ZXJ5U2VsZWN0b3IoJy50b2FzdC1ub3RpZmljYXRpb24nKTtcclxuICAgICAgICB0b2FzdC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG9hc3QtaWQnLCBpZCk7XHJcbiAgICAgICAgdG9hc3QuY2xhc3NMaXN0LmFkZChgdG9hc3QtJHt0eXBlfWApO1xyXG5cclxuICAgICAgICAvLyBTZXQgY29udGVudFxyXG4gICAgICAgIGNvbnN0IHRpdGxlRWwgPSB0b2FzdC5xdWVyeVNlbGVjdG9yKCcudG9hc3QtdGl0bGUnKTtcclxuICAgICAgICBjb25zdCBtZXNzYWdlRWwgPSB0b2FzdC5xdWVyeVNlbGVjdG9yKCcudG9hc3QtbWVzc2FnZScpO1xyXG4gICAgICAgIGNvbnN0IGljb25FbCA9IHRvYXN0LnF1ZXJ5U2VsZWN0b3IoJy50b2FzdC1pY29uJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRpdGxlRWwpIHRpdGxlRWwudGV4dENvbnRlbnQgPSBvcHRpb25zLnRpdGxlIHx8IHRoaXMuZ2V0RGVmYXVsdFRpdGxlKHR5cGUpO1xyXG4gICAgICAgIGlmIChtZXNzYWdlRWwpIG1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XHJcbiAgICAgICAgaWYgKGljb25FbCkgdGhpcy5zZXRUb2FzdEljb24oaWNvbkVsLCB0eXBlKTtcclxuXHJcbiAgICAgICAgLy8gU2V0dXAgY2xvc2UgYnV0dG9uXHJcbiAgICAgICAgY29uc3QgY2xvc2VCdG4gPSB0b2FzdC5xdWVyeVNlbGVjdG9yKCcudG9hc3QtY2xvc2UnKTtcclxuICAgICAgICBpZiAoY2xvc2VCdG4pIHtcclxuICAgICAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmRpc21pc3MoaWQpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldHVwIGFjdGlvbnNcclxuICAgICAgICBpZiAob3B0aW9ucy5hY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dXBUb2FzdEFjdGlvbnModG9hc3QsIG9wdGlvbnMuYWN0aW9ucywgaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0dXAgcHJvZ3Jlc3MgYmFyIGZvciBhdXRvLWRpc21pc3NcclxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvRGlzbWlzcyAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR1cFByb2dyZXNzQmFyKHRvYXN0LCBvcHRpb25zLmR1cmF0aW9uIHx8IHRoaXMuZGVmYXVsdER1cmF0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0b2FzdDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUb2FzdEljb24oaWNvbkVsLCB0eXBlKSB7XHJcbiAgICAgICAgY29uc3QgaWNvbklkID0gYHRvYXN0LSR7dHlwZX0taWNvbmA7XHJcbiAgICAgICAgY29uc3Qgc291cmNlSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGljb25JZCk7XHJcbiAgICAgICAgaWYgKHNvdXJjZUljb24pIHtcclxuICAgICAgICAgICAgaWNvbkVsLmlubmVySFRNTCA9IHNvdXJjZUljb24uaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICBpY29uRWwuY2xhc3NOYW1lID0gc291cmNlSWNvbi5jbGFzc05hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldHVwVG9hc3RBY3Rpb25zKHRvYXN0LCBhY3Rpb25zLCB0b2FzdElkKSB7XHJcbiAgICAgICAgY29uc3QgYWN0aW9uc0NvbnRhaW5lciA9IHRvYXN0LnF1ZXJ5U2VsZWN0b3IoJy50b2FzdC1hY3Rpb25zJyk7XHJcbiAgICAgICAgaWYgKCFhY3Rpb25zQ29udGFpbmVyIHx8ICFhY3Rpb25zLmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBhY3Rpb25zQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGFjdGlvbnMuZm9yRWFjaCgoYWN0aW9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBhY3Rpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgICAgICBpbmRleCA9PT0gMCA/ICcudG9hc3QtYWN0aW9uLXByaW1hcnknIDogJy50b2FzdC1hY3Rpb24tc2Vjb25kYXJ5J1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoYnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBhY3Rpb24udGV4dDtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5oYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNtaXNzKHRvYXN0SWQpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwUHJvZ3Jlc3NCYXIodG9hc3QsIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NDb250YWluZXIgPSB0b2FzdC5xdWVyeVNlbGVjdG9yKCcudG9hc3QtcHJvZ3Jlc3MtY29udGFpbmVyJyk7XHJcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSB0b2FzdC5xdWVyeVNlbGVjdG9yKCcudG9hc3QtcHJvZ3Jlc3MnKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAocHJvZ3Jlc3NDb250YWluZXIgJiYgcHJvZ3Jlc3NCYXIpIHtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLnNldFByb3BlcnR5KCctLWR1cmF0aW9uJywgYCR7ZHVyYXRpb259bXNgKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9ICcwJSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNtaXNzKGlkKSB7XHJcbiAgICAgICAgY29uc3QgdG9hc3QgPSB0aGlzLnRvYXN0cy5nZXQoaWQpO1xyXG4gICAgICAgIGlmICh0b2FzdCkge1xyXG4gICAgICAgICAgICB0b2FzdC5jbGFzc0xpc3QuYWRkKCd0b2FzdC1yZW1vdmluZycpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRvYXN0LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2FzdHMuZGVsZXRlKGlkKTtcclxuICAgICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGlzbWlzc0FsbCgpIHtcclxuICAgICAgICB0aGlzLnRvYXN0cy5mb3JFYWNoKCh0b2FzdCwgaWQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kaXNtaXNzKGlkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZWZhdWx0VGl0bGUodHlwZSkge1xyXG4gICAgICAgIGNvbnN0IHRpdGxlcyA9IHtcclxuICAgICAgICAgICAgc3VjY2VzczogJ1N1Y2Nlc3MnLFxyXG4gICAgICAgICAgICBlcnJvcjogJ0Vycm9yJywgXHJcbiAgICAgICAgICAgIHdhcm5pbmc6ICdXYXJuaW5nJyxcclxuICAgICAgICAgICAgaW5mbzogJ0luZm8nXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdGl0bGVzW3R5cGVdIHx8ICdOb3RpZmljYXRpb24nO1xyXG4gICAgfVxyXG5cclxuICAgIGFubm91bmNlVG9TY3JlZW5SZWFkZXIobWVzc2FnZSkge1xyXG4gICAgICAgIGNvbnN0IGFubm91bmNlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2FzdC1hbm5vdW5jZW1lbnQnKTtcclxuICAgICAgICBpZiAoYW5ub3VuY2VtZW50KSB7XHJcbiAgICAgICAgICAgIGFubm91bmNlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYW5ub3VuY2VtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy8gTW9kYWwgTWFuYWdlciBDbGFzc1xyXG5jbGFzcyBNb2RhbE1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVNb2RhbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c0ZvY3VzID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKG1vZGFsSWQpIHtcclxuICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpO1xyXG4gICAgICAgIGlmICghbW9kYWwpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5wcmV2aW91c0ZvY3VzID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuICAgICAgICB0aGlzLmFjdGl2ZU1vZGFsID0gbW9kYWw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnbW9kYWwtb3BlbicpO1xyXG4gICAgICAgIG1vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBGb2N1cyBtYW5hZ2VtZW50XHJcbiAgICAgICAgY29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAnYnV0dG9uLCBbaHJlZl0sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknXHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb2N1c2FibGVFbGVtZW50c1swXS5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXNjYXBlIGtleSB0byBjbG9zZVxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZU1vZGFsRXNjYXBlKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBQcmV2ZW50IGJvZHkgc2Nyb2xsXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKG1vZGFsSWQpIHtcclxuICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpO1xyXG4gICAgICAgIGlmICghbW9kYWwpIHJldHVybjtcclxuXHJcbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtb3BlbicpO1xyXG4gICAgICAgIG1vZGFsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlc3RvcmUgZm9jdXNcclxuICAgICAgICBpZiAodGhpcy5wcmV2aW91c0ZvY3VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNGb2N1cy5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZU1vZGFsRXNjYXBlKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXN0b3JlIGJvZHkgc2Nyb2xsXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWN0aXZlTW9kYWwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucHJldmlvdXNGb2N1cyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlTW9kYWxFc2NhcGUgPSAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScgJiYgdGhpcy5hY3RpdmVNb2RhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKHRoaXMuYWN0aXZlTW9kYWwuaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy8gU2Nyb2xsIE1hbmFnZXIgQ2xhc3NcclxuY2xhc3MgU2Nyb2xsTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnByb2dyZXNzQmFyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmJhY2tUb1RvcEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrLXRvLXRvcCcpO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsVGhyZXNob2xkID0gMzAwO1xyXG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFByb2dyZXNzQmFyKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLnByb2dyZXNzQmFyID0gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTY3JvbGwoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRpY2tpbmcpIHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2Nyb2xsUHJvZ3Jlc3MoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQmFja1RvVG9wQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVNjcm9sbFByb2dyZXNzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmVzc0JhcikgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XHJcbiAgICAgICAgY29uc3QgZG9jSGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICBjb25zdCBzY3JvbGxlZCA9IChzY3JvbGxUb3AgLyBkb2NIZWlnaHQpICogMTAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBgJHtNYXRoLm1pbihzY3JvbGxlZCwgMTAwKX0lYDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVCYWNrVG9Ub3BCdXR0b24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJhY2tUb1RvcEJ0bikgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBzaG91bGRTaG93ID0gd2luZG93LnBhZ2VZT2Zmc2V0ID4gdGhpcy5zY3JvbGxUaHJlc2hvbGQ7XHJcbiAgICAgICAgdGhpcy5iYWNrVG9Ub3BCdG4uY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJsZScsIHNob3VsZFNob3cpO1xyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbFRvVG9wKCkge1xyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XHJcbiAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2Nyb2xsVG9FbGVtZW50KGVsZW1lbnQsIG9mZnNldCA9IDgwKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudFBvc2l0aW9uID0gZWxlbWVudC5vZmZzZXRUb3AgLSBvZmZzZXQ7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKHtcclxuICAgICAgICAgICAgdG9wOiBlbGVtZW50UG9zaXRpb24sXHJcbiAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBMb2FkaW5nIE1hbmFnZXIgQ2xhc3NcclxuY2xhc3MgTG9hZGluZ01hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRpbmctb3ZlcmxheScpO1xyXG4gICAgICAgIHRoaXMubG9hZGluZ01lc3NhZ2VzID0gW1xyXG4gICAgICAgICAgICAnTG9hZGluZyBjb250ZW50Li4uJyxcclxuICAgICAgICAgICAgJ1ByZXBhcmluZyB5b3VyIGV4cGVyaWVuY2UuLi4nLFxyXG4gICAgICAgICAgICAnQWxtb3N0IHJlYWR5Li4uJyxcclxuICAgICAgICAgICAgJ0p1c3QgYSBtb21lbnQuLi4nXHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRNZXNzYWdlSW5kZXggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3cobWVzc2FnZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5vdmVybGF5KSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLW1lc3NhZ2UnKTtcclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2VFbCkgbWVzc2FnZUVsLnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XHJcbiAgICAgICAgdGhpcy5hbm5vdW5jZVRvU2NyZWVuUmVhZGVyKCdMb2FkaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMub3ZlcmxheSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLm92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGVJbml0aWFsTG9hZGVyKCkge1xyXG4gICAgICAgIC8vIEhpZGUgYW55IGluaXRpYWwgcGFnZSBsb2FkZXJcclxuICAgICAgICBjb25zdCBpbml0aWFsTG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluaXRpYWwtbG9hZGVyJyk7XHJcbiAgICAgICAgaWYgKGluaXRpYWxMb2FkZXIpIHtcclxuICAgICAgICAgICAgaW5pdGlhbExvYWRlci5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGluaXRpYWxMb2FkZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVByb2dyZXNzKHBlcmNlbnQpIHtcclxuICAgICAgICBjb25zdCBwcm9ncmVzc0JhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLXByb2dyZXNzJyk7XHJcbiAgICAgICAgaWYgKHByb2dyZXNzQmFyKSB7XHJcbiAgICAgICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudH0lYDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRpbmctbWVzc2FnZScpO1xyXG4gICAgICAgIGlmIChtZXNzYWdlRWwpIHtcclxuICAgICAgICAgICAgbWVzc2FnZUVsLnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3ljbGVNZXNzYWdlcyhpbnRlcnZhbCA9IDIwMDApIHtcclxuICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE1lc3NhZ2VJbmRleCA9ICh0aGlzLmN1cnJlbnRNZXNzYWdlSW5kZXggKyAxKSAlIHRoaXMubG9hZGluZ01lc3NhZ2VzLmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlKHRoaXMubG9hZGluZ01lc3NhZ2VzW3RoaXMuY3VycmVudE1lc3NhZ2VJbmRleF0pO1xyXG4gICAgICAgIH0sIGludGVydmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyKG1lc3NhZ2UpIHtcclxuICAgICAgICBjb25zdCBhbm5vdW5jZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZy1hbm5vdW5jZW1lbnQnKTtcclxuICAgICAgICBpZiAoYW5ub3VuY2VtZW50KSB7XHJcbiAgICAgICAgICAgIGFubm91bmNlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBTZWFyY2ggTWFuYWdlciBDbGFzc1xyXG5jbGFzcyBTZWFyY2hNYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLW1vZGFsJyk7XHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtaW5wdXQnKTtcclxuICAgICAgICB0aGlzLnJlc3VsdHNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLXJlc3VsdHMnKTtcclxuICAgICAgICB0aGlzLmRlYm91bmNlVGltZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFF1ZXJ5ID0gJyc7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubW9kYWwgfHwgIXRoaXMuaW5wdXQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuZGVib3VuY2UoKGUpID0+IHRoaXMuaGFuZGxlSW5wdXQoZS50YXJnZXQudmFsdWUpLCAzMDApKTtcclxuICAgICAgICB0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gdGhpcy5oYW5kbGVLZXlkb3duKGUpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTZXR1cCBmaWx0ZXIgYnV0dG9uc1xyXG4gICAgICAgIGNvbnN0IGZpbHRlcnMgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWFyY2gtZmlsdGVyJyk7XHJcbiAgICAgICAgZmlsdGVycy5mb3JFYWNoKGZpbHRlciA9PiB7XHJcbiAgICAgICAgICAgIGZpbHRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB0aGlzLmhhbmRsZUZpbHRlckNsaWNrKGUudGFyZ2V0KSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFNldHVwIHN1Z2dlc3Rpb25zXHJcbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWFyY2gtc3VnZ2VzdGlvbicpO1xyXG4gICAgICAgIHN1Z2dlc3Rpb25zLmZvckVhY2goc3VnZ2VzdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIHN1Z2dlc3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IGUudGFyZ2V0LnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVJbnB1dChlLnRhcmdldC50ZXh0Q29udGVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1vZGFsKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LmFkZCgnc2VhcmNoLW1vZGFsLW9wZW4nKTtcclxuICAgICAgICB0aGlzLm1vZGFsLnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICAgICAgdGhpcy5tb2RhbC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLmlucHV0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuZm9jdXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNob3cgcmVjZW50IHNlYXJjaGVzIGluaXRpYWxseVxyXG4gICAgICAgIHRoaXMuc2hvd1JlY2VudFNlYXJjaGVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1vZGFsKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMubW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnc2VhcmNoLW1vZGFsLW9wZW4nKTtcclxuICAgICAgICB0aGlzLm1vZGFsLnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcbiAgICAgICAgdGhpcy5tb2RhbC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jbGVhclJlc3VsdHMoKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAtMTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVJbnB1dChxdWVyeSkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFF1ZXJ5ID0gcXVlcnkudHJpbSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLmRlYm91bmNlVGltZXIpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VUaW1lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRlYm91bmNlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFF1ZXJ5Lmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1TZWFyY2godGhpcy5jdXJyZW50UXVlcnkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93UmVjZW50U2VhcmNoZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDMwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlS2V5ZG93bihlKSB7XHJcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xyXG4gICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gTWF0aC5taW4odGhpcy5zZWxlY3RlZEluZGV4ICsgMSwgdGhpcy5yZXN1bHRzLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdBcnJvd1VwJzpcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IE1hdGgubWF4KHRoaXMuc2VsZWN0ZWRJbmRleCAtIDEsIC0xKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnRW50ZXInOlxyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RSZXN1bHQodGhpcy5zZWxlY3RlZEluZGV4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdFc2NhcGUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUZpbHRlckNsaWNrKGZpbHRlckJ0bikge1xyXG4gICAgICAgIC8vIFVwZGF0ZSBhY3RpdmUgZmlsdGVyXHJcbiAgICAgICAgdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VhcmNoLWZpbHRlcicpLmZvckVhY2goYnRuID0+IHtcclxuICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZpbHRlckJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgLy8gUmUtcnVuIHNlYXJjaCB3aXRoIG5ldyBmaWx0ZXJcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UXVlcnkpIHtcclxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtU2VhcmNoKHRoaXMuY3VycmVudFF1ZXJ5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcGVyZm9ybVNlYXJjaChxdWVyeSkge1xyXG4gICAgICAgIHRoaXMuc2hvd0xvYWRpbmcoKTtcclxuICAgICAgICBcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVGaWx0ZXIgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtZmlsdGVyLmFjdGl2ZScpPy5kYXRhc2V0LmZpbHRlciB8fCAnYWxsJztcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL3NlYXJjaC8/cT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9JmZpbHRlcj0ke2FjdGl2ZUZpbHRlcn1gLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JyxcclxuICAgICAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMgPSBkYXRhLnJlc3VsdHMgfHwgW107XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVJlc3VsdHModGhpcy5yZXN1bHRzKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFNhdmUgdG8gcmVjZW50IHNlYXJjaGVzXHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVJlY2VudFNlYXJjaChxdWVyeSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NlYXJjaCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKCdTZWFyY2ggdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUnKTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVMb2FkaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dMb2FkaW5nKCkge1xyXG4gICAgICAgIGNvbnN0IGxvYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWxvYWRpbmcnKTtcclxuICAgICAgICBpZiAobG9hZGluZykgbG9hZGluZy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCByZWNlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLXJlY2VudCcpO1xyXG4gICAgICAgIGlmIChyZWNlbnQpIHJlY2VudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZGVMb2FkaW5nKCkge1xyXG4gICAgICAgIGNvbnN0IGxvYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWxvYWRpbmcnKTtcclxuICAgICAgICBpZiAobG9hZGluZykgbG9hZGluZy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5UmVzdWx0cyhyZXN1bHRzKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJlc3VsdHNDb250YWluZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5yZXN1bHRzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93Tm9SZXN1bHRzKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHRFbCA9IHRoaXMuY3JlYXRlUmVzdWx0RWxlbWVudChyZXN1bHQsIGluZGV4KTtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHRzQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlc3VsdEVsKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSGlkZSBvdGhlciBzZWN0aW9uc1xyXG4gICAgICAgIGNvbnN0IHJlY2VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtcmVjZW50Jyk7XHJcbiAgICAgICAgY29uc3Qgbm9SZXN1bHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1uby1yZXN1bHRzJyk7XHJcbiAgICAgICAgaWYgKHJlY2VudCkgcmVjZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgaWYgKG5vUmVzdWx0cykgbm9SZXN1bHRzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVJlc3VsdEVsZW1lbnQocmVzdWx0LCBpbmRleCkge1xyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1yZXN1bHQtdGVtcGxhdGUnKTtcclxuICAgICAgICBpZiAoIXRlbXBsYXRlKSByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKS5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLXJlc3VsdCcpO1xyXG4gICAgICAgIGVsZW1lbnQuZGF0YXNldC5pbmRleCA9IGluZGV4O1xyXG5cclxuICAgICAgICAvLyBGaWxsIGluIHJlc3VsdCBkYXRhXHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXN1bHQtdGl0bGUnKTtcclxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnJlc3VsdC1kZXNjcmlwdGlvbicpO1xyXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdWx0LWNhdGVnb3J5Jyk7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnJlc3VsdC1kYXRlJyk7XHJcbiAgICAgICAgY29uc3QgaWNvbiA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnJlc3VsdC1pY29uJyk7XHJcblxyXG4gICAgICAgIGlmICh0aXRsZSkgdGl0bGUudGV4dENvbnRlbnQgPSByZXN1bHQudGl0bGU7XHJcbiAgICAgICAgaWYgKGRlc2NyaXB0aW9uKSBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHJlc3VsdC5kZXNjcmlwdGlvbjtcclxuICAgICAgICBpZiAoY2F0ZWdvcnkpIGNhdGVnb3J5LnRleHRDb250ZW50ID0gcmVzdWx0LmNhdGVnb3J5O1xyXG4gICAgICAgIGlmIChkYXRlKSBkYXRlLnRleHRDb250ZW50ID0gcmVzdWx0LmRhdGU7XHJcbiAgICAgICAgaWYgKGljb24pIHRoaXMuc2V0UmVzdWx0SWNvbihpY29uLCByZXN1bHQudHlwZSk7XHJcblxyXG4gICAgICAgIC8vIENsaWNrIGhhbmRsZXJcclxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zZWxlY3RSZXN1bHQoaW5kZXgpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UmVzdWx0SWNvbihpY29uRWwsIHR5cGUpIHtcclxuICAgICAgICBjb25zdCBpY29ucyA9IHtcclxuICAgICAgICAgICAgYmxvZzogJzxzdmcgY2xhc3M9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTUuMjMyIDUuMjMybDMuNTM2IDMuNTM2bS0yLjAzNi01LjAzNmEyLjUgMi41IDAgMTEzLjUzNiAzLjUzNkw2LjUgMjEuMDM2SDN2LTMuNTcyTDE2LjczMiAzLjczMnpcIj48L3BhdGg+PC9zdmc+JyxcclxuICAgICAgICAgICAgcHJvamVjdDogJzxzdmcgY2xhc3M9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTkuNDI4IDE1LjQyOGEyIDIgMCAwMC0xLjAyMi0uNTQ3bC0yLjM4Ny0uNDc3YTYgNiAwIDAwLTMuODYuNTE3bC0uMzE4LjE1OGE2IDYgMCAwMS0zLjg2LjUxN0w2LjA1IDE1LjIxYTIgMiAwIDAwLTEuODA2LjU0N004IDRoOGwtMSAxdjUuMTcyYTIgMiAwIDAwLjU4NiAxLjQxNGw1IDVjMS4yNiAxLjI2LjM2NyAzLjQxNC0xLjQxNSAzLjQxNEg0LjgyOGMtMS43ODIgMC0yLjY3NC0yLjE1NC0xLjQxNC0zLjQxNGw1LTVBMiAyIDAgMDA5IDEwLjE3MlY1TDggNHpcIj48L3BhdGg+PC9zdmc+JyxcclxuICAgICAgICAgICAgdG9vbDogJzxzdmcgY2xhc3M9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAuMzI1IDQuMzE3Yy40MjYtMS43NTYgMi45MjQtMS43NTYgMy4zNSAwYTEuNzI0IDEuNzI0IDAgMDAyLjU3MyAxLjA2NmMxLjU0My0uOTQgMy4zMS44MjYgMi4zNyAyLjM3YTEuNzI0IDEuNzI0IDAgMDAxLjA2NSAyLjU3MmMxLjc1Ni40MjYgMS43NTYgMi45MjQgMCAzLjM1YTEuNzI0IDEuNzI0IDAgMDAtMS4wNjYgMi41NzNjLjk0IDEuNTQzLS44MjYgMy4zMS0yLjM3IDIuMzdhMS43MjQgMS43MjQgMCAwMC0yLjU3MiAxLjA2NWMtLjQyNiAxLjc1Ni0yLjkyNCAxLjc1Ni0zLjM1IDBhMS43MjQgMS43MjQgMCAwMC0yLjU3My0xLjA2NmMtMS41NDMuOTQtMy4zMS0uODI2LTIuMzctMi4zN2ExLjcyNCAxLjcyNCAwIDAwLTEuMDY1LTIuNTcyYy0xLjc1Ni0uNDI2LTEuNzU2LTIuOTI0IDAtMy4zNWExLjcyNCAxLjcyNCAwIDAwMS4wNjYtMi41NzNjLS45NC0xLjU0My44MjYtMy4zMSAyLjM3LTIuMzcuOTk2LjYwOCAyLjI5Ni4wNyAyLjU3Mi0xLjA2NXpcIj48L3BhdGg+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTUgMTJhMyAzIDAgMTEtNiAwIDMgMyAwIDAxNiAwelwiPjwvcGF0aD48L3N2Zz4nXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpY29uRWwuaW5uZXJIVE1MID0gaWNvbnNbdHlwZV0gfHwgaWNvbnMuYmxvZztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTZWxlY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMucmVzdWx0c0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuc2VhcmNoLXJlc3VsdCcpO1xyXG4gICAgICAgIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICByZXN1bHQuY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0ZWQnLCBpbmRleCA9PT0gdGhpcy5zZWxlY3RlZEluZGV4KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RSZXN1bHQoaW5kZXgpIHtcclxuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMucmVzdWx0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHRzW2luZGV4XTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXN1bHQudXJsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93Tm9SZXN1bHRzKCkge1xyXG4gICAgICAgIGNvbnN0IG5vUmVzdWx0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtbm8tcmVzdWx0cycpO1xyXG4gICAgICAgIGlmIChub1Jlc3VsdHMpIG5vUmVzdWx0cy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93RXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgIC8vIEltcGxlbWVudGF0aW9uIGZvciBzaG93aW5nIGVycm9yIG1lc3NhZ2VcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdTZWFyY2ggZXJyb3I6JywgbWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1JlY2VudFNlYXJjaGVzKCkge1xyXG4gICAgICAgIGNvbnN0IHJlY2VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtcmVjZW50Jyk7XHJcbiAgICAgICAgaWYgKHJlY2VudCkgcmVjZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIExvYWQgYW5kIGRpc3BsYXkgcmVjZW50IHNlYXJjaGVzIGZyb20gbG9jYWxTdG9yYWdlXHJcbiAgICAgICAgY29uc3QgcmVjZW50U2VhcmNoZXMgPSB0aGlzLmdldFJlY2VudFNlYXJjaGVzKCk7XHJcbiAgICAgICAgY29uc3QgbGlzdENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNlbnQtc2VhcmNoZXMtbGlzdCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChsaXN0Q29udGFpbmVyICYmIHJlY2VudFNlYXJjaGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGlzdENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgcmVjZW50U2VhcmNoZXMuZm9yRWFjaChzZWFyY2ggPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAndGV4dC1sZWZ0IHRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS0zMDAgaG92ZXI6dGV4dC1ncmF5LTkwMCBkYXJrOmhvdmVyOnRleHQtd2hpdGUgcHktMSc7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnRleHRDb250ZW50ID0gc2VhcmNoO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gc2VhcmNoO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlSW5wdXQoc2VhcmNoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChpdGVtKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNhdmVSZWNlbnRTZWFyY2gocXVlcnkpIHtcclxuICAgICAgICBsZXQgcmVjZW50ID0gdGhpcy5nZXRSZWNlbnRTZWFyY2hlcygpO1xyXG4gICAgICAgIHJlY2VudCA9IHJlY2VudC5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSBxdWVyeSk7XHJcbiAgICAgICAgcmVjZW50LnVuc2hpZnQocXVlcnkpO1xyXG4gICAgICAgIHJlY2VudCA9IHJlY2VudC5zbGljZSgwLCA1KTsgLy8gS2VlcCBvbmx5IDUgcmVjZW50IHNlYXJjaGVzXHJcbiAgICAgICAgXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JlY2VudFNlYXJjaGVzJywgSlNPTi5zdHJpbmdpZnkocmVjZW50KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVjZW50U2VhcmNoZXMoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JlY2VudFNlYXJjaGVzJykgfHwgJ1tdJyk7XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJSZWNlbnRTZWFyY2hlcygpIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVjZW50U2VhcmNoZXMnKTtcclxuICAgICAgICB0aGlzLnNob3dSZWNlbnRTZWFyY2hlcygpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBBbmltYXRpb24gTWFuYWdlciBDbGFzc1xyXG5jbGFzcyBBbmltYXRpb25NYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBJbnRlcnNlY3Rpb25PYnNlcnZlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKSB7XHJcbiAgICAgICAgaWYgKCEoJ0ludGVyc2VjdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cpKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIHJvb3Q6IG51bGwsXHJcbiAgICAgICAgICAgIHJvb3RNYXJnaW46ICctMTAlIDBweCcsXHJcbiAgICAgICAgICAgIHRocmVzaG9sZDogMC4xXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxPYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xyXG4gICAgICAgICAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyQW5pbWF0aW9uKGVudHJ5LnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRpYWxpemVTY3JvbGxBbmltYXRpb25zKCkge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYW5pbWF0ZV0nKTtcclxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbE9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJpZ2dlckFuaW1hdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uVHlwZSA9IGVsZW1lbnQuZGF0YXNldC5hbmltYXRlO1xyXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gZWxlbWVudC5kYXRhc2V0LmRlbGF5IHx8IDA7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGFuaW1hdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2ZhZGUtaW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZS1mYWRlLWluJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzbGlkZS11cCc6XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLXNsaWRlLXVwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzbGlkZS1pbi1sZWZ0JzpcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtc2xpZGUtaW4tbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2xpZGUtaW4tcmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZS1zbGlkZS1pbi1yaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2NhbGUtaW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZS1zY2FsZS1pbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZGVsYXkpO1xyXG5cclxuICAgICAgICAvLyBTdG9wIG9ic2VydmluZyB0aGlzIGVsZW1lbnRcclxuICAgICAgICB0aGlzLnNjcm9sbE9ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTY3JvbGxBbmltYXRpb25zKCkge1xyXG4gICAgICAgIC8vIEhhbmRsZSBzY3JvbGwtYmFzZWQgYW5pbWF0aW9ucyB0aGF0IG5lZWQgY29udGludW91cyB1cGRhdGVzXHJcbiAgICB9XHJcblxyXG4gICAgdHJpZ2dlckRlbGF5ZWRBbmltYXRpb25zKCkge1xyXG4gICAgICAgIC8vIFRyaWdnZXIgYW5pbWF0aW9ucyB0aGF0IHNob3VsZCBoYXBwZW4gYWZ0ZXIgcGFnZSBsb2FkXHJcbiAgICAgICAgY29uc3QgZGVsYXllZEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYW5pbWF0ZS1kZWxheV0nKTtcclxuICAgICAgICBkZWxheWVkRWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSBwYXJzZUludChlbGVtZW50LmRhdGFzZXQuYW5pbWF0ZURlbGF5KSB8fCAwO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZS1mYWRlLWluJyk7XHJcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gS2V5Ym9hcmQgTWFuYWdlciBDbGFzc1xyXG5jbGFzcyBLZXlib2FyZE1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zaG9ydGN1dHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5zZXR1cEdsb2JhbFNob3J0Y3V0cygpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwR2xvYmFsU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIC8vIFNlYXJjaCBzaG9ydGN1dFxyXG4gICAgICAgIHRoaXMuYWRkU2hvcnRjdXQoJ2N0cmwraycsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy51aUVuaGFuY2VtZW50cz8uc2VhcmNoTWFuYWdlcikge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnVpRW5oYW5jZW1lbnRzLnNlYXJjaE1hbmFnZXIub3BlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEVzY2FwZSB0byBjbG9zZSBtb2RhbHNcclxuICAgICAgICB0aGlzLmFkZFNob3J0Y3V0KCdlc2NhcGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cudWlFbmhhbmNlbWVudHM/Lm1vZGFsTWFuYWdlcj8uYWN0aXZlTW9kYWwpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy51aUVuaGFuY2VtZW50cy5tb2RhbE1hbmFnZXIuY2xvc2UoXHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnVpRW5oYW5jZW1lbnRzLm1vZGFsTWFuYWdlci5hY3RpdmVNb2RhbC5pZFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAod2luZG93LnVpRW5oYW5jZW1lbnRzPy5zZWFyY2hNYW5hZ2VyPy5tb2RhbD8uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWFyY2gtbW9kYWwtb3BlbicpKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cudWlFbmhhbmNlbWVudHMuc2VhcmNoTWFuYWdlci5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkU2hvcnRjdXQoa2V5LCBoYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5zaG9ydGN1dHMuc2V0KGtleS50b0xvd2VyQ2FzZSgpLCBoYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmdldEtleVN0cmluZyhlKTtcclxuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuc2hvcnRjdXRzLmdldChrZXkpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIERvbid0IHRyaWdnZXIgc2hvcnRjdXRzIHdoZW4gdHlwaW5nIGluIGlucHV0c1xyXG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdJTlBVVCcgfHwgZS50YXJnZXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgYWxsb3cgZXNjYXBlIGtleSBpbiBpbnB1dHNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnZXNjYXBlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEtleVN0cmluZyhlKSB7XHJcbiAgICAgICAgbGV0IGtleSA9IGUua2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGUuY3RybEtleSkga2V5ID0gYGN0cmwrJHtrZXl9YDtcclxuICAgICAgICBpZiAoZS5hbHRLZXkpIGtleSA9IGBhbHQrJHtrZXl9YDtcclxuICAgICAgICBpZiAoZS5zaGlmdEtleSAmJiBrZXkubGVuZ3RoID4gMSkga2V5ID0gYHNoaWZ0KyR7a2V5fWA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGtleTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gVGhlbWUgTWFuYWdlciBDbGFzc1xyXG5jbGFzcyBUaGVtZU1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VGhlbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKSB8fCAnZGFyayc7XHJcbiAgICAgICAgdGhpcy5hcHBseVRoZW1lKHRoaXMuY3VycmVudFRoZW1lKTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVUaGVtZSgpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRUaGVtZSA9IHRoaXMuY3VycmVudFRoZW1lID09PSAnbGlnaHQnID8gJ2RhcmsnIDogJ2xpZ2h0JztcclxuICAgICAgICB0aGlzLmFwcGx5VGhlbWUodGhpcy5jdXJyZW50VGhlbWUpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsIHRoaXMuY3VycmVudFRoZW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseVRoZW1lKHRoZW1lKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsIHRoZW1lKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBVcGRhdGUgdGhlbWUgY29sb3IgbWV0YSB0YWdcclxuICAgICAgICBjb25zdCB0aGVtZUNvbG9yTWV0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cInRoZW1lLWNvbG9yXCJdJyk7XHJcbiAgICAgICAgaWYgKHRoZW1lQ29sb3JNZXRhKSB7XHJcbiAgICAgICAgICAgIHRoZW1lQ29sb3JNZXRhLnNldEF0dHJpYnV0ZSgnY29udGVudCcsIHRoZW1lID09PSAnZGFyaycgPyAnIzBmMTcyYScgOiAnI2ZmZmZmZicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRUaGVtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VGhlbWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGhlbWUodGhlbWUpIHtcclxuICAgICAgICBpZiAoWydsaWdodCcsICdkYXJrJ10uaW5jbHVkZXModGhlbWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFRoZW1lID0gdGhlbWU7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUaGVtZSh0aGVtZSk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsIHRoZW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEdsb2JhbCBGdW5jdGlvbnNcclxud2luZG93LnRvZ2dsZVNlYXJjaE1vZGFsID0gKCkgPT4ge1xyXG4gICAgaWYgKCF3aW5kb3cudWlFbmhhbmNlbWVudHMpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3Qgc2VhcmNoTWFuYWdlciA9IHdpbmRvdy51aUVuaGFuY2VtZW50cy5zZWFyY2hNYW5hZ2VyO1xyXG4gICAgY29uc3QgaXNPcGVuID0gc2VhcmNoTWFuYWdlci5tb2RhbD8uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWFyY2gtbW9kYWwtb3BlbicpO1xyXG4gICAgXHJcbiAgICBpZiAoaXNPcGVuKSB7XHJcbiAgICAgICAgc2VhcmNoTWFuYWdlci5jbG9zZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzZWFyY2hNYW5hZ2VyLm9wZW4oKTtcclxuICAgIH1cclxufTtcclxuXHJcbndpbmRvdy5jbG9zZVNlYXJjaE1vZGFsID0gKCkgPT4ge1xyXG4gICAgaWYgKHdpbmRvdy51aUVuaGFuY2VtZW50cz8uc2VhcmNoTWFuYWdlcikge1xyXG4gICAgICAgIHdpbmRvdy51aUVuaGFuY2VtZW50cy5zZWFyY2hNYW5hZ2VyLmNsb3NlKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG53aW5kb3cuY2xlYXJSZWNlbnRTZWFyY2hlcyA9ICgpID0+IHtcclxuICAgIGlmICh3aW5kb3cudWlFbmhhbmNlbWVudHM/LnNlYXJjaE1hbmFnZXIpIHtcclxuICAgICAgICB3aW5kb3cudWlFbmhhbmNlbWVudHMuc2VhcmNoTWFuYWdlci5jbGVhclJlY2VudFNlYXJjaGVzKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG53aW5kb3cuc2hvd1RvYXN0ID0gKG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycsIG9wdGlvbnMgPSB7fSkgPT4ge1xyXG4gICAgaWYgKHdpbmRvdy51aUVuaGFuY2VtZW50cz8udG9hc3RNYW5hZ2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy51aUVuaGFuY2VtZW50cy50b2FzdE1hbmFnZXIuc2hvdyhtZXNzYWdlLCB0eXBlLCBvcHRpb25zKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8vIEluaXRpYWxpemUgVUkgRW5oYW5jZW1lbnRzXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XHJcbiAgICB3aW5kb3cudWlFbmhhbmNlbWVudHMgPSBuZXcgVUlFbmhhbmNlbWVudHMoKTtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBzZWFyY2ggbWFuYWdlclxyXG4gICAgaWYgKHdpbmRvdy51aUVuaGFuY2VtZW50cy5zZWFyY2hNYW5hZ2VyKSB7XHJcbiAgICAgICAgd2luZG93LnVpRW5oYW5jZW1lbnRzLnNlYXJjaE1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnVUkgRW5oYW5jZW1lbnRzIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xyXG59KTtcclxuXHJcbi8vIEV4cG9ydCBmb3IgbW9kdWxlIHVzYWdlXHJcbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7IFVJRW5oYW5jZW1lbnRzLCBUb2FzdE1hbmFnZXIsIE1vZGFsTWFuYWdlciwgU2Nyb2xsTWFuYWdlciwgTG9hZGluZ01hbmFnZXIsIFNlYXJjaE1hbmFnZXIsIEFuaW1hdGlvbk1hbmFnZXIsIEtleWJvYXJkTWFuYWdlciwgVGhlbWVNYW5hZ2VyIH07XHJcbn0iXSwibmFtZXMiOlsiVUlFbmhhbmNlbWVudHMiLCJjb25zdHJ1Y3RvciIsImluaXQiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwiaW5pdGlhbGl6ZUNvbXBvbmVudHMiLCJ0b2FzdE1hbmFnZXIiLCJUb2FzdE1hbmFnZXIiLCJtb2RhbE1hbmFnZXIiLCJNb2RhbE1hbmFnZXIiLCJzY3JvbGxNYW5hZ2VyIiwiU2Nyb2xsTWFuYWdlciIsImxvYWRpbmdNYW5hZ2VyIiwiTG9hZGluZ01hbmFnZXIiLCJzZWFyY2hNYW5hZ2VyIiwiU2VhcmNoTWFuYWdlciIsImFuaW1hdGlvbk1hbmFnZXIiLCJBbmltYXRpb25NYW5hZ2VyIiwia2V5Ym9hcmRNYW5hZ2VyIiwiS2V5Ym9hcmRNYW5hZ2VyIiwidGhlbWVNYW5hZ2VyIiwiVGhlbWVNYW5hZ2VyIiwiZG9jdW1lbnQiLCJyZWFkeVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uRE9NUmVhZHkiLCJ3aW5kb3ciLCJvbldpbmRvd0xvYWQiLCJvbldpbmRvd1Jlc2l6ZSIsInRocm90dGxlIiwib25XaW5kb3dTY3JvbGwiLCJwYXNzaXZlIiwib25WaXNpYmlsaXR5Q2hhbmdlIiwib25OZXR3b3JrQ2hhbmdlIiwic2V0dXBCYWNrVG9Ub3AiLCJzZXR1cFNjcm9sbFByb2dyZXNzIiwic2V0dXBJbWFnZUxhenlMb2FkaW5nIiwic2V0dXBGb3JtRW5oYW5jZW1lbnRzIiwic2V0dXBDYXJkSW50ZXJhY3Rpb25zIiwic2V0dXBOYXZpZ2F0aW9uRW5oYW5jZW1lbnRzIiwic2V0dXBBY2Nlc3NpYmlsaXR5RmVhdHVyZXMiLCJjb25zb2xlIiwibG9nIiwiaW5pdGlhbGl6ZVNjcm9sbEFuaW1hdGlvbnMiLCJoaWRlSW5pdGlhbExvYWRlciIsInRyaWdnZXJEZWxheWVkQW5pbWF0aW9ucyIsInVwZGF0ZVNjcm9sbFByb2dyZXNzIiwic2Nyb2xsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJoYW5kbGVTY3JvbGwiLCJoYW5kbGVTY3JvbGxBbmltYXRpb25zIiwiaGlkZGVuIiwicGF1c2VBbmltYXRpb25zIiwicmVzdW1lQW5pbWF0aW9ucyIsImlzT25saW5lIiwibWVzc2FnZSIsInR5cGUiLCJzaG93IiwiYmFja1RvVG9wQnRuIiwiZ2V0RWxlbWVudEJ5SWQiLCJlIiwicHJldmVudERlZmF1bHQiLCJzY3JvbGxUb1RvcCIsInByb2dyZXNzQmFyIiwic2V0UHJvZ3Jlc3NCYXIiLCJfX2ltZ0xhenlPd25lciIsImltYWdlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvYnNlcnZlck9wdGlvbnMiLCJyb290Iiwicm9vdE1hcmdpbiIsInRocmVzaG9sZCIsImltYWdlT2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJvYnNlcnZlciIsImZvckVhY2giLCJlbnRyeSIsImlzSW50ZXJzZWN0aW5nIiwiaW1nIiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwiZGF0YXNldCIsImZhbGxiYWNrIiwic3JjIiwic3R5bGUiLCJkaXNwbGF5Iiwid2FybiIsInVub2JzZXJ2ZSIsIm9ic2VydmUiLCJmb3JtcyIsImZvcm0iLCJlbmhhbmNlRm9ybSIsImlucHV0cyIsImlucHV0IiwiYWRkRmxvYXRpbmdMYWJlbCIsInZhbGlkYXRlSW5wdXQiLCJjbGVhclZhbGlkYXRpb25FcnJvcnMiLCJoYW5kbGVGb3JtU3VibWl0IiwiY29udGFpbmVyIiwiY2xvc2VzdCIsImxhYmVsIiwicXVlcnlTZWxlY3RvciIsInZhbHVlIiwiaXNWYWxpZCIsImNoZWNrVmFsaWRpdHkiLCJ0b2dnbGUiLCJpc0Zvcm1WYWxpZCIsInN1Ym1pdEJ0biIsImRpc2FibGVkIiwiY2FyZHMiLCJjYXJkIiwiY2xpZW50WCIsImNsaWVudFkiLCJsZWZ0IiwidG9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsInkiLCJzZXRQcm9wZXJ0eSIsImNyZWF0ZVJpcHBsZUVmZmVjdCIsImVsZW1lbnQiLCJyaXBwbGUiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJzaXplIiwiTWF0aCIsIm1heCIsImNzc1RleHQiLCJwb3NpdGlvbiIsIm92ZXJmbG93IiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0Q29udGVudCIsImhlYWQiLCJzZXRUaW1lb3V0IiwibGVuZ3RoIiwibGluayIsImdldEF0dHJpYnV0ZSIsInNjcm9sbFRvRWxlbWVudCIsImhpZ2hsaWdodEFjdGl2ZU5hdmlnYXRpb24iLCJuYXZMaW5rcyIsImN1cnJlbnRQYXRoIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImtleSIsImJvZHkiLCJza2lwTGlua3MiLCJmb2N1cyIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJ0b2FzdHMiLCJNYXAiLCJkZWZhdWx0RHVyYXRpb24iLCJvcHRpb25zIiwiaWQiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJ0b2FzdCIsImNyZWF0ZVRvYXN0Iiwic2V0IiwiYXV0b0Rpc21pc3MiLCJkaXNtaXNzIiwiZHVyYXRpb24iLCJhbm5vdW5jZVRvU2NyZWVuUmVhZGVyIiwidGVtcGxhdGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwic2V0QXR0cmlidXRlIiwidGl0bGVFbCIsIm1lc3NhZ2VFbCIsImljb25FbCIsInRpdGxlIiwiZ2V0RGVmYXVsdFRpdGxlIiwic2V0VG9hc3RJY29uIiwiY2xvc2VCdG4iLCJhY3Rpb25zIiwic2V0dXBUb2FzdEFjdGlvbnMiLCJzZXR1cFByb2dyZXNzQmFyIiwiaWNvbklkIiwic291cmNlSWNvbiIsImlubmVySFRNTCIsImNsYXNzTmFtZSIsInRvYXN0SWQiLCJhY3Rpb25zQ29udGFpbmVyIiwiYWN0aW9uIiwiaW5kZXgiLCJidXR0b24iLCJ0ZXh0Iiwib25jbGljayIsImhhbmRsZXIiLCJwcm9ncmVzc0NvbnRhaW5lciIsImdldCIsImRlbGV0ZSIsImRpc21pc3NBbGwiLCJ0aXRsZXMiLCJzdWNjZXNzIiwiZXJyb3IiLCJ3YXJuaW5nIiwiaW5mbyIsImFubm91bmNlbWVudCIsImFjdGl2ZU1vZGFsIiwicHJldmlvdXNGb2N1cyIsIm9wZW4iLCJtb2RhbElkIiwibW9kYWwiLCJhY3RpdmVFbGVtZW50IiwiZm9jdXNhYmxlRWxlbWVudHMiLCJoYW5kbGVNb2RhbEVzY2FwZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNjcm9sbFRocmVzaG9sZCIsInRpY2tpbmciLCJ1cGRhdGVCYWNrVG9Ub3BCdXR0b24iLCJzY3JvbGxUb3AiLCJwYWdlWU9mZnNldCIsImRvY0hlaWdodCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbEhlaWdodCIsImlubmVySGVpZ2h0Iiwic2Nyb2xsZWQiLCJtaW4iLCJzaG91bGRTaG93Iiwic2Nyb2xsVG8iLCJvZmZzZXQiLCJlbGVtZW50UG9zaXRpb24iLCJvZmZzZXRUb3AiLCJvdmVybGF5IiwibG9hZGluZ01lc3NhZ2VzIiwiY3VycmVudE1lc3NhZ2VJbmRleCIsImhpZGUiLCJpbml0aWFsTG9hZGVyIiwib3BhY2l0eSIsInVwZGF0ZVByb2dyZXNzIiwicGVyY2VudCIsInVwZGF0ZU1lc3NhZ2UiLCJjeWNsZU1lc3NhZ2VzIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInJlc3VsdHNDb250YWluZXIiLCJkZWJvdW5jZVRpbWVyIiwiY3VycmVudFF1ZXJ5Iiwic2VsZWN0ZWRJbmRleCIsInJlc3VsdHMiLCJpbml0aWFsaXplIiwiZGVib3VuY2UiLCJoYW5kbGVJbnB1dCIsImhhbmRsZUtleWRvd24iLCJmaWx0ZXJzIiwiZmlsdGVyIiwiaGFuZGxlRmlsdGVyQ2xpY2siLCJzdWdnZXN0aW9ucyIsInN1Z2dlc3Rpb24iLCJ2aXNpYmlsaXR5Iiwic2hvd1JlY2VudFNlYXJjaGVzIiwiY2xlYXJSZXN1bHRzIiwicXVlcnkiLCJ0cmltIiwiY2xlYXJUaW1lb3V0IiwicGVyZm9ybVNlYXJjaCIsInVwZGF0ZVNlbGVjdGlvbiIsInNlbGVjdFJlc3VsdCIsImZpbHRlckJ0biIsImJ0biIsInNob3dMb2FkaW5nIiwiYWN0aXZlRmlsdGVyIiwicmVzcG9uc2UiLCJmZXRjaCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsIkVycm9yIiwic3RhdHVzIiwiZGF0YSIsImpzb24iLCJkaXNwbGF5UmVzdWx0cyIsInNhdmVSZWNlbnRTZWFyY2giLCJzaG93RXJyb3IiLCJoaWRlTG9hZGluZyIsImxvYWRpbmciLCJyZWNlbnQiLCJzaG93Tm9SZXN1bHRzIiwicmVzdWx0IiwicmVzdWx0RWwiLCJjcmVhdGVSZXN1bHRFbGVtZW50Iiwibm9SZXN1bHRzIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsImRhdGUiLCJpY29uIiwic2V0UmVzdWx0SWNvbiIsImljb25zIiwiYmxvZyIsInByb2plY3QiLCJ0b29sIiwiaHJlZiIsInVybCIsInJlY2VudFNlYXJjaGVzIiwiZ2V0UmVjZW50U2VhcmNoZXMiLCJsaXN0Q29udGFpbmVyIiwic2VhcmNoIiwiaXRlbSIsInVuc2hpZnQiLCJzbGljZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwicGFyc2UiLCJnZXRJdGVtIiwiY2xlYXJSZWNlbnRTZWFyY2hlcyIsInJlbW92ZUl0ZW0iLCJvYnNlcnZlcnMiLCJzZXR1cEludGVyc2VjdGlvbk9ic2VydmVyIiwic2Nyb2xsT2JzZXJ2ZXIiLCJ0cmlnZ2VyQW5pbWF0aW9uIiwiZWxlbWVudHMiLCJhbmltYXRpb25UeXBlIiwiYW5pbWF0ZSIsImRlbGF5IiwiZGVsYXllZEVsZW1lbnRzIiwicGFyc2VJbnQiLCJhbmltYXRlRGVsYXkiLCJzaG9ydGN1dHMiLCJzZXR1cEdsb2JhbFNob3J0Y3V0cyIsImFkZFNob3J0Y3V0IiwidWlFbmhhbmNlbWVudHMiLCJjb250YWlucyIsInRvTG93ZXJDYXNlIiwiZ2V0S2V5U3RyaW5nIiwidGFnTmFtZSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsImN1cnJlbnRUaGVtZSIsImFwcGx5VGhlbWUiLCJ0b2dnbGVUaGVtZSIsInRoZW1lIiwidGhlbWVDb2xvck1ldGEiLCJnZXRUaGVtZSIsInNldFRoZW1lIiwiaW5jbHVkZXMiLCJ0b2dnbGVTZWFyY2hNb2RhbCIsImlzT3BlbiIsImNsb3NlU2VhcmNoTW9kYWwiLCJzaG93VG9hc3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///497\n\n}");

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__(497));
/******/ }
]);