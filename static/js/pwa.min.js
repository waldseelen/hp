class PWAManager{constructor(){this.init()}async init(){if("serviceWorker"in navigator)try{const n=await navigator.serviceWorker.register("/static/js/sw.js",{scope:"/"});n.scope,n.addEventListener("updatefound",()=>{const e=n.installing;e.addEventListener("statechange",()=>{"installed"===e.state&&navigator.serviceWorker.controller&&this.showUpdateNotification()})})}catch(n){console.error("Service Worker registration failed:",n)}this.handleInstallPrompt(),this.handleNetworkStatus()}handleInstallPrompt(){let n;window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),n=e,this.showInstallButton(n)}),window.addEventListener("appinstalled",()=>{this.hideInstallButton()})}showInstallButton(n){const e=document.createElement("button");e.className="pwa-install-btn",e.innerHTML='\n            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>\n                <polyline points="7,10 12,15 17,10"/>\n                <line x1="12" y1="15" x2="12" y2="3"/>\n            </svg>\n            UygulamayÄ± YÃ¼kle\n        ',e.addEventListener("click",async()=>{n.prompt();const{outcome:e}=await n.userChoice;n=null}),e.style.cssText="\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: linear-gradient(135deg, #4f46e5, #7c3aed);\n            color: white;\n            border: none;\n            padding: 12px 20px;\n            border-radius: 50px;\n            font-weight: 600;\n            cursor: pointer;\n            box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);\n            z-index: 1000;\n            display: flex;\n            align-items: center;\n            gap: 8px;\n            transition: transform 0.2s ease;\n        ",e.addEventListener("mouseenter",()=>{e.style.transform="translateY(-2px)"}),e.addEventListener("mouseleave",()=>{e.style.transform="translateY(0)"}),document.body.appendChild(e)}hideInstallButton(){const n=document.querySelector(".pwa-install-btn");n&&n.remove()}showUpdateNotification(){const n=document.createElement("div");n.className="pwa-update-notification",n.innerHTML='\n            <div class="update-content">\n                <div class="update-icon">ðŸ”„</div>\n                <div class="update-text">\n                    <strong>Yeni gÃ¼ncelleme mevcut!</strong>\n                    <p>UygulamayÄ± yenilemek iÃ§in tÄ±klayÄ±n</p>\n                </div>\n                <button class="update-btn" onclick="window.location.reload()">Yenile</button>\n                <button class="dismiss-btn" onclick="this.parentElement.parentElement.remove()">Ã—</button>\n            </div>\n        ',n.style.cssText="\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background: white;\n            border-radius: 12px;\n            box-shadow: 0 8px 25px rgba(0,0,0,0.1);\n            z-index: 1001;\n            max-width: 350px;\n            animation: slideIn 0.3s ease;\n        ";const e=document.createElement("style");e.textContent="\n            @keyframes slideIn {\n                from { transform: translateX(100%); }\n                to { transform: translateX(0); }\n            }\n            .update-content {\n                padding: 20px;\n                display: flex;\n                align-items: center;\n                gap: 15px;\n            }\n            .update-icon {\n                font-size: 24px;\n            }\n            .update-text strong {\n                color: #1f2937;\n                font-size: 14px;\n            }\n            .update-text p {\n                margin: 4px 0 0 0;\n                color: #6b7280;\n                font-size: 12px;\n            }\n            .update-btn {\n                background: #4f46e5;\n                color: white;\n                border: none;\n                padding: 8px 16px;\n                border-radius: 6px;\n                font-size: 12px;\n                cursor: pointer;\n                margin-left: auto;\n            }\n            .dismiss-btn {\n                background: none;\n                border: none;\n                font-size: 20px;\n                cursor: pointer;\n                color: #9ca3af;\n                margin-left: 8px;\n            }\n        ",document.head.appendChild(e),document.body.appendChild(n),setTimeout(()=>{n.parentElement&&n.remove()},1e4)}handleNetworkStatus(){const n=n=>{const e=document.querySelector(".network-status")||document.createElement("div");e.className="network-status",e.style.cssText=`\n                position: fixed;\n                top: 0;\n                left: 0;\n                right: 0;\n                padding: 8px 16px;\n                text-align: center;\n                font-size: 14px;\n                font-weight: 600;\n                z-index: 1002;\n                transition: transform 0.3s ease;\n                ${n?"background: #10b981; color: white; transform: translateY(-100%);":"background: #ef4444; color: white; transform: translateY(0);"}\n            `,e.textContent=n?"BaÄŸlantÄ± geri geldi!":"Ä°nternet baÄŸlantÄ±sÄ± yok - Offline modda Ã§alÄ±ÅŸÄ±yor",document.querySelector(".network-status")||document.body.appendChild(e),n&&setTimeout(()=>{e.style.transform="translateY(-100%)",setTimeout(()=>e.remove(),300)},2e3)};window.addEventListener("online",()=>n(!0)),window.addEventListener("offline",()=>n(!1))}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{new PWAManager}):new PWAManager;
//# sourceMappingURL=pwa.min.js.map