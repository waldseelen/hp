class UIEnhancements{constructor(){this.init(),this.setupEventListeners(),this.initializeComponents()}init(){this.toastManager=new ToastManager,this.modalManager=new ModalManager,this.scrollManager=new ScrollManager,this.loadingManager=new LoadingManager,this.searchManager=new SearchManager,this.animationManager=new AnimationManager,this.keyboardManager=new KeyboardManager,this.themeManager=new ThemeManager}setupEventListeners(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.onDOMReady()):this.onDOMReady(),window.addEventListener("load",()=>this.onWindowLoad()),window.addEventListener("resize",()=>this.onWindowResize()),window.addEventListener("scroll",()=>this.onWindowScroll(),{passive:!0}),document.addEventListener("visibilitychange",()=>this.onVisibilityChange()),window.addEventListener("online",()=>this.onNetworkChange(!0)),window.addEventListener("offline",()=>this.onNetworkChange(!1))}initializeComponents(){this.setupBackToTop(),this.setupScrollProgress(),this.setupFormEnhancements(),this.setupCardInteractions(),this.setupNavigationEnhancements(),this.setupAccessibilityFeatures()}onDOMReady(){this.animationManager.initializeScrollAnimations(),this.loadingManager.hideInitialLoader()}onWindowLoad(){this.animationManager.triggerDelayedAnimations()}onWindowResize(){this.scrollManager.updateScrollProgress()}onWindowScroll(){this.scrollManager.handleScroll(),this.animationManager.handleScrollAnimations()}onVisibilityChange(){document.hidden?this.pauseAnimations():this.resumeAnimations()}onNetworkChange(e){const t=e?"Connection restored":"Connection lost",s=e?"success":"warning";this.toastManager.show(t,s)}setupBackToTop(){const e=document.getElementById("back-to-top");e&&e.addEventListener("click",e=>{e.preventDefault(),this.scrollManager.scrollToTop()})}setupScrollProgress(){const e=document.getElementById("scroll-progress");e&&this.scrollManager.setProgressBar(e)}setupFormEnhancements(){document.querySelectorAll("form").forEach(e=>{this.enhanceForm(e)})}enhanceForm(e){e.querySelectorAll("input, textarea, select").forEach(e=>{this.addFloatingLabel(e),e.addEventListener("blur",()=>this.validateInput(e)),e.addEventListener("input",()=>this.clearValidationErrors(e))}),e.addEventListener("submit",t=>this.handleFormSubmit(t,e))}addFloatingLabel(e){const t=e.closest(".form-group");if(!t)return;const s=t.querySelector("label");s&&(e.addEventListener("focus",()=>s.classList.add("focused")),e.addEventListener("blur",()=>{e.value||s.classList.remove("focused")}),e.value&&s.classList.add("focused"))}validateInput(e){const t=e.checkValidity(),s=e.closest(".form-group");return s&&(s.classList.toggle("has-error",!t),s.classList.toggle("has-success",t&&e.value)),t}clearValidationErrors(e){const t=e.closest(".form-group");t&&t.classList.remove("has-error")}handleFormSubmit(e,t){const s=t.querySelectorAll("input[required], textarea[required], select[required]");let n=!0;if(s.forEach(e=>{this.validateInput(e)||(n=!1)}),!n)return e.preventDefault(),void this.toastManager.show("Please fill in all required fields","error");const a=t.querySelector('[type="submit"]');a&&(a.classList.add("btn-loading"),a.disabled=!0)}setupCardInteractions(){document.querySelectorAll(".card-interactive").forEach(e=>{e.addEventListener("mousemove",t=>{const s=e.getBoundingClientRect(),n=t.clientX-s.left,a=t.clientY-s.top;e.style.setProperty("--mouse-x",`${n}px`),e.style.setProperty("--mouse-y",`${a}px`)}),e.addEventListener("click",t=>{this.createRippleEffect(t,e)})})}createRippleEffect(e,t){const s=document.createElement("span"),n=t.getBoundingClientRect(),a=Math.max(n.width,n.height),o=e.clientX-n.left-a/2,i=e.clientY-n.top-a/2;s.style.cssText=`\n            width: ${a}px;\n            height: ${a}px;\n            left: ${o}px;\n            top: ${i}px;\n            position: absolute;\n            border-radius: 50%;\n            background: rgba(255, 255, 255, 0.1);\n            transform: scale(0);\n            animation: ripple 0.6s linear;\n            pointer-events: none;\n            z-index: 1;\n        `,t.style.position="relative",t.style.overflow="hidden",t.appendChild(s);const r=document.createElement("style");r.textContent="\n            @keyframes ripple {\n                to {\n                    transform: scale(2);\n                    opacity: 0;\n                }\n            }\n        ",document.head.appendChild(r),setTimeout(()=>{s.remove(),0===t.querySelectorAll("span").length&&r.remove()},600)}setupNavigationEnhancements(){document.addEventListener("click",e=>{const t=e.target.closest('a[href^="#"]');if(t&&"#"!==t.getAttribute("href")){e.preventDefault();const s=document.querySelector(t.getAttribute("href"));s&&this.scrollManager.scrollToElement(s)}}),this.highlightActiveNavigation()}highlightActiveNavigation(){const e=document.querySelectorAll(".nav-link"),t=window.location.pathname;e.forEach(e=>{e.getAttribute("href")===t&&e.classList.add("active")})}setupAccessibilityFeatures(){document.addEventListener("keydown",e=>{"Tab"===e.key&&document.body.classList.add("keyboard-navigation")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-navigation")});document.querySelectorAll(".skip-link").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=document.querySelector(e.getAttribute("href"));s&&(s.focus(),s.scrollIntoView({behavior:"smooth"}))})})}pauseAnimations(){document.body.classList.add("animations-paused")}resumeAnimations(){document.body.classList.remove("animations-paused")}}class ToastManager{constructor(){this.container=document.getElementById("toast-container"),this.toasts=new Map,this.defaultDuration=5e3}show(e,t="info",s={}){const n=Date.now().toString(),a=this.createToast(n,e,t,s);return this.container&&(this.container.appendChild(a),this.toasts.set(n,a),requestAnimationFrame(()=>{a.classList.add("toast-entering")}),!1!==s.autoDismiss&&setTimeout(()=>{this.dismiss(n)},s.duration||this.defaultDuration),this.announceToScreenReader(e)),n}createToast(e,t,s,n){const a=document.getElementById("toast-template");if(!a)return null;const o=a.content.cloneNode(!0).querySelector(".toast-notification");o.setAttribute("data-toast-id",e),o.classList.add(`toast-${s}`);const i=o.querySelector(".toast-title"),r=o.querySelector(".toast-message"),c=o.querySelector(".toast-icon");i&&(i.textContent=n.title||this.getDefaultTitle(s)),r&&(r.textContent=t),c&&this.setToastIcon(c,s);const l=o.querySelector(".toast-close");return l&&l.addEventListener("click",()=>this.dismiss(e)),n.actions&&this.setupToastActions(o,n.actions,e),!1!==n.autoDismiss&&this.setupProgressBar(o,n.duration||this.defaultDuration),o}setToastIcon(e,t){const s=`toast-${t}-icon`,n=document.getElementById(s);n&&(e.innerHTML=n.innerHTML,e.className=n.className)}setupToastActions(e,t,s){const n=e.querySelector(".toast-actions");n&&t.length&&(n.classList.remove("hidden"),t.forEach((e,t)=>{const a=n.querySelector(0===t?".toast-action-primary":".toast-action-secondary");a&&(a.textContent=e.text,a.onclick=()=>{e.handler(),this.dismiss(s)})}))}setupProgressBar(e,t){const s=e.querySelector(".toast-progress-container"),n=e.querySelector(".toast-progress");s&&n&&(s.classList.remove("hidden"),n.style.setProperty("--duration",`${t}ms`),requestAnimationFrame(()=>{n.style.width="0%"}))}dismiss(e){const t=this.toasts.get(e);t&&(t.classList.add("toast-removing"),setTimeout(()=>{t.remove(),this.toasts.delete(e)},300))}dismissAll(){this.toasts.forEach((e,t)=>{this.dismiss(t)})}getDefaultTitle(e){return{success:"Success",error:"Error",warning:"Warning",info:"Info"}[e]||"Notification"}announceToScreenReader(e){const t=document.getElementById("toast-announcement");t&&(t.textContent=e,setTimeout(()=>{t.textContent=""},1e3))}}class ModalManager{constructor(){this.activeModal=null,this.previousFocus=null}open(e){const t=document.getElementById(e);if(!t)return;this.previousFocus=document.activeElement,this.activeModal=t,t.classList.add("modal-open"),t.setAttribute("aria-hidden","false");const s=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');s.length>0&&s[0].focus(),document.addEventListener("keydown",this.handleModalEscape),document.body.style.overflow="hidden"}close(e){const t=document.getElementById(e);t&&(t.classList.remove("modal-open"),t.setAttribute("aria-hidden","true"),this.previousFocus&&this.previousFocus.focus(),document.removeEventListener("keydown",this.handleModalEscape),document.body.style.overflow="",this.activeModal=null,this.previousFocus=null)}handleModalEscape=e=>{"Escape"===e.key&&this.activeModal&&this.close(this.activeModal.id)}}class ScrollManager{constructor(){this.progressBar=null,this.backToTopBtn=document.getElementById("back-to-top"),this.scrollThreshold=300,this.ticking=!1}setProgressBar(e){this.progressBar=e}handleScroll(){this.ticking||(requestAnimationFrame(()=>{this.updateScrollProgress(),this.updateBackToTopButton(),this.ticking=!1}),this.ticking=!0)}updateScrollProgress(){if(!this.progressBar)return;const e=window.pageYOffset/(document.documentElement.scrollHeight-window.innerHeight)*100;this.progressBar.style.width=`${Math.min(e,100)}%`}updateBackToTopButton(){if(!this.backToTopBtn)return;const e=window.pageYOffset>this.scrollThreshold;this.backToTopBtn.classList.toggle("visible",e)}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}scrollToElement(e,t=80){const s=e.offsetTop-t;window.scrollTo({top:s,behavior:"smooth"})}}class LoadingManager{constructor(){this.overlay=document.getElementById("loading-overlay"),this.loadingMessages=["Loading content...","Preparing your experience...","Almost ready...","Just a moment..."],this.currentMessageIndex=0}show(e){if(this.overlay){if(e){const t=document.getElementById("loading-message");t&&(t.textContent=e)}this.overlay.classList.add("show"),this.announceToScreenReader("Loading")}}hide(){this.overlay&&this.overlay.classList.remove("show")}hideInitialLoader(){const e=document.querySelector(".initial-loader");e&&(e.style.opacity="0",setTimeout(()=>{e.remove()},300))}updateProgress(e){const t=document.getElementById("loading-progress");t&&(t.style.width=`${e}%`)}updateMessage(e){const t=document.getElementById("loading-message");t&&(t.textContent=e)}cycleMessages(e=2e3){setInterval(()=>{this.currentMessageIndex=(this.currentMessageIndex+1)%this.loadingMessages.length,this.updateMessage(this.loadingMessages[this.currentMessageIndex])},e)}announceToScreenReader(e){const t=document.getElementById("loading-announcement");t&&(t.textContent=e)}}class SearchManager{constructor(){this.modal=document.getElementById("search-modal"),this.input=document.getElementById("search-input"),this.resultsContainer=document.getElementById("search-results"),this.debounceTimer=null,this.currentQuery="",this.selectedIndex=-1,this.results=[]}initialize(){if(!this.modal||!this.input)return;this.input.addEventListener("input",e=>this.handleInput(e.target.value)),this.input.addEventListener("keydown",e=>this.handleKeydown(e));this.modal.querySelectorAll(".search-filter").forEach(e=>{e.addEventListener("click",e=>this.handleFilterClick(e.target))});this.modal.querySelectorAll(".search-suggestion").forEach(e=>{e.addEventListener("click",e=>{this.input.value=e.target.textContent,this.handleInput(e.target.textContent)})})}open(){this.modal&&(this.modal.classList.add("search-modal-open"),this.modal.style.opacity="1",this.modal.style.visibility="visible",this.input&&this.input.focus(),this.showRecentSearches())}close(){this.modal&&(this.modal.classList.remove("search-modal-open"),this.modal.style.opacity="0",this.modal.style.visibility="hidden",this.clearResults(),this.selectedIndex=-1)}handleInput(e){this.currentQuery=e.trim(),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.currentQuery.length>=2?this.performSearch(this.currentQuery):this.showRecentSearches()},300)}handleKeydown(e){switch(e.key){case"ArrowDown":e.preventDefault(),this.selectedIndex=Math.min(this.selectedIndex+1,this.results.length-1),this.updateSelection();break;case"ArrowUp":e.preventDefault(),this.selectedIndex=Math.max(this.selectedIndex-1,-1),this.updateSelection();break;case"Enter":e.preventDefault(),this.selectedIndex>=0&&this.selectResult(this.selectedIndex);break;case"Escape":this.close()}}handleFilterClick(e){this.modal.querySelectorAll(".search-filter").forEach(e=>{e.classList.remove("active")}),e.classList.add("active"),this.currentQuery&&this.performSearch(this.currentQuery)}async performSearch(e){this.showLoading();try{const t=this.modal.querySelector(".search-filter.active")?.dataset.filter||"all",s=await fetch(`/search/?q=${encodeURIComponent(e)}&filter=${t}`,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();this.results=n.results||[],this.displayResults(this.results),this.saveRecentSearch(e)}catch(e){console.error("Search error:",e),this.showError("Search temporarily unavailable")}finally{this.hideLoading()}}showLoading(){const e=document.getElementById("search-loading");e&&e.classList.remove("hidden");const t=document.getElementById("search-recent");t&&(t.style.display="none")}hideLoading(){const e=document.getElementById("search-loading");e&&e.classList.add("hidden")}displayResults(e){if(!this.resultsContainer)return;if(this.resultsContainer.innerHTML="",0===e.length)return void this.showNoResults();e.forEach((e,t)=>{const s=this.createResultElement(e,t);this.resultsContainer.appendChild(s)});const t=document.getElementById("search-recent"),s=document.getElementById("search-no-results");t&&(t.style.display="none"),s&&s.classList.add("hidden")}createResultElement(e,t){const s=document.getElementById("search-result-template");if(!s)return document.createElement("div");const n=s.content.cloneNode(!0).querySelector(".search-result");n.dataset.index=t;const a=n.querySelector(".result-title"),o=n.querySelector(".result-description"),i=n.querySelector(".result-category"),r=n.querySelector(".result-date"),c=n.querySelector(".result-icon");return a&&(a.textContent=e.title),o&&(o.textContent=e.description),i&&(i.textContent=e.category),r&&(r.textContent=e.date),c&&this.setResultIcon(c,e.type),n.addEventListener("click",()=>this.selectResult(t)),n}setResultIcon(e,t){const s={blog:'<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>',project:'<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg>',tool:'<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>'};e.innerHTML=s[t]||s.blog}updateSelection(){this.resultsContainer.querySelectorAll(".search-result").forEach((e,t)=>{e.classList.toggle("selected",t===this.selectedIndex)})}selectResult(e){if(e>=0&&e<this.results.length){const t=this.results[e];window.location.href=t.url}}showNoResults(){const e=document.getElementById("search-no-results");e&&e.classList.remove("hidden")}showError(e){console.error("Search error:",e)}showRecentSearches(){const e=document.getElementById("search-recent");e&&(e.style.display="block");const t=this.getRecentSearches(),s=document.getElementById("recent-searches-list");s&&t.length>0&&(s.innerHTML="",t.forEach(e=>{const t=document.createElement("button");t.className="text-left text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white py-1",t.textContent=e,t.addEventListener("click",()=>{this.input.value=e,this.handleInput(e)}),s.appendChild(t)}))}saveRecentSearch(e){let t=this.getRecentSearches();t=t.filter(t=>t!==e),t.unshift(e),t=t.slice(0,5),localStorage.setItem("recentSearches",JSON.stringify(t))}getRecentSearches(){try{return JSON.parse(localStorage.getItem("recentSearches")||"[]")}catch{return[]}}clearRecentSearches(){localStorage.removeItem("recentSearches"),this.showRecentSearches()}}class AnimationManager{constructor(){this.observers=new Map,this.setupIntersectionObserver()}setupIntersectionObserver(){if(!("IntersectionObserver"in window))return;this.scrollObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&this.triggerAnimation(e.target)})},{root:null,rootMargin:"-10% 0px",threshold:.1})}initializeScrollAnimations(){document.querySelectorAll("[data-animate]").forEach(e=>{this.scrollObserver.observe(e)})}triggerAnimation(e){const t=e.dataset.animate,s=e.dataset.delay||0;setTimeout(()=>{switch(t){case"fade-in":e.classList.add("animate-fade-in");break;case"slide-up":e.classList.add("animate-slide-up");break;case"slide-in-left":e.classList.add("animate-slide-in-left");break;case"slide-in-right":e.classList.add("animate-slide-in-right");break;case"scale-in":e.classList.add("animate-scale-in")}},s),this.scrollObserver.unobserve(e)}handleScrollAnimations(){}triggerDelayedAnimations(){document.querySelectorAll("[data-animate-delay]").forEach(e=>{const t=parseInt(e.dataset.animateDelay)||0;setTimeout(()=>{e.classList.add("animate-fade-in")},t)})}}class KeyboardManager{constructor(){this.shortcuts=new Map,this.setupGlobalShortcuts(),this.setupEventListeners()}setupGlobalShortcuts(){this.addShortcut("ctrl+k",()=>{window.uiEnhancements?.searchManager&&window.uiEnhancements.searchManager.open()}),this.addShortcut("escape",()=>{window.uiEnhancements?.modalManager?.activeModal&&window.uiEnhancements.modalManager.close(window.uiEnhancements.modalManager.activeModal.id),window.uiEnhancements?.searchManager?.modal?.classList.contains("search-modal-open")&&window.uiEnhancements.searchManager.close()})}addShortcut(e,t){this.shortcuts.set(e.toLowerCase(),t)}setupEventListeners(){document.addEventListener("keydown",e=>{const t=this.getKeyString(e),s=this.shortcuts.get(t);if(s){if("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)return void("escape"===t&&(e.preventDefault(),s(e)));e.preventDefault(),s(e)}})}getKeyString(e){let t=e.key.toLowerCase();return e.ctrlKey&&(t="ctrl+"+t),e.altKey&&(t="alt+"+t),e.shiftKey&&t.length>1&&(t="shift+"+t),t}}class ThemeManager{constructor(){this.currentTheme=localStorage.getItem("theme")||"dark",this.applyTheme(this.currentTheme)}toggleTheme(){this.currentTheme="light"===this.currentTheme?"dark":"light",this.applyTheme(this.currentTheme),localStorage.setItem("theme",this.currentTheme)}applyTheme(e){document.documentElement.setAttribute("data-theme",e);const t=document.querySelector('meta[name="theme-color"]');t&&t.setAttribute("content","dark"===e?"#0f172a":"#ffffff")}getTheme(){return this.currentTheme}setTheme(e){["light","dark"].includes(e)&&(this.currentTheme=e,this.applyTheme(e),localStorage.setItem("theme",e))}}window.toggleSearchModal=()=>{if(!window.uiEnhancements)return;const e=window.uiEnhancements.searchManager,t=e.modal?.classList.contains("search-modal-open");t?e.close():e.open()},window.closeSearchModal=()=>{window.uiEnhancements?.searchManager&&window.uiEnhancements.searchManager.close()},window.clearRecentSearches=()=>{window.uiEnhancements?.searchManager&&window.uiEnhancements.searchManager.clearRecentSearches()},window.showToast=(e,t="info",s={})=>{if(window.uiEnhancements?.toastManager)return window.uiEnhancements.toastManager.show(e,t,s)},document.addEventListener("DOMContentLoaded",()=>{window.uiEnhancements=new UIEnhancements,window.uiEnhancements.searchManager&&window.uiEnhancements.searchManager.initialize()}),"undefined"!=typeof module&&module.exports&&(module.exports={UIEnhancements:UIEnhancements,ToastManager:ToastManager,ModalManager:ModalManager,ScrollManager:ScrollManager,LoadingManager:LoadingManager,SearchManager:SearchManager,AnimationManager:AnimationManager,KeyboardManager:KeyboardManager,ThemeManager:ThemeManager});
//# sourceMappingURL=ui-enhancements.min.js.map
