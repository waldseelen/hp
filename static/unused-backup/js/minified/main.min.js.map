{"version":3,"file":"main.min.js","names":["initSmoothScrolling","document","querySelectorAll","forEach","anchor","addEventListener","e","preventDefault","target","querySelector","this","getAttribute","scrollIntoView","behavior","block","initFormValidation","form","inputs","submitBtn","input","validateField","clearFieldError","isValid","showLoadingState","submit","field","error","parentElement","remove","initLoadingStates","button","classList","contains","initMobileMenu","menu","toggle","expanded","setAttribute","mobileMenus","menuButtons","Array","from","some","btn","add","initPerformanceOptimizations","window","__imgLazyOwner","scrollTimeout","matchMedia","matches","documentElement","style","setProperty","el","animation","clearTimeout","setTimeout","handleScroll","scrollTop","pageYOffset","navbar","progressBar","scrollProgress","scrollHeight","innerHeight","width","debounce","func","wait","timeout","args","throttle","limit","inThrottle","arguments","apply","initTooltips","element","showTooltip","hideTooltip","text","tooltip","createElement","className","textContent","id","body","appendChild","rect","getBoundingClientRect","left","offsetWidth","top","offsetHeight","getElementById","initScrollProgress","updateProgress","documentHeight","Math","min","opacity","passive","initBackToTop","backToTopBtn","toggleVisibility","shouldShow","visibility","scrollTo","mainContent","focus","initKeyboardShortcuts","shortcuts","KeyK","ctrlKey","metaKey","toggleSearchModal","Escape","searchModal","closeSearchModal","KeyF","searchInput","handler","code","isInputFocused","activeElement","tagName","contentEditable","initNetworkStatus","showNetworkStatus","isOnline","message","type","showToast","duration","initAnimationObserver","animationObserver","IntersectionObserver","entries","entry","isIntersecting","animationType","dataset","animate","delay","parseInt","transform","unobserve","threshold","rootMargin","observe","value","trim","required","hasAttribute","errorMessage","test","URL","replace","minLength","length","maxLength","container","closest","removeAttribute","showFieldError","existingError","errorElement","originalHtml","innerHTML","loadingText","disabled","hideLoadingState","initEnhancedPerformanceOptimizations","scrollTicking","requestAnimationFrame","PerformanceObserver","list","getEntries","entryType","entryTypes","performance","memory","console","group","setInterval","usedJSHeapSize","jsHeapSizeLimit","link","icon","src","alt","gtag","description","fatal","reason","navigator","fetch","then","response","swContent","includes","serviceWorker","register","registration","newWorker","installing","state","controller","autoDismiss","actions","location","reload","catch","err","portfolioUtils"],"sources":["0"],"sourcesContent":["// Main JavaScript for Portfolio Site\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    // Initialize main functionality\r\n    initSmoothScrolling();\r\n    initFormValidation();\r\n    initLoadingStates();\r\n    initMobileMenu();\r\n    initPerformanceOptimizations();\r\n    initEnhancedPerformanceOptimizations();\r\n    // initDarkMode(); // Disabled - now handled by Alpine.js\r\n    initScrollProgress();\r\n    initBackToTop();\r\n    initKeyboardShortcuts();\r\n    initNetworkStatus();\r\n    initAnimationObserver();\r\n});\r\n\r\n// Dark Mode Toggle Functionality - Now handled by Alpine.js\r\n// function initDarkMode() - DEPRECATED - Alpine.js handles this now\r\n\r\n// Smooth Scrolling for Anchor Links\r\nfunction initSmoothScrolling() {\r\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n        anchor.addEventListener('click', function(e) {\r\n            e.preventDefault();\r\n            const target = document.querySelector(this.getAttribute('href'));\r\n            if (target) {\r\n                target.scrollIntoView({\r\n                    behavior: 'smooth',\r\n                    block: 'start'\r\n                });\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n// Form Validation Enhancement\r\nfunction initFormValidation() {\r\n    const forms = document.querySelectorAll('form[data-validate]');\r\n\r\n    forms.forEach(form => {\r\n        const inputs = form.querySelectorAll('input, textarea, select');\r\n        const submitBtn = form.querySelector('[type=\"submit\"]');\r\n\r\n        inputs.forEach(input => {\r\n            input.addEventListener('blur', () => validateField(input));\r\n            input.addEventListener('input', () => clearFieldError(input));\r\n        });\r\n\r\n        form.addEventListener('submit', function(e) {\r\n            e.preventDefault();\r\n\r\n            let isValid = true;\r\n            inputs.forEach(input => {\r\n                if (!validateField(input)) {\r\n                    isValid = false;\r\n                }\r\n            });\r\n\r\n            if (isValid) {\r\n                showLoadingState(submitBtn);\r\n                // Allow form to submit\r\n                this.submit();\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction clearFieldError(field) {\r\n    const error = field.parentElement.querySelector('.form-error');\r\n    if (error) {\r\n        error.remove();\r\n    }\r\n}\r\n\r\n// Loading States for Buttons\r\nfunction initLoadingStates() {\r\n    const loadingButtons = document.querySelectorAll('[data-loading]');\r\n\r\n    loadingButtons.forEach(button => {\r\n        button.addEventListener('click', function() {\r\n            if (!this.classList.contains('loading')) {\r\n                showLoadingState(this);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n\r\n// Mobile Menu Enhancements\r\nfunction initMobileMenu() {\r\n    const mobileMenuButtons = document.querySelectorAll('[data-mobile-menu]');\r\n\r\n    mobileMenuButtons.forEach(button => {\r\n        button.addEventListener('click', function() {\r\n            const menu = document.querySelector(this.getAttribute('data-mobile-menu'));\r\n            if (menu) {\r\n                menu.classList.toggle('hidden');\r\n\r\n                // Update ARIA attributes\r\n                const expanded = !menu.classList.contains('hidden');\r\n                this.setAttribute('aria-expanded', expanded);\r\n            }\r\n        });\r\n    });\r\n\r\n    // Close mobile menu when clicking outside\r\n    document.addEventListener('click', function(e) {\r\n        const mobileMenus = document.querySelectorAll('[data-mobile-menu-content]');\r\n        const menuButtons = document.querySelectorAll('[data-mobile-menu]');\r\n\r\n        mobileMenus.forEach(menu => {\r\n            if (!menu.contains(e.target) && !Array.from(menuButtons).some(btn => btn.contains(e.target))) {\r\n                menu.classList.add('hidden');\r\n                menuButtons.forEach(btn => btn.setAttribute('aria-expanded', 'false'));\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n// Performance Optimizations\r\nfunction initPerformanceOptimizations() {\r\n    // Skip if lazy loading is already handled by enhanced performance monitoring\r\n    if (window.__imgLazyOwner && window.__imgLazyOwner !== 'main') return;\r\n\r\n    // Optimize animations for reduced motion preference\r\n    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {\r\n        document.documentElement.style.setProperty('--animation-duration', '0.01ms');\r\n        document.querySelectorAll('.starfield').forEach(el => {\r\n            el.style.animation = 'none';\r\n        });\r\n    }\r\n\r\n    // Debounce scroll events\r\n    let scrollTimeout;\r\n    window.addEventListener('scroll', function() {\r\n        if (scrollTimeout) {\r\n            clearTimeout(scrollTimeout);\r\n        }\r\n        scrollTimeout = setTimeout(handleScroll, 10);\r\n    });\r\n}\r\n\r\nfunction handleScroll() {\r\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n    const navbar = document.querySelector('nav');\r\n\r\n    // Add/remove navbar background on scroll\r\n    if (navbar) {\r\n        if (scrollTop > 100) {\r\n            navbar.classList.add('bg-gray-900/95');\r\n            navbar.classList.remove('bg-gray-900/90');\r\n        } else {\r\n            navbar.classList.remove('bg-gray-900/95');\r\n            navbar.classList.add('bg-gray-900/90');\r\n        }\r\n    }\r\n\r\n    // Update scroll progress indicator\r\n    const progressBar = document.querySelector('[data-scroll-progress]');\r\n    if (progressBar) {\r\n        const documentHeight = document.documentElement.scrollHeight - window.innerHeight;\r\n        const scrollProgress = (scrollTop / documentHeight) * 100;\r\n        progressBar.style.width = `${scrollProgress}%`;\r\n    }\r\n}\r\n\r\n// Utility Functions\r\nfunction debounce(func, wait) {\r\n    let timeout;\r\n    return function executedFunction(...args) {\r\n        const later = () => {\r\n            clearTimeout(timeout);\r\n            func(...args);\r\n        };\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n    };\r\n}\r\n\r\nfunction throttle(func, limit) {\r\n    let inThrottle;\r\n    return function() {\r\n        const args = arguments;\r\n        const context = this;\r\n        if (!inThrottle) {\r\n            func.apply(context, args);\r\n            inThrottle = true;\r\n            setTimeout(() => inThrottle = false, limit);\r\n        }\r\n    }\r\n}\r\n\r\n// External link handling\r\ndocument.addEventListener('click', function(e) {\r\n    const link = e.target.closest('a[href^=\"http\"]');\r\n    if (link && !link.hasAttribute('target')) {\r\n        link.setAttribute('target', '_blank');\r\n        link.setAttribute('rel', 'noopener noreferrer');\r\n    }\r\n});\r\n\r\n// Show loading for external links\r\ndocument.querySelectorAll('a[href^=\"http\"]').forEach(link => {\r\n    link.addEventListener('click', function() {\r\n        const icon = this.querySelector('.external-link-icon');\r\n        if (icon) {\r\n            icon.classList.add('animate-spin');\r\n            setTimeout(() => {\r\n                icon.classList.remove('animate-spin');\r\n            }, 1000);\r\n        }\r\n    });\r\n});\r\n\r\n// Initialize tooltips (simple implementation)\r\nfunction initTooltips() {\r\n    const tooltipElements = document.querySelectorAll('[data-tooltip]');\r\n\r\n    tooltipElements.forEach(element => {\r\n        element.addEventListener('mouseenter', showTooltip);\r\n        element.addEventListener('mouseleave', hideTooltip);\r\n    });\r\n}\r\n\r\nfunction showTooltip(e) {\r\n    const text = e.target.getAttribute('data-tooltip');\r\n    const tooltip = document.createElement('div');\r\n    tooltip.className = 'absolute z-50 px-2 py-1 text-sm bg-gray-800 text-white rounded shadow-lg pointer-events-none';\r\n    tooltip.textContent = text;\r\n    tooltip.id = 'tooltip';\r\n\r\n    document.body.appendChild(tooltip);\r\n\r\n    const rect = e.target.getBoundingClientRect();\r\n    tooltip.style.left = `${rect.left + (rect.width / 2) - (tooltip.offsetWidth / 2)}px`;\r\n    tooltip.style.top = `${rect.top - tooltip.offsetHeight - 5}px`;\r\n}\r\n\r\nfunction hideTooltip() {\r\n    const tooltip = document.getElementById('tooltip');\r\n    if (tooltip) {\r\n        tooltip.remove();\r\n    }\r\n}\r\n\r\n// Initialize tooltips after DOM load\r\ndocument.addEventListener('DOMContentLoaded', initTooltips);\r\n\r\n\r\n// Enhanced Scroll Progress Indicator\r\nfunction initScrollProgress() {\r\n    const progressBar = document.getElementById('scroll-progress');\r\n    if (!progressBar) return;\r\n\r\n    const updateProgress = throttle(() => {\r\n        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n        const documentHeight = document.documentElement.scrollHeight - window.innerHeight;\r\n        const scrollProgress = Math.min((scrollTop / documentHeight) * 100, 100);\r\n        \r\n        progressBar.style.width = `${scrollProgress}%`;\r\n        progressBar.style.opacity = scrollTop > 100 ? '1' : '0';\r\n    }, 16);\r\n\r\n    window.addEventListener('scroll', updateProgress, { passive: true });\r\n    updateProgress(); // Initial call\r\n}\r\n\r\n// Back to Top Button Functionality\r\nfunction initBackToTop() {\r\n    const backToTopBtn = document.getElementById('back-to-top');\r\n    if (!backToTopBtn) return;\r\n\r\n    const toggleVisibility = throttle(() => {\r\n        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n        const shouldShow = scrollTop > 300;\r\n        \r\n        backToTopBtn.classList.toggle('visible', shouldShow);\r\n        backToTopBtn.style.opacity = shouldShow ? '1' : '0';\r\n        backToTopBtn.style.visibility = shouldShow ? 'visible' : 'hidden';\r\n    }, 100);\r\n\r\n    window.addEventListener('scroll', toggleVisibility, { passive: true });\r\n    \r\n    backToTopBtn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        });\r\n        \r\n        // Focus management after scroll\r\n        setTimeout(() => {\r\n            const mainContent = document.getElementById('main-content');\r\n            if (mainContent) mainContent.focus();\r\n        }, 500);\r\n    });\r\n}\r\n\r\n// Enhanced Keyboard Shortcuts\r\nfunction initKeyboardShortcuts() {\r\n    const shortcuts = {\r\n        'KeyK': (e) => {\r\n            if (e.ctrlKey || e.metaKey) {\r\n                e.preventDefault();\r\n                toggleSearchModal();\r\n            }\r\n        },\r\n        'Escape': (e) => {\r\n            // Close any open modals or overlays\r\n            const searchModal = document.getElementById('search-modal');\r\n            if (searchModal && searchModal.classList.contains('search-modal-open')) {\r\n                closeSearchModal();\r\n            }\r\n            \r\n            const mobileMenus = document.querySelectorAll('[data-mobile-menu-content]:not(.hidden)');\r\n            mobileMenus.forEach(menu => {\r\n                menu.classList.add('hidden');\r\n            });\r\n        },\r\n        'KeyF': (e) => {\r\n            if (e.ctrlKey || e.metaKey) {\r\n                e.preventDefault();\r\n                const searchInput = document.getElementById('search-input');\r\n                if (searchInput) {\r\n                    toggleSearchModal();\r\n                    setTimeout(() => searchInput.focus(), 100);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    document.addEventListener('keydown', (e) => {\r\n        const handler = shortcuts[e.code];\r\n        if (handler && !isInputFocused()) {\r\n            handler(e);\r\n        }\r\n    });\r\n}\r\n\r\nfunction isInputFocused() {\r\n    const activeElement = document.activeElement;\r\n    return activeElement && (\r\n        activeElement.tagName === 'INPUT' ||\r\n        activeElement.tagName === 'TEXTAREA' ||\r\n        activeElement.contentEditable === 'true'\r\n    );\r\n}\r\n\r\n// Network Status Monitoring\r\nfunction initNetworkStatus() {\r\n    const showNetworkStatus = (isOnline) => {\r\n        const message = isOnline ? 'Connection restored' : 'You are offline';\r\n        const type = isOnline ? 'success' : 'warning';\r\n        \r\n        if (window.showToast) {\r\n            window.showToast(message, type, { duration: 3000 });\r\n        } else {\r\n            console.log(`Network Status: ${message}`);\r\n        }\r\n    };\r\n\r\n    window.addEventListener('online', () => showNetworkStatus(true));\r\n    window.addEventListener('offline', () => showNetworkStatus(false));\r\n}\r\n\r\n// Enhanced Animation Observer\r\nfunction initAnimationObserver() {\r\n    if (!('IntersectionObserver' in window)) return;\r\n\r\n    const animationObserver = new IntersectionObserver((entries) => {\r\n        entries.forEach(entry => {\r\n            if (entry.isIntersecting) {\r\n                const element = entry.target;\r\n                const animationType = element.dataset.animate || 'fade-in';\r\n                const delay = parseInt(element.dataset.delay) || 0;\r\n                \r\n                setTimeout(() => {\r\n                    element.classList.add(`animate-${animationType}`);\r\n                    element.style.opacity = '1';\r\n                    element.style.transform = 'none';\r\n                }, delay);\r\n                \r\n                animationObserver.unobserve(element);\r\n            }\r\n        });\r\n    }, {\r\n        threshold: 0.1,\r\n        rootMargin: '0px 0px -50px 0px'\r\n    });\r\n\r\n    // Observe elements with animation data attributes\r\n    document.querySelectorAll('[data-animate]').forEach(element => {\r\n        element.style.opacity = '0';\r\n        element.style.transform = 'translateY(20px)';\r\n        animationObserver.observe(element);\r\n    });\r\n}\r\n\r\n// Enhanced Form Validation with Better UX\r\nfunction validateField(field) {\r\n    const value = field.value.trim();\r\n    const type = field.type;\r\n    const required = field.hasAttribute('required');\r\n    let isValid = true;\r\n    let errorMessage = '';\r\n\r\n    // Clear previous errors\r\n    clearFieldError(field);\r\n\r\n    // Required field validation\r\n    if (required && !value) {\r\n        isValid = false;\r\n        errorMessage = 'This field is required';\r\n    }\r\n    // Email validation with better regex\r\n    else if (type === 'email' && value) {\r\n        const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\r\n        if (!emailRegex.test(value)) {\r\n            isValid = false;\r\n            errorMessage = 'Please enter a valid email address';\r\n        }\r\n    }\r\n    // URL validation\r\n    else if (type === 'url' && value) {\r\n        try {\r\n            new URL(value);\r\n        } catch {\r\n            isValid = false;\r\n            errorMessage = 'Please enter a valid URL';\r\n        }\r\n    }\r\n    // Phone validation\r\n    else if (type === 'tel' && value) {\r\n        const phoneRegex = /^[\\+]?[1-9][\\d]{0,15}$/;\r\n        if (!phoneRegex.test(value.replace(/[\\s\\-\\(\\)]/g, ''))) {\r\n            isValid = false;\r\n            errorMessage = 'Please enter a valid phone number';\r\n        }\r\n    }\r\n    // Minimum length validation\r\n    else if (field.hasAttribute('minlength')) {\r\n        const minLength = parseInt(field.getAttribute('minlength'));\r\n        if (value.length < minLength) {\r\n            isValid = false;\r\n            errorMessage = `Minimum ${minLength} characters required`;\r\n        }\r\n    }\r\n    // Maximum length validation\r\n    else if (field.hasAttribute('maxlength')) {\r\n        const maxLength = parseInt(field.getAttribute('maxlength'));\r\n        if (value.length > maxLength) {\r\n            isValid = false;\r\n            errorMessage = `Maximum ${maxLength} characters allowed`;\r\n        }\r\n    }\r\n\r\n    // Visual feedback\r\n    const container = field.closest('.form-group') || field.parentElement;\r\n    if (container) {\r\n        container.classList.toggle('has-error', !isValid);\r\n        container.classList.toggle('has-success', isValid && value);\r\n    }\r\n\r\n    // Show error if validation failed\r\n    if (!isValid) {\r\n        showFieldError(field, errorMessage);\r\n        field.classList.add('form-input-error');\r\n        field.classList.remove('form-input-success');\r\n        \r\n        // Screen reader announcement\r\n        field.setAttribute('aria-invalid', 'true');\r\n        field.setAttribute('aria-describedby', `${field.id || 'field'}-error`);\r\n    } else if (value) {\r\n        field.classList.remove('form-input-error');\r\n        field.classList.add('form-input-success');\r\n        field.setAttribute('aria-invalid', 'false');\r\n        field.removeAttribute('aria-describedby');\r\n        \r\n        // Remove success styling after delay\r\n        setTimeout(() => {\r\n            field.classList.remove('form-input-success');\r\n        }, 2000);\r\n    }\r\n\r\n    return isValid;\r\n}\r\n\r\n// Enhanced Error Display\r\nfunction showFieldError(field, message) {\r\n    const existingError = field.parentElement.querySelector('.form-error');\r\n    if (!existingError) {\r\n        const errorElement = document.createElement('div');\r\n        errorElement.className = 'form-error text-red-400 text-sm mt-1 animate-slide-down';\r\n        errorElement.textContent = message;\r\n        errorElement.id = `${field.id || 'field'}-error`;\r\n        errorElement.setAttribute('role', 'alert');\r\n        field.parentElement.appendChild(errorElement);\r\n    } else {\r\n        existingError.textContent = message;\r\n    }\r\n}\r\n\r\n// Enhanced Loading State with Progress\r\nfunction showLoadingState(button) {\r\n    const originalHtml = button.innerHTML;\r\n    const loadingText = button.getAttribute('data-loading') || 'Loading...';\r\n\r\n    button.classList.add('btn-loading');\r\n    button.disabled = true;\r\n    button.innerHTML = `\r\n        <svg class=\"loading-spinner loading-spinner-sm mr-2\" viewBox=\"0 0 24 24\">\r\n            <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\" fill=\"none\" class=\"opacity-25\"/>\r\n            <path fill=\"currentColor\" class=\"opacity-75\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"/>\r\n        </svg>\r\n        ${loadingText}\r\n    `;\r\n\r\n    // Store original HTML for restoration\r\n    button.setAttribute('data-original-html', originalHtml);\r\n    \r\n    // Accessibility\r\n    button.setAttribute('aria-busy', 'true');\r\n    button.setAttribute('aria-live', 'polite');\r\n}\r\n\r\nfunction hideLoadingState(button) {\r\n    const originalHtml = button.getAttribute('data-original-html');\r\n    button.classList.remove('btn-loading');\r\n    button.disabled = false;\r\n    if (originalHtml) {\r\n        button.innerHTML = originalHtml;\r\n    }\r\n    button.removeAttribute('data-original-html');\r\n    button.removeAttribute('aria-busy');\r\n    button.removeAttribute('aria-live');\r\n}\r\n\r\n// Enhanced Performance Monitoring\r\nfunction initEnhancedPerformanceOptimizations() {\r\n    // Performance optimizations without lazy loading (handled by performance.js)\r\n    if (window.__imgLazyOwner) return;\r\n\r\n    // Enhanced scroll performance\r\n    let scrollTicking = false;\r\n    const optimizedHandleScroll = () => {\r\n        if (!scrollTicking) {\r\n            requestAnimationFrame(() => {\r\n                handleScroll();\r\n                scrollTicking = false;\r\n            });\r\n            scrollTicking = true;\r\n        }\r\n    };\r\n\r\n    window.addEventListener('scroll', optimizedHandleScroll, { passive: true });\r\n\r\n    // Performance monitoring\r\n    if ('PerformanceObserver' in window) {\r\n        try {\r\n            const observer = new PerformanceObserver((list) => {\r\n                list.getEntries().forEach((entry) => {\r\n                    if (entry.entryType === 'largest-contentful-paint') {\r\n                        console.log('LCP:', entry.startTime);\r\n                    }\r\n                    if (entry.entryType === 'first-input') {\r\n                        console.log('FID:', entry.processingStart - entry.startTime);\r\n                    }\r\n                });\r\n            });\r\n\r\n            observer.observe({ entryTypes: ['largest-contentful-paint', 'first-input'] });\r\n        } catch (e) {\r\n            console.log('Performance Observer not supported');\r\n        }\r\n    }\r\n\r\n    // Memory usage monitoring (development only)\r\n    if (performance.memory && console.group) {\r\n        setInterval(() => {\r\n            const memory = performance.memory;\r\n            if (memory.usedJSHeapSize > memory.jsHeapSizeLimit * 0.9) {\r\n                console.warn('High memory usage detected');\r\n            }\r\n        }, 30000);\r\n    }\r\n}\r\n\r\n// Enhanced Error Handling\r\nwindow.addEventListener('error', function(e) {\r\n    console.error('Global error:', e.error);\r\n    \r\n    if (e.target.tagName === 'IMG') {\r\n        e.target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmaWxsPSIjOWNhM2FmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iMC4zZW0iPkltYWdlIG5vdCBhdmFpbGFibGU8L3RleHQ+PC9zdmc+';\r\n        e.target.alt = 'Image not available';\r\n        e.target.classList.add('error');\r\n    }\r\n    \r\n    // Report error to analytics if available\r\n    if (typeof gtag !== 'undefined') {\r\n        gtag('event', 'exception', {\r\n            description: e.error.message,\r\n            fatal: false\r\n        });\r\n    }\r\n});\r\n\r\n// Unhandled promise rejections\r\nwindow.addEventListener('unhandledrejection', function(e) {\r\n    console.error('Unhandled promise rejection:', e.reason);\r\n    \r\n    // Report to analytics if available\r\n    if (typeof gtag !== 'undefined') {\r\n        gtag('event', 'exception', {\r\n            description: 'Unhandled promise rejection: ' + e.reason,\r\n            fatal: false\r\n        });\r\n    }\r\n});\r\n\r\n// Service Worker registration with enhanced error handling\r\nif ('serviceWorker' in navigator) {\r\n    window.addEventListener('load', function() {\r\n        // Check if service worker file exists and has offline functionality\r\n        fetch('/static/js/sw.js')\r\n            .then(response => response.text())\r\n            .then(swContent => {\r\n                // Only register if the service worker has actual offline functionality\r\n                if (swContent.includes('fetch') && swContent.includes('cache')) {\r\n                    navigator.serviceWorker.register('/static/js/sw.js')\r\n                        .then(function(registration) {\r\n                            console.log('ServiceWorker registration successful');\r\n                            \r\n                            // Listen for updates only if there's actual functionality\r\n                            registration.addEventListener('updatefound', () => {\r\n                                const newWorker = registration.installing;\r\n                                newWorker.addEventListener('statechange', () => {\r\n                                    if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\r\n                                        if (window.showToast) {\r\n                                            window.showToast(\r\n                                                'A new version is available',\r\n                                                'info',\r\n                                                {\r\n                                                    autoDismiss: false,\r\n                                                    actions: [{\r\n                                                        text: 'Reload',\r\n                                                        handler: () => window.location.reload()\r\n                                                    }]\r\n                                                }\r\n                                            );\r\n                                        }\r\n                                    }\r\n                                });\r\n                            });\r\n                        })\r\n                        .catch(function(err) {\r\n                            console.log('ServiceWorker registration failed:', err);\r\n                        });\r\n                } else {\r\n                    console.log('Service worker has no offline functionality, skipping registration');\r\n                }\r\n            })\r\n            .catch(function() {\r\n                console.log('Service worker file not available');\r\n            });\r\n    });\r\n}\r\n\r\n// Add global utilities to window object for external access\r\nwindow.portfolioUtils = {\r\n    showLoadingState,\r\n    hideLoadingState,\r\n    validateField,\r\n    showFieldError,\r\n    clearFieldError,\r\n    debounce,\r\n    throttle\r\n};\r\n"],"mappings":"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","ignoreList":[]}